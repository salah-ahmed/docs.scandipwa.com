{"version":3,"sources":["webpack:///./node_modules/gatsby/node_modules/core-js/internals/define-well-known-symbol.js","webpack:///./node_modules/algoliasearch-helper/src/requestBuilder.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./src/components/Search/useClickOutside.js","webpack:///./node_modules/react-instantsearch-core/dist/es/connectors/connectSearchBox.js","webpack:///./src/templates/components/ExternalLinkSvg/index.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/is-array.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.string.replace.js","webpack:///./node_modules/algoliasearch-helper/src/version.js","webpack:///./src/components/Flex/Flex.js","webpack:///./src/components/Flex/index.js","webpack:///./src/components/LayoutHeader/Header.js","webpack:///./node_modules/algoliasearch-helper/src/algoliasearch.helper.js","webpack:///./src/components/Search/SearchBox.js","webpack:///./node_modules/react-side-effect/lib/index.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/array-species-create.js","webpack:///./src/utils/patchDOMForGoogleTranslate.js","webpack:///./node_modules/algoliasearch-helper/src/functions/formatSort.js","webpack:///./src/components/Search/SearchResult.js","webpack:///./node_modules/algoliasearch/dist/algoliasearch-lite.umd.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/utils.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack:///./node_modules/algoliasearch-helper/src/functions/merge.js","webpack:///./node_modules/algoliasearch-helper/src/functions/find.js","webpack:///./src/components/TitleAndMetaTags/TitleAndMetaTags.js","webpack:///./src/components/TitleAndMetaTags/index.js","webpack:///./node_modules/shallowequal/index.js","webpack:///./node_modules/algoliasearch-helper/src/SearchParameters/RefinementList.js","webpack:///./src/components/LayoutFooter/FooterLink.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.regexp.to-string.js","webpack:///./src/components/Search/SearchResultTitles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/create-html.js","webpack:///./node_modules/algoliasearch-helper/src/DerivedHelper/index.js","webpack:///./src/components/Search/Search.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.symbol.async-iterator.js","webpack:///./node_modules/algoliasearch-helper/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/extends.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/createConnector.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/highlight.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/createInstantSearchManager.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/version.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/createWidgetsManager.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/createStore.js","webpack:///./node_modules/react-instantsearch-core/dist/es/widgets/InstantSearch.js","webpack:///./src/components/LayoutFooter/SectionLinks.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/array-from.js","webpack:///./node_modules/algoliasearch-helper/src/functions/inherits.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.array.from.js","webpack:///./node_modules/react-helmet/lib/Helmet.js","webpack:///./node_modules/algoliasearch-helper/src/SearchParameters/index.js","webpack:///./content/languages.yml","webpack:///./node_modules/algoliasearch-helper/src/functions/intersection.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/indexUtils.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.function.name.js","webpack:///./src/components/LayoutFooter/Footer.js","webpack:///./node_modules/react-instantsearch-core/dist/es/connectors/connectHits.js","webpack:///./src/components/LayoutFooter/FooterNav.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/string-html-forced.js","webpack:///./src/components/LayoutFooter/index.js","webpack:///./src/components/LayoutHeader/index.js","webpack:///./node_modules/algoliasearch-helper/src/functions/compact.js","webpack:///./src/components/Layout/index.js","webpack:///./src/components/Container/Container.js","webpack:///./src/site-constants.js","webpack:///./src/components/Container/index.js","webpack:///./node_modules/react-fast-compare/index.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/well-known-symbol-wrapped.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.symbol.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/create-property.js","webpack:///./node_modules/node-libs-browser/node_modules/events/events.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./src/images/search.png","webpack:///./node_modules/algoliasearch-helper/src/functions/objectHasKeys.js","webpack:///./node_modules/react-helmet/lib/HelmetConstants.js","webpack:///./node_modules/gatsby/node_modules/core-js/modules/es.string.small.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/algoliasearch-helper/src/functions/defaultsPure.js","webpack:///./node_modules/algoliasearch-helper/src/SearchResults/generate-hierarchical-tree.js","webpack:///./node_modules/algoliasearch-helper/src/functions/valToNumber.js","webpack:///./node_modules/algoliasearch-helper/src/functions/findIndex.js","webpack:///./node_modules/gatsby/node_modules/core-js/internals/object-get-own-property-names-external.js","webpack:///./node_modules/algoliasearch-helper/src/functions/omit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/react-instantsearch-core/dist/es/core/context.js","webpack:///./node_modules/algoliasearch-helper/src/SearchResults/index.js","webpack:///./node_modules/react-helmet/lib/HelmetUtils.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./content/footerNav.yml","webpack:///./node_modules/algoliasearch-helper/src/functions/orderBy.js","webpack:///./src/components/Layout/Layout.js","webpack:///./src/components/LayoutFooter/ExternalFooterLink.js"],"names":["path","has","wrappedWellKnownSymbolModule","defineProperty","f","module","exports","NAME","Symbol","value","merge","requestBuilder","_getQueries","index","state","queries","push","indexName","params","_getHitsSearchParams","getRefinedDisjunctiveFacets","forEach","refinedFacet","_getDisjunctiveFacetSearchParams","getRefinedHierarchicalFacets","hierarchicalFacet","getHierarchicalFacetByName","currentRefinement","getHierarchicalRefinement","separator","_getHierarchicalFacetSeparator","length","split","facets","concat","disjunctiveFacets","_getHitsHierarchicalFacetsAttributes","facetFilters","_getFacetFilters","numericFilters","_getNumericFilters","additionalParams","tagFilters","_getTagFilters","getQueryParams","facet","hierarchicalRootLevel","hitsPerPage","page","attributesToRetrieve","attributesToHighlight","attributesToSnippet","analytics","clickAnalytics","_getDisjunctiveHierarchicalFacetAttribute","facetName","Object","keys","numericRefinements","attribute","operators","operator","values","Array","isArray","vs","map","v","tagRefinements","join","facetsRefinements","facetValue","facetsExcludes","disjunctiveFacetsRefinements","facetValues","orFilters","hierarchicalFacetsRefinements","undefined","attributeToRefine","attributesIndex","rootPath","_getHierarchicalRootPath","indexOf","slice","lastIndexOf","attributes","hierarchicalFacets","reduce","allAttributes","hierarchicalRefinement","name","level","newAttributes","rootLevel","attributeIndex","parentLevel","getSearchForFacetQuery","query","maxFacetHits","stateForSearchForFacetValues","isDisjunctiveFacet","clearRefinements","searchForFacetSearchParameters","facetQuery","_classCallCheck","instance","Constructor","TypeError","events","ref","onClickOutside","onClick","event","element","target","current","contains","useEffect","document","addEventListener","removeEventListener","getCurrentRefinement","props","searchState","context","_refine","nextRefinement","nextValue","displayName","propTypes","defaultRefinement","string","getProvidedProps","searchResults","ais","contextValue","multiIndexContext","indexContextValue","isSearchStalled","refine","cleanUp","_cleanUp","getSearchParameters","searchParameters","setQuery","getMetadata","id","items","label","nextState","ExternalLinkSvg","cssProps","x","y","viewBox","width","height","css","fill","d","points","bind","IndexedObject","toObject","toLength","arraySpeciesCreate","createMethod","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","callbackfn","that","specificCreate","result","O","self","boundFunction","create","call","filter","some","every","find","findIndex","classof","arg","fixRegExpWellKnownSymbolLogic","anObject","toInteger","requireObjectCoercible","advanceStringIndex","regExpExec","max","Math","min","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","REPLACE","nativeReplace","maybeCallNative","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","this","replacer","String","regexp","res","done","rx","S","functionalReplace","global","fullUnicode","unicode","lastIndex","results","it","accumulatedResult","nextSourcePosition","i","matched","position","captures","j","namedCaptures","groups","replacerArgs","replacement","apply","getSubstitution","str","tailPos","m","symbols","match","ch","capture","charAt","n","Flex","basis","children","direction","grow","halign","shrink","type","valign","rest","createElement","display","flexDirection","flexGrow","flexShrink","flexBasis","justifyContent","alignItems","Header","location","backgroundColor","colors","darker","color","white","zIndex","top","left","media","between","lessThan","marginRight","brand","outline","greaterThan","flex","to","paddingTop","xmlns","fillRule","indices","padding","marginLeft","whiteSpace","fonts","small","lighter","borderRadius","href","rel","verticalAlign","subtle","SearchParameters","SearchResults","DerivedHelper","inherits","objectHasKeys","version","AlgoliaSearchHelper","client","options","addAlgoliaAgent","setClient","opts","make","lastResults","_queryId","_lastQueryIdReceived","derivedHelpers","_currentNbQueries","setCurrentPage","Error","_change","setPage","isPageReset","getCurrentPage","EventEmitter","prototype","search","_search","onlyWithDerivedHelpers","searchOnlyWithDerivedHelpers","getQuery","searchOnce","cb","tempState","setQueryParameters","emit","then","content","_originalResponse","e","catch","err","searchForFacetValues","userState","clientHasSFFV","initIndex","isDisjunctive","algoliaQuery","facetHits","isRefined","isDisjunctiveFacetRefined","isFacetRefined","q","resetPage","clearTags","addDisjunctiveFacetRefinement","addDisjunctiveRefine","arguments","addHierarchicalFacetRefinement","addNumericRefinement","addFacetRefinement","addRefine","addFacetExclusion","addExcludeRefinement","addExclude","addTag","tag","addTagRefinement","removeNumericRefinement","removeDisjunctiveFacetRefinement","removeDisjunctiveRefine","removeHierarchicalFacetRefinement","removeFacetRefinement","removeRefine","removeFacetExclusion","removeExcludeRefinement","removeExclude","removeTag","removeTagRefinement","toggleFacetExclusion","toggleExcludeFacetRefinement","toggleExclude","toggleRefinement","toggleFacetRefinement","toggleRefine","toggleTag","toggleTagRefinement","nextPage","previousPage","setIndex","setQueryParameter","parameter","setState","newState","overrideStateWithoutTriggeringChangeEvent","hasRefinements","getNumericRefinements","isConjunctiveFacet","isHierarchicalFacet","isHierarchicalFacetRefined","isExcluded","isExcludeRefined","isDisjunctiveRefined","hasTag","isTagRefined","hasTagRefinements","getIndex","getPage","getTags","getRefinements","refinements","getConjunctiveRefinements","r","getExcludeRefinements","getDisjunctiveRefinements","getNumericRefinement","getHierarchicalFacetBreadcrumb","states","mainQueries","queriesCount","helper","derivedQueries","derivedHelper","derivedState","getModifiedState","derivedStateQueries","queryId","_dispatchAlgoliaResponse","_dispatchAlgoliaError","error","s","specificResults","splice","formattedResponse","containsRefinement","_hasDisjunctiveRefinements","disjunctiveRefinements","clearCache","newClient","getClient","derive","fn","detachDerivedHelper","pos","hasPendingRequests","connectSearchBox","onFocus","fieldValue","setFieldValue","inputRef","useRef","className","transition","onBlur","setTimeout","placeholder","aria-label","onChange","focus","cursor","src","_interopDefault","ex","React","React__default","shallowEqual","_defineProperty","obj","key","enumerable","configurable","writable","canUseDOM","window","reducePropsToState","handleStateChangeOnClient","mapStateOnServer","WrappedComponent","mountedInstances","emitChange","SideEffect","_Component","subClass","superClass","constructor","__proto__","peek","rewind","recordedState","_proto","shouldComponentUpdate","nextProps","componentWillMount","componentDidUpdate","componentWillUnmount","render","Component","getDisplayName","isObject","SPECIES","wellKnownSymbol","originalArray","C","patchDOMForGoogleTranslate","Node","originalRemoveChild","removeChild","child","parentNode","console","originalInsertBefore","insertBefore","newNode","referenceNode","sortBy","defaults","defaultInstructions","sort","out","sortInstruction","matchingDefault","defaultInstruction","ignoreStrings","HitsInIndex","hits","useState","setSelected","downPress","useKeyPress","upPress","enterPress","setCursor","hovered","prevState","hit","onLink","url","preventDefault","getLink","title","slug","replace","toLowerCase","headings","includes","marginBottom","item","style","gridTemplateColumns","gridGap","margin","fontSize","paddingLeft","targetKey","keyPressed","setKeyPressed","downHandler","upHandler","connectHits","textAlign","marginTop","t","getOwnPropertySymbols","getOwnPropertyDescriptor","o","getOwnPropertyDescriptors","defineProperties","iterator","toString","a","u","next","return","from","localStorage","JSON","parse","getItem","get","miss","Promise","resolve","stringify","all","set","setItem","delete","clear","removeItem","caches","shift","serializable","c","random","l","encodeURIComponent","h","data","entries","timeout","headers","queryParameters","cacheable","Read","Write","Any","status","lastUpdate","Date","now","b","protocol","accept","P","method","userAgent","pop","message","transporterStackTrace","A","w","connectTimeout","timeouts","connect","responseTimeout","request","response","host","triesLeft","p","onSucess","onRetry","isTimedOut","logger","info","hostsCache","onFail","requester","send","getTimeout","statelessHosts","reverse","add","segment","T","substr","appId","authMode","apiKey","requestsCache","responsesCache","hosts","read","mappedRequestOptions","transporter","reject","write","methods","N","k","requests","J","propertyIsEnumerable","I","E","W","XMLHttpRequest","open","setRequestHeader","abort","onreadystatechange","readyState","OPENED","clearTimeout","onerror","responseText","onload","debug","multipleQueries","multipleSearchForFacetValues","objA","objB","keysA","keysB","hasOwn","hasOwnProperty","resolved","defer","removeEmptyKey","object","isPlainObject","addAbsolutePositions","__position","addQueryID","queryID","__queryID","omit","source","excluded","sourceKeys","_key","getPropertyByPath","_objectWithoutProperties","sourceSymbolKeys","isObjectOrArrayOrFunction","_merge","sourceVal","targetVal","array","comparator","completeLanguages","languages","language","defaultPage","canonicalUrl","urlRoot","TitleAndMetaTags","ogDescription","property","hreflang","code","alternatePages","compare","compareContext","ret","bHasOwnProperty","idx","valueA","valueB","defaultsPure","lib","addRefinement","refinementList","valueAsString","facetRefinement","mod","removeRefinement","clearRefinement","refinementType","hasChanged","newRefinementList","memo","facetList","refinementValue","containsRefinements","refinementValueAsString","FooterLink","lineHeight","redefine","fails","flags","RegExpPrototype","RegExp","nativeToString","NOT_GENERIC","INCORRECT_NAME","R","rf","unsafe","tabPress","activeLinkUrl","setActiveLinkUrl","mouseIn","setMouseIn","quantity","onMouseEnter","onMouseLeave","description","newDescription","sym","endsWith","getShortDescription","AllHits","SearchResult","show","right","maxHeight","overflow","borderBottomRightRadius","borderBottomLeftRadius","boxShadow","Fragment","_assertThisInitialized","ReferenceError","_setPrototypeOf","setPrototypeOf","_inherits","quot","p1","mainHelper","main","detach","removeAllListeners","parameters","Search","rootRef","createRef","hasFocus","setFocus","searchClient","algoliasearch","process","useClickOutside","onSearchStateChange","defineWellKnownSymbol","algoliasearchHelper","_extends","assign","connectorDesc","Composed","Connector","isWidget","transitionState","_this","providedProps","_ref","_len","args","onInternalStateUpdate","store","getState","widgets","_ref2","_len2","_key2","createHrefForState","_ref3","_len3","_key3","onSearchForFacetValues","onSearchParameters","_this2","unsubscribe","subscribe","isUnmounting","unregisterWidget","widgetsManager","registerWidget","propsEqual","prevProps","update","_this$props$contextVa","resultsFacetValues","searching","searchingForFacetValues","metadata","nextWidgetsState","prevWidgetsState","_this$props","refineProps","createURL","searchForFacetValuesProps","searchForItems","defaultProps","createConnectorWithoutContext","HIGHLIGHT_TAGS","highlightPreTag","highlightPostTag","addAlgoliaAgents","widget","isTargetedIndexEqualIndex","indexId","targetedIndex","isIndexWidget","Boolean","isIndexWidgetEqualIndex","sortIndexWidgetsFirst","firstWidget","secondWidget","isFirstWidgetIndex","isSecondWidgetIndex","serializeQueryParameters","format","encode","createInstantSearchManager","_ref$initialState","initialState","resultsState","stalledSearchDelay","on","stalledSearchTimer","_store$getState","partialState","handleSearchSuccess","handleSearchError","skip","initialSearchParameters","onWidgetsUpdate","scheduled","scheduleUpdate","getWidgets","createWidgetsManager","_cacheHydrated","_useCache","baseMethod","methodArgs","requestsWithSerializedParams","acc","rawResults","cache","hydrateSearchClientWithMultiIndexRequest","hydrateSearchClientWithSingleIndexRequest","hydrateSearchClient","listeners","listener","createStore","_internalIndexId","hydrateResultsState","sharedParameters","mainParameters","targetedIndexEqualMainIndex","subIndexEqualMainIndex","derivedIndices","targetedIndexNotEqualMainIndex","subIndexNotEqualMainIndex","derivedParameters","_getSearchParameters","isDerivedHelpersEmpty","getFacetByName","currentState","nextIsSearchStalled","_ref4","getWidgetsIds","meta","_ref5","_ref5$maxFacetHits","maxFacetHitsWithinRange","_objectSpread7","onExternalStateUpdate","nextSearchState","updateClient","updateIndex","newIndex","skipSearch","isControlled","InstantSearch","instantSearchManager","mainTargetedIndex","onWidgetsInternalStateUpdate","nextIsControlled","previousSearchState","prevIsControlled","refresh","getKnownKeys","_searchState","count","isRequired","shape","func","bool","oneOfType","node","number","SectionLinks","links","external","callWithSafeIterationClosing","isArrayIteratorMethod","createProperty","getIteratorMethod","arrayLike","step","argumentsLength","mapfn","mapping","iteratorMethod","ctor","superCtor","$","stat","forced","checkCorrectnessOfIteration","iterable","__esModule","Helmet","_createClass","descriptor","protoProps","staticProps","_react2","_interopRequireDefault","_propTypes2","_reactSideEffect2","_reactFastCompare2","_HelmetUtils","_HelmetConstants","default","_possibleConstructorReturn","_class","_temp","HelmetSideEffects","handleClientStateChange","HelmetExport","_React$Component","HelmetWrapper","mapNestedChildrenToProps","nestedChildren","TAG_NAMES","SCRIPT","NOSCRIPT","innerHTML","STYLE","cssText","flattenArrayTypeChildren","_extends2","arrayTypeChildren","newChildProps","mapObjectTypeChildren","_extends3","_extends4","newProps","TITLE","titleAttributes","BODY","bodyAttributes","HTML","htmlAttributes","mapArrayTypeChildrenToProps","newFlattenedProps","arrayChildName","_extends5","warnOnInvalidChildren","mapChildrenToProps","Children","_child$props","childProps","convertReactPropstoHtmlAttributes","LINK","META","_props","base","arrayOf","defaultTitle","encodeSpecialCharacters","link","noscript","onChangeClientState","script","titleTemplate","mappedState","baseTag","linkTags","metaTags","noscriptTags","scriptTags","styleTags","renderStatic","intersection","valToNumber","RefinementList","isEqualNumericRefinement","el","newParameters","_parseNumbers","paramName","isKeyKnown","PARAMETERS","isValueDefined","numbers","parsedValue","parseFloat","isNaN","insideBoundingBox","geoRect","parsedValues","vPrime","toggleHierarchicalFacetRefinement","validate","patch","_clearNumericRefinements","newQuery","newPage","setFacets","setDisjunctiveFacets","setHitsPerPage","setTypoTolerance","typoTolerance","isNumericRefined","paramValue","op","val","newNumericRefinements","operatorList","outValues","addFacet","addDisjunctiveFacet","addHierarchicalFacet","modification","removeFacet","removeDisjunctiveFacet","removeHierarchicalFacet","toggleConjunctiveFacetRefinement","toggleDisjunctiveFacetRefinement","isOperatorDefined","searchedValue","isAttributeValueDefined","currentValue","disjunctiveNumericRefinedFacets","getUnrefinedDisjunctiveFacets","refinedFacets","managedParameters","queryParams","nextWithNumbers","previousPlainObject","nextPlainObject","previous","isPreviousValueDefined","isNextValueDefined","_getHierarchicalFacetSortBy","_getHierarchicalShowParentLevel","showParentLevel","hierarchicalFacetName","refinement","part","trim","arr1","arr2","_typeof","getIndexId","hasMultipleIndices","getResults","refineValue","namespace","_objectSpread4","refineMultiIndexWithNamespace","refineMultiIndex","refineSingleIndexWithNamespace","refineSingleIndex","getNamespaceAndAttributeName","parts","attributeName","getCurrentRefinementValue","defaultValue","_getNamespaceAndAttri","multiIndex","cleanUpValue","_getNamespaceAndAttri2","indexSearchState","cleanUpValueWithMultiIndex","cleanUpValueWithSingleIndex","DESCRIPTORS","FunctionPrototype","Function","FunctionPrototypeToString","nameRE","Footer","layoutHasSidebar","paddingBottom","size","flexWrap","paddingRight","navFooter","privacy","order","fontFamily","fontWeight","letterSpacing","subtleOnDark","getFullYear","hitsWithPositions","FooterNav","METHOD_NAME","test","Layout","Container","maxWidth","babelURL","keyList","hasProp","hasElementType","Element","equal","arrA","arrB","dateA","dateB","getTime","regexpA","regexpB","$$typeof","warn","getBuiltIn","IS_PURE","NATIVE_SYMBOL","USE_SYMBOL_AS_UID","toIndexedObject","toPrimitive","createPropertyDescriptor","nativeObjectCreate","objectKeys","getOwnPropertyNamesModule","getOwnPropertyNamesExternal","getOwnPropertySymbolsModule","getOwnPropertyDescriptorModule","definePropertyModule","propertyIsEnumerableModule","createNonEnumerableProperty","shared","sharedKey","hiddenKeys","uid","setToStringTag","InternalStateModule","$forEach","HIDDEN","TO_PRIMITIVE","setInternalState","getInternalState","getterFor","ObjectPrototype","$Symbol","$stringify","nativeGetOwnPropertyDescriptor","nativeDefineProperty","nativeGetOwnPropertyNames","nativePropertyIsEnumerable","AllSymbols","ObjectPrototypeSymbols","StringToSymbolRegistry","SymbolToStringRegistry","WellKnownSymbolsStore","QObject","USE_SETTER","findChild","setSymbolDescriptor","Attributes","ObjectPrototypeDescriptor","wrap","symbol","isSymbol","$defineProperty","$defineProperties","Properties","properties","$getOwnPropertySymbols","$propertyIsEnumerable","V","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","IS_OBJECT_PROTOTYPE","setter","sham","keyFor","useSetter","useSimple","getOwnPropertyNames","space","$replacer","valueOf","propertyKey","ReflectOwnKeys","Reflect","ReflectApply","receiver","ownKeys","NumberIsNaN","Number","init","once","emitter","eventListener","errorListener","removeListener","_events","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","_addListener","prepend","existing","warning","newListener","unshift","warned","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","arr","unwrapListeners","arrayClone","listenerCount","copy","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","er","handler","len","addListener","prependListener","prependOnceListener","list","originalListener","spliceOne","off","rawListeners","eventNames","_getPrototypeOf","ATTRIBUTE_NAMES","BASE","HEAD","REACT_TAG_MAP","VALID_TAG_NAMES","TAG_PROPERTIES","CHARSET","CSS_TEXT","HREF","HTTPEQUIV","INNER_HTML","ITEM_PROP","PROPERTY","REL","SRC","accesskey","charset","class","contenteditable","contextmenu","itemprop","tabindex","HELMET_PROPS","DEFAULT_TITLE","DEFER","ENCODE_SPECIAL_CHARACTERS","ON_CHANGE_CLIENT_STATE","TITLE_TEMPLATE","HTML_TAG_MAP","SELF_CLOSING_TAGS","HELMET_ATTRIBUTE","createHTML","proto","forcedStringHTMLMethod","sources","reduceRight","hierarchicalFacetResult","hierarchicalFacetIndex","hierarchicalFacetRefinement","hierarchicalSeparator","hierarchicalRootPath","hierarchicalShowParentLevel","prepareHierarchicalFacetSortBy","rootExhaustive","facetResult","exhaustive","generateTreeFn","hierarchicalTree","currentHierarchicalLevel","parent","subtree","picked","tuple","parentPath","onlyMatchingTree","orderBy","facetCount","generateHierarchicalTree","windowNames","getWindowNames","_createContext","InstantSearchConsumer","Consumer","InstantSearchProvider","Provider","_createContext2","IndexConsumer","compact","formatSort","getIndices","assignFacetStats","dest","facetStats","stats","mainSubResponse","_rawResults","processingTimeMS","sum","facetsIndices","disjunctiveFacetsIndices","nextDisjunctiveResult","mainFacets","facetKey","hierarchicalAttributeName","facetValueObject","facetIndex","idxAttributeName","exhaustiveFacetsCount","isFacetDisjunctive","isFacetConjunctive","facets_stats","disjunctiveFacet","dfacet","facetResults","dataFromMainRequest","defaultData","root","excludes","_state","recSort","sortFn","childNode","sortedChildren","getFacetStatsIfAvailable","getRefinement","resultsFacets","predicate","DEFAULT_SORT","getFacetValues","extractNormalizedFacetValues","hierarchicalFacetValues","vanillaSortFn","getFacetStats","facetDeclaration","rootFacet","intermediateFacet","newFacet","numericValue","requestAnimationFrame","_objectAssign2","clock","getTitleFromPropsList","propsList","innermostTitle","getInnermostProperty","innermostTemplate","innermostDefaultTitle","getOnChangeClientState","getAttributesFromPropsList","tagType","tagAttrs","getBaseTagFromPropsList","primaryAttributes","innermostBaseTag","lowerCaseAttributeKey","getTagsFromPropsList","tagName","approvedSeenTags","approvedTags","instanceTags","instanceSeenTags","primaryAttributeKey","attributeKey","tagUnion","rafPolyfill","callback","currentTime","cafPolyfill","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msg","_helmetCallback","commitTagChanges","updateAttributes","updateTitle","tagUpdates","updateTags","addedTags","removedTags","_tagUpdates$tagType","newTags","oldTags","flattenArray","possibleArray","elementTag","getElementsByTagName","helmetAttributeString","getAttribute","helmetAttributes","attributesToRemove","attributeKeys","setAttribute","indexToSave","_i","removeAttribute","tags","headElement","head","querySelector","tagNodes","querySelectorAll","indexToDelete","newElement","styleSheet","appendChild","createTextNode","existingTag","isEqualNode","generateElementAttributesAsString","attr","convertElementAttributestoReactProps","initProps","getMethodsForTag","toComponent","_initProps","attributeString","flattenedTitle","generateTitleAsString","_mappedTag","mappedTag","mappedAttribute","dangerouslySetInnerHTML","__html","generateTagsAsReactComponent","attributeHtml","tagContent","isSelfClosing","generateTagsAsString","initAttributes","_ref$title","_objectSpread","_defineProperties","compareAscending","other","valIsDefined","valIsNull","othIsDefined","othIsNull","collection","iteratees","orders","criteria","iteratee","Template","pathname","minHeight","ExternalFooterLink"],"mappings":"gFAAA,IAAIA,EAAO,EAAQ,QACfC,EAAM,EAAQ,QACdC,EAA+B,EAAQ,QACvCC,EAAiB,EAAQ,QAAuCC,EAEpEC,EAAOC,QAAU,SAAUC,GACzB,IAAIC,EAASR,EAAKQ,SAAWR,EAAKQ,OAAS,IACtCP,EAAIO,EAAQD,IAAOJ,EAAeK,EAAQD,EAAM,CACnDE,MAAOP,EAA6BE,EAAEG,O,6DCN1C,IAAIG,EAAQ,EAAQ,QAEhBC,EAAiB,CAOnBC,YAAa,SAAoBC,EAAOC,GACtC,IAAIC,EAAU,GA4Bd,OA1BAA,EAAQC,KAAK,CACXC,UAAWJ,EACXK,OAAQP,EAAeQ,qBAAqBL,KAG9CA,EAAMM,8BAA8BC,SAAQ,SAAUC,GACpDP,EAAQC,KAAK,CACXC,UAAWJ,EACXK,OAAQP,EAAeY,iCAAiCT,EAAOQ,QAInER,EAAMU,+BAA+BH,SAAQ,SAAUC,GACrD,IAAIG,EAAoBX,EAAMY,2BAA2BJ,GACrDK,EAAoBb,EAAMc,0BAA0BN,GAGpDO,EAAYf,EAAMgB,+BAA+BL,GAEjDE,EAAkBI,OAAS,GAAKJ,EAAkB,GAAGK,MAAMH,GAAWE,OAAS,GACjFhB,EAAQC,KAAK,CACXC,UAAWJ,EACXK,OAAQP,EAAeY,iCAAiCT,EAAOQ,GAAc,QAI5EP,GAQTI,qBAAsB,SAA8BL,GAClD,IAAImB,EAASnB,EAAMmB,OAAOC,OAAOpB,EAAMqB,mBAAmBD,OAAOvB,EAAeyB,qCAAqCtB,IAEjHuB,EAAe1B,EAAe2B,iBAAiBxB,GAE/CyB,EAAiB5B,EAAe6B,mBAAmB1B,GAInD2B,EAAmB,CACrBR,OAAQA,EACRS,WAJe/B,EAAegC,eAAe7B,IAe/C,OARIuB,EAAaN,OAAS,IACxBU,EAAiBJ,aAAeA,GAG9BE,EAAeR,OAAS,IAC1BU,EAAiBF,eAAiBA,GAG7B7B,EAAM,GAAII,EAAM8B,iBAAkBH,IAU3ClB,iCAAkC,SAA0CT,EAAO+B,EAAOC,GACxF,IAAIT,EAAe1B,EAAe2B,iBAAiBxB,EAAO+B,EAAOC,GAE7DP,EAAiB5B,EAAe6B,mBAAmB1B,EAAO+B,GAI1DJ,EAAmB,CACrBM,YAAa,EACbC,KAAM,EACNC,qBAAsB,GACtBC,sBAAuB,GACvBC,oBAAqB,GACrBT,WARe/B,EAAegC,eAAe7B,GAS7CsC,WAAW,EACXC,gBAAgB,GAEd5B,EAAoBX,EAAMY,2BAA2BmB,GAgBzD,OAbEJ,EAAiBR,OADfR,EACwBd,EAAe2C,0CAA0CxC,EAAOW,EAAmBqB,GAEnFD,EAGxBN,EAAeR,OAAS,IAC1BU,EAAiBF,eAAiBA,GAGhCF,EAAaN,OAAS,IACxBU,EAAiBJ,aAAeA,GAG3B3B,EAAM,GAAII,EAAM8B,iBAAkBH,IAS3CD,mBAAoB,SAA4B1B,EAAOyC,GACrD,GAAIzC,EAAMyB,eACR,OAAOzB,EAAMyB,eAGf,IAAIA,EAAiB,GAoBrB,OAnBAiB,OAAOC,KAAK3C,EAAM4C,oBAAoBrC,SAAQ,SAAUsC,GACtD,IAAIC,EAAY9C,EAAM4C,mBAAmBC,IAAc,GACvDH,OAAOC,KAAKG,GAAWvC,SAAQ,SAAUwC,GACvC,IAAIC,EAASF,EAAUC,IAAa,GAEhCN,IAAcI,GAChBG,EAAOzC,SAAQ,SAAUZ,GACvB,GAAIsD,MAAMC,QAAQvD,GAAQ,CACxB,IAAIwD,EAAKxD,EAAMyD,KAAI,SAAUC,GAC3B,OAAOR,EAAYE,EAAWM,KAEhC5B,EAAevB,KAAKiD,QAEpB1B,EAAevB,KAAK2C,EAAYE,EAAWpD,YAM9C8B,GAQTI,eAAgB,SAAwB7B,GACtC,OAAIA,EAAM4B,WACD5B,EAAM4B,WAGR5B,EAAMsD,eAAeC,KAAK,MAUnC/B,iBAAkB,SAA0BxB,EAAO+B,EAAOC,GACxD,IAAIT,EAAe,GACfiC,EAAoBxD,EAAMwD,mBAAqB,GACnDd,OAAOC,KAAKa,GAAmBjD,SAAQ,SAAUkC,IAC7Be,EAAkBf,IAAc,IACtClC,SAAQ,SAAUkD,GAC5BlC,EAAarB,KAAKuC,EAAY,IAAMgB,SAGxC,IAAIC,EAAiB1D,EAAM0D,gBAAkB,GAC7ChB,OAAOC,KAAKe,GAAgBnD,SAAQ,SAAUkC,IAC1BiB,EAAejB,IAAc,IACnClC,SAAQ,SAAUkD,GAC5BlC,EAAarB,KAAKuC,EAAY,KAAOgB,SAGzC,IAAIE,EAA+B3D,EAAM2D,8BAAgC,GACzEjB,OAAOC,KAAKgB,GAA8BpD,SAAQ,SAAUkC,GAC1D,IAAImB,EAAcD,EAA6BlB,IAAc,GAE7D,GAAIA,IAAcV,GAAU6B,GAAsC,IAAvBA,EAAY3C,OAAvD,CAIA,IAAI4C,EAAY,GAChBD,EAAYrD,SAAQ,SAAUkD,GAC5BI,EAAU3D,KAAKuC,EAAY,IAAMgB,MAEnClC,EAAarB,KAAK2D,OAEpB,IAAIC,EAAgC9D,EAAM8D,+BAAiC,GA2C3E,OA1CApB,OAAOC,KAAKmB,GAA+BvD,SAAQ,SAAUkC,GAC3D,IACIgB,GADcK,EAA8BrB,IAAc,IACjC,GAE7B,QAAmBsB,IAAfN,EAAJ,CAIA,IAMIO,EACAC,EAPAtD,EAAoBX,EAAMY,2BAA2B6B,GAErD1B,EAAYf,EAAMgB,+BAA+BL,GAEjDuD,EAAWlE,EAAMmE,yBAAyBxD,GAK9C,GAAIoB,IAAUU,EAAW,CAGvB,IAAuC,IAAnCgB,EAAWW,QAAQrD,KAAsBmD,IAAsC,IAA1BlC,GAAkCkC,GAAYA,EAAShD,MAAMH,GAAWE,SAAWwC,EAAWvC,MAAMH,GAAWE,OACtK,OAGGiD,GAIHD,EAAkBC,EAAShD,MAAMH,GAAWE,OAAS,EACrDwC,EAAaS,IAJbD,EAAkBR,EAAWvC,MAAMH,GAAWE,OAAS,EACvDwC,EAAaA,EAAWY,MAAM,EAAGZ,EAAWa,YAAYvD,KAM1DiD,EAAoBrD,EAAkB4D,WAAWN,QAEjDA,EAAkBR,EAAWvC,MAAMH,GAAWE,OAAS,EACvD+C,EAAoBrD,EAAkB4D,WAAWN,GAG/CD,GACFzC,EAAarB,KAAK,CAAC8D,EAAoB,IAAMP,QAG1ClC,GAETD,qCAAsC,SAA8CtB,GAElF,OAAOA,EAAMwE,mBAAmBC,QAChC,SAA+CC,EAAe/D,GAC5D,IAAIgE,EAAyB3E,EAAMc,0BAA0BH,EAAkBiE,MAAM,GAErF,IAAKD,EAEH,OADAD,EAAcxE,KAAKS,EAAkB4D,WAAW,IACzCG,EAGT,IAAI3D,EAAYf,EAAMgB,+BAA+BL,GAEjDkE,EAAQF,EAAuBzD,MAAMH,GAAWE,OAChD6D,EAAgBnE,EAAkB4D,WAAWF,MAAM,EAAGQ,EAAQ,GAClE,OAAOH,EAActD,OAAO0D,KAdpB,KAiBZtC,0CAA2C,SAAmDxC,EAAOW,EAAmBoE,GACtH,IAAIhE,EAAYf,EAAMgB,+BAA+BL,GAErD,IAAkB,IAAdoE,EAAoB,CACtB,IAAIb,EAAWlE,EAAMmE,yBAAyBxD,GAE1CqE,EAAiB,EAMrB,OAJId,IACFc,EAAiBd,EAAShD,MAAMH,GAAWE,QAGtC,CAACN,EAAkB4D,WAAWS,IAGvC,IAGIC,GAHyBjF,EAAMc,0BAA0BH,EAAkBiE,MAAM,IAAM,IAGlD1D,MAAMH,GAAWE,OAAS,EACnE,OAAON,EAAkB4D,WAAWF,MAAM,EAAGY,EAAc,IAE7DC,uBAAwB,SAAgCzC,EAAW0C,EAAOC,EAAcpF,GACtF,IAAIqF,EAA+BrF,EAAMsF,mBAAmB7C,GAAazC,EAAMuF,iBAAiB9C,GAAazC,EACzGwF,EAAiC,CACnCC,WAAYN,EACZ1C,UAAWA,GAOb,MAJ4B,iBAAjB2C,IACTI,EAA+BJ,aAAeA,GAGzCxF,EAAM,GAAIC,EAAeQ,qBAAqBgF,GAA+BG,KAGxFjG,EAAOC,QAAUK,G,oCC1SF,SAAS6F,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAFxB,mC,s8BCEA,IAAMC,EAAS,CAAC,YAAD,cAEA,aAACC,EAAKC,GACnB,IAGMC,EAAU,SAAAC,GAHE,IAAAC,IAIFD,EAAME,OAJQL,EAAIM,SAAYN,EAAIM,QAAQC,SAASH,IAK/DH,KAIJO,qBAAU,WACR,cAAoBT,KAApB,aAA4B,CAAC,IAAlBI,EAAiB,QAC1BM,SAASC,iBAAiBP,EAAOD,GAGnC,OAAO,WACL,cAAoBH,KAApB,kBAAWI,EAAX,QAA4BM,SAASE,oBAAoBR,EAAOD,U,oCCpBtE,6DASA,SAASU,EAAqBC,EAAOC,EAAaC,GAChD,IACIjG,EAAoB,YAA0B+F,EAAOC,EAAaC,EAL/D,QAK4E,IAEnF,OAAIjG,GAIG,GAGT,SAASkG,EAAQH,EAAOC,EAAaG,EAAgBF,GACnD,IAEIG,EAAY,YAAgB,GAjBzB,QAiBiCD,GAGxC,OAAO,YAAYH,EAAaI,EAAWH,GAD3B,GAmBH,gBAAgB,CAC7BI,YAAa,mBACbC,UAAW,CACTC,kBAAmB,IAAUC,QAE/BC,iBAAkB,SAA0BV,EAAOC,EAAaU,GAC9D,MAAO,CACL1G,kBAAmB8F,EAAqBC,EAAOC,EAAa,CAC1DW,IAAKZ,EAAMa,aACXC,kBAAmBd,EAAMe,oBAE3BC,gBAAiBL,EAAcK,kBAGnCC,OAAQ,SAAgBjB,EAAOC,EAAaG,GAC1C,OAAOD,EAAQH,EAAOC,EAAaG,EAAgB,CACjDQ,IAAKZ,EAAMa,aACXC,kBAAmBd,EAAMe,qBAG7BG,QAAS,SAAiBlB,EAAOC,GAC/B,OApCJ,SAAkBD,EAAOC,EAAaC,GACpC,OAAO,YAAaD,EAAaC,EAxB1B,SA2DEiB,CAASnB,EAAOC,EAAa,CAClCW,IAAKZ,EAAMa,aACXC,kBAAmBd,EAAMe,qBAG7BK,oBAAqB,SAA6BC,EAAkBrB,EAAOC,GACzE,OAAOoB,EAAiBC,SAASvB,EAAqBC,EAAOC,EAAa,CACxEW,IAAKZ,EAAMa,aACXC,kBAAmBd,EAAMe,sBAG7BQ,YAAa,SAAqBvB,EAAOC,GACvC,IACIhG,EAAoB8F,EAAqBC,EAAOC,EAAa,CAC/DW,IAAKZ,EAAMa,aACXC,kBAAmBd,EAAMe,oBAE3B,MAAO,CACLS,GA7EG,QA8EHrI,MAAO,YAAW,CAChByH,IAAKZ,EAAMa,aACXC,kBAAmBd,EAAMe,oBAE3BU,MAA6B,OAAtBxH,EAA6B,GAAK,CAAC,CACxCyH,MAAO,GAAGlH,OAnFT,QAmFoB,MAAMA,OAAOP,GAClClB,MAAO,SAAe4I,GACpB,OAAOxB,EAAQH,EAAO2B,EAAW,GAAI,CACnCf,IAAKZ,EAAMa,aACXC,kBAAmBd,EAAMe,qBAG7B9G,kBAAmBA,S,qCChG3B,sBAiCe2H,IAzBS,SAAC,GAAD,QAAEC,gBAAF,MAAa,GAAb,SACtB,uBACEC,EAAE,MACFC,EAAE,MACFC,QAAQ,cACRC,MAAO,GACPC,OAAQ,GACRC,IAAKN,GACL,wBACEO,KAAK,eACLC,EAAC,+IAKH,2BACED,KAAK,eACLE,OAAM,0H,6CCzBZ,IAAIC,EAAO,EAAQ,QACfC,EAAgB,EAAQ,QACxBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAqB,EAAQ,QAE7BrJ,EAAO,GAAGA,KAGVsJ,EAAe,SAAUC,GAC3B,IAAIC,EAAiB,GAARD,EACTE,EAAoB,GAARF,EACZG,EAAkB,GAARH,EACVI,EAAmB,GAARJ,EACXK,EAAwB,GAARL,EAChBM,EAAmB,GAARN,GAAaK,EAC5B,OAAO,SAAUE,EAAOC,EAAYC,EAAMC,GASxC,IARA,IAOIxK,EAAOyK,EAPPC,EAAIhB,EAASW,GACbM,EAAOlB,EAAciB,GACrBE,EAAgBpB,EAAKc,EAAYC,EAAM,GACvCjJ,EAASqI,EAASgB,EAAKrJ,QACvBlB,EAAQ,EACRyK,EAASL,GAAkBZ,EAC3BnD,EAASsD,EAASc,EAAOR,EAAO/I,GAAU0I,EAAYa,EAAOR,EAAO,QAAKjG,EAEvE9C,EAASlB,EAAOA,IAAS,IAAIgK,GAAYhK,KAASuK,KAEtDF,EAASG,EADT5K,EAAQ2K,EAAKvK,GACiBA,EAAOsK,GACjCZ,GACF,GAAIC,EAAQtD,EAAOrG,GAASqK,OACvB,GAAIA,EAAQ,OAAQX,GACvB,KAAK,EAAG,OAAO,EACf,KAAK,EAAG,OAAO9J,EACf,KAAK,EAAG,OAAOI,EACf,KAAK,EAAGG,EAAKuK,KAAKrE,EAAQzG,QACrB,GAAIkK,EAAU,OAAO,EAGhC,OAAOC,GAAiB,EAAIF,GAAWC,EAAWA,EAAWzD,IAIjE7G,EAAOC,QAAU,CAGfe,QAASiJ,EAAa,GAGtBpG,IAAKoG,EAAa,GAGlBkB,OAAQlB,EAAa,GAGrBmB,KAAMnB,EAAa,GAGnBoB,MAAOpB,EAAa,GAGpBqB,KAAMrB,EAAa,GAGnBsB,UAAWtB,EAAa,K,uBC/D1B,IAAIuB,EAAU,EAAQ,QAItBxL,EAAOC,QAAUyD,MAAMC,SAAW,SAAiB8H,GACjD,MAAuB,SAAhBD,EAAQC,K,oCCJjB,IAAIC,EAAgC,EAAQ,QACxCC,EAAW,EAAQ,QACnB7B,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnB6B,EAAY,EAAQ,QACpBC,EAAyB,EAAQ,QACjCC,EAAqB,EAAQ,QAC7BC,EAAa,EAAQ,QAErBC,EAAMC,KAAKD,IACXE,EAAMD,KAAKC,IACXC,EAAQF,KAAKE,MACbC,EAAuB,4BACvBC,EAAgC,oBAOpCX,EAA8B,UAAW,GAAG,SAAUY,EAASC,EAAeC,EAAiBC,GAC7F,IAAIC,EAA+CD,EAAOC,6CACtDC,EAAmBF,EAAOE,iBAC1BC,EAAoBF,EAA+C,IAAM,KAE7E,MAAO,CAGL,SAAiBG,EAAaC,GAC5B,IAAIhC,EAAIe,EAAuBkB,MAC3BC,EAA0BxI,MAAfqI,OAA2BrI,EAAYqI,EAAYP,GAClE,YAAoB9H,IAAbwI,EACHA,EAAS9B,KAAK2B,EAAa/B,EAAGgC,GAC9BP,EAAcrB,KAAK+B,OAAOnC,GAAI+B,EAAaC,IAIjD,SAAUI,EAAQJ,GAChB,IACIJ,GAAgDC,GACzB,iBAAjBG,IAA0E,IAA7CA,EAAajI,QAAQ+H,GAC1D,CACA,IAAIO,EAAMX,EAAgBD,EAAeW,EAAQH,KAAMD,GACvD,GAAIK,EAAIC,KAAM,OAAOD,EAAI/M,MAG3B,IAAIiN,EAAK1B,EAASuB,GACdI,EAAIL,OAAOF,MAEXQ,EAA4C,mBAAjBT,EAC1BS,IAAmBT,EAAeG,OAAOH,IAE9C,IAAIU,EAASH,EAAGG,OAChB,GAAIA,EAAQ,CACV,IAAIC,EAAcJ,EAAGK,QACrBL,EAAGM,UAAY,EAGjB,IADA,IAAIC,EAAU,KACD,CACX,IAAI/C,EAASkB,EAAWsB,EAAIC,GAC5B,GAAe,OAAXzC,EAAiB,MAGrB,GADA+C,EAAQjN,KAAKkK,IACR2C,EAAQ,MAGI,KADFP,OAAOpC,EAAO,MACRwC,EAAGM,UAAY7B,EAAmBwB,EAAGvD,EAASsD,EAAGM,WAAYF,IAKpF,IAFA,IAtDwBI,EAsDpBC,EAAoB,GACpBC,EAAqB,EAChBC,EAAI,EAAGA,EAAIJ,EAAQlM,OAAQsM,IAAK,CACvCnD,EAAS+C,EAAQI,GAUjB,IARA,IAAIC,EAAUhB,OAAOpC,EAAO,IACxBqD,EAAWlC,EAAIE,EAAIN,EAAUf,EAAOrK,OAAQ8M,EAAE5L,QAAS,GACvDyM,EAAW,GAMNC,EAAI,EAAGA,EAAIvD,EAAOnJ,OAAQ0M,IAAKD,EAASxN,UAlEzC6D,KADcqJ,EAmE8ChD,EAAOuD,IAlEvDP,EAAKZ,OAAOY,IAmEhC,IAAIQ,EAAgBxD,EAAOyD,OAC3B,GAAIf,EAAmB,CACrB,IAAIgB,EAAe,CAACN,GAASpM,OAAOsM,EAAUD,EAAUZ,QAClC9I,IAAlB6J,GAA6BE,EAAa5N,KAAK0N,GACnD,IAAIG,EAAcvB,OAAOH,EAAa2B,WAAMjK,EAAW+J,SAEvDC,EAAcE,EAAgBT,EAASX,EAAGY,EAAUC,EAAUE,EAAevB,GAE3EoB,GAAYH,IACdD,GAAqBR,EAAExI,MAAMiJ,EAAoBG,GAAYM,EAC7DT,EAAqBG,EAAWD,EAAQvM,QAG5C,OAAOoM,EAAoBR,EAAExI,MAAMiJ,KAKvC,SAASW,EAAgBT,EAASU,EAAKT,EAAUC,EAAUE,EAAeG,GACxE,IAAII,EAAUV,EAAWD,EAAQvM,OAC7BmN,EAAIV,EAASzM,OACboN,EAAUzC,EAKd,YAJsB7H,IAAlB6J,IACFA,EAAgBvE,EAASuE,GACzBS,EAAU1C,GAELG,EAAcrB,KAAKsD,EAAaM,GAAS,SAAUC,EAAOC,GAC/D,IAAIC,EACJ,OAAQD,EAAGE,OAAO,IAChB,IAAK,IAAK,MAAO,IACjB,IAAK,IAAK,OAAOjB,EACjB,IAAK,IAAK,OAAOU,EAAI7J,MAAM,EAAGoJ,GAC9B,IAAK,IAAK,OAAOS,EAAI7J,MAAM8J,GAC3B,IAAK,IACHK,EAAUZ,EAAcW,EAAGlK,MAAM,GAAI,IACrC,MACF,QACE,IAAIqK,GAAKH,EACT,GAAU,IAANG,EAAS,OAAOJ,EACpB,GAAII,EAAIN,EAAG,CACT,IAAI9O,EAAIoM,EAAMgD,EAAI,IAClB,OAAU,IAANpP,EAAgBgP,EAChBhP,GAAK8O,OAA8BrK,IAApB2J,EAASpO,EAAI,GAAmBiP,EAAGE,OAAO,GAAKf,EAASpO,EAAI,GAAKiP,EAAGE,OAAO,GACvFH,EAETE,EAAUd,EAASgB,EAAI,GAE3B,YAAmB3K,IAAZyK,EAAwB,GAAKA,U,oCCjI1CjP,EAAOC,QAAU,S,mFCoDFmP,EA5BF,SAAC,GAAD,QACXC,aADW,MACH,OADG,EAEXC,EAFW,EAEXA,SAFW,IAGXC,iBAHW,MAGC,MAHD,MAIXC,YAJW,MAIJ,EAJI,MAKXC,cALW,MAKF,aALE,MAMXC,cANW,MAMF,EANE,MAOXC,YAPW,MAOJ,MAPI,MAQXC,cARW,MAQF,aARE,EASRC,EATQ,wFAWXC,wBACEH,EADW,eAGTnG,IAAK,CACHuG,QAAS,OACTC,cAAeT,EACfU,SAAUT,EACVU,WAAYR,EACZS,UAAWd,EACXe,eAA8B,QAAdb,EAAsBE,EAASG,EAC/CS,WAA0B,QAAdd,EAAsBK,EAASH,IAE1CI,GAELP,IC3CWF,O,iJCyMAkB,IA3LA,SAAC,GAAD,YAAEC,SAAF,OACb,0BACE/G,IAAK,CACHgH,gBAAiBC,IAAOC,OACxBC,MAAOF,IAAOG,MACd1C,SAAU,QACV2C,OAAQ,EACRvH,MAAO,OACPwH,IAAK,EACLC,KAAM,EACN,eAAgB,CACdhB,QAAS,UAGb,gBAAC,IAAD,KACE,uBACEvG,KAAG,GACDuG,QAAS,OACTC,cAAe,MACfI,eAAgB,gBAChBC,WAAY,SACZ9G,OAAQ,IALP,EAMAyH,IAAMC,QAAQ,QAAS,UAAW,CACjC1H,OAAQ,IAPT,EASAyH,IAAME,SAAS,UAAW,CACzB3H,OAAQ,IAVT,IAaH,gBAAC,OAAD,CACEC,KAAG,GACDuG,QAAS,OACToB,YAAa,GACb5H,OAAQ,OACR8G,WAAY,SACZM,MAAOF,IAAOW,MAEd,SAAU,CACRC,QAAS,EACTV,MAAOF,IAAOG,QATf,EAYAI,IAAMM,YAAY,UAAW,CAC5BhI,MAAO,kBAbR,EAeA0H,IAAME,SAAS,UAAW,CACzBK,KAAM,YAhBP,GAmBHC,GAAG,KAEH,uBAAKhI,IAAK,CAACiI,WAAY,KACrB,uBAAKC,MAAM,6BAA6BpI,MAAM,MAAMC,OAAO,OAAOF,QAAQ,cACpE,qBAAGI,KAAK,OAAOkI,SAAS,WACxB,wBAAMlI,KAAMgH,IAAOW,MACnB1H,EAAE,stDAEF,wBAAMD,KAAK,OACXC,EAAE,87FAiDZ,uBACEF,KAAG,GACDuG,QAAS,OACTM,WAAY,SACZD,eAAgB,WAChB9G,MAAO,QAJN,EAMA0H,IAAME,SAAS,WAAY,CAC5B5H,MAAO,QAPN,EASA0H,IAAMM,YAAY,UAAW,CAC9BhI,MAAO,kBAVN,IAcD,gBAAC,IAAD,CAAQsI,QAAS,CAAC,CAACvM,KAAM,YA0B3B,qBACEmE,IAAG,eACDqI,QAAS,WACTC,WAAY,GACZC,WAAY,UACTC,IAAMC,MAJR,CAMD,SAAU,CACRtB,MAAOF,IAAOW,OAGhB,SAAU,CACRC,QAAS,EACTb,gBAAiBC,IAAOyB,QACxBC,aAAc,MAOlBC,KAAK,mDACLvL,OAAO,SACPwL,IAAI,YAvBN,SAyBE,gBAAC,IAAD,CACEnJ,SAAU,CACR4I,WAAY,EACZQ,eAAgB,EAChB3B,MAAOF,IAAO8B,kB,0DCrM9B,IAAIC,EAAmB,EAAQ,QAE3BC,EAAgB,EAAQ,QAExBC,EAAgB,EAAQ,QAExBpS,EAAiB,EAAQ,QAEzBiG,EAAS,EAAQ,QAEjBoM,EAAW,EAAQ,QAEnBC,EAAgB,EAAQ,QAExBC,EAAU,EAAQ,QA0GtB,SAASC,EAAoBC,EAAQvS,EAAOwS,GACJ,mBAA3BD,EAAOE,iBAChBF,EAAOE,gBAAgB,cAAgBJ,EAAU,KAGnD9F,KAAKmG,UAAUH,GACf,IAAII,EAAOH,GAAW,GACtBG,EAAK3S,MAAQA,EACbuM,KAAKtM,MAAQ+R,EAAiBY,KAAKD,GACnCpG,KAAKsG,YAAc,KACnBtG,KAAKuG,SAAW,EAChBvG,KAAKwG,sBAAwB,EAC7BxG,KAAKyG,eAAiB,GACtBzG,KAAK0G,kBAAoB,EA6sB3B,SAASC,EAAe/Q,GACtB,GAAIA,EAAO,EAAG,MAAM,IAAIgR,MAAM,2BAO9B,OALA5G,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoT,QAAQlR,GAC1BmR,aAAa,IAGR/G,KAsNT,SAASgH,IACP,OAAOhH,KAAKtM,MAAMkC,KAz6BpBgQ,EAASG,EAAqBvM,EAAOyN,cAarClB,EAAoBmB,UAAUC,OAAS,WAKrC,OAJAnH,KAAKoH,QAAQ,CACXC,wBAAwB,IAGnBrH,MAGT+F,EAAoBmB,UAAUI,6BAA+B,WAK3D,OAJAtH,KAAKoH,QAAQ,CACXC,wBAAwB,IAGnBrH,MAST+F,EAAoBmB,UAAUK,SAAW,WACvC,IAAI7T,EAAQsM,KAAKtM,MACjB,OAAOH,EAAeQ,qBAAqBL,IAwC7CqS,EAAoBmB,UAAUM,WAAa,SAAUvB,EAASwB,GAC5D,IAAIC,EAAazB,EAAuBjG,KAAKtM,MAAMiU,mBAAmB1B,GAA3CjG,KAAKtM,MAE5BC,EAAUJ,EAAeC,YAAYkU,EAAUjU,MAAOiU,GAEtD1J,EAAOgC,KAMX,GALAA,KAAK0G,oBACL1G,KAAK4H,KAAK,aAAc,CACtBlU,MAAOgU,KAGLD,EAqBJ,OAAOzH,KAAKgG,OAAOmB,OAAOxT,GAASkU,MAAK,SAAUC,GAGhD,OAFA9J,EAAK0I,oBAC0B,IAA3B1I,EAAK0I,mBAAyB1I,EAAK4J,KAAK,oBACrC,CACLE,QAAS,IAAIpC,EAAcgC,EAAWI,EAAQjH,SAC9CnN,MAAOgU,EACPK,kBAAmBD,MAEpB,SAAUE,GAGX,MAFAhK,EAAK0I,oBAC0B,IAA3B1I,EAAK0I,mBAAyB1I,EAAK4J,KAAK,oBACtCI,KA/BNhI,KAAKgG,OAAOmB,OAAOxT,GAASkU,MAAK,SAAUC,GACzC9J,EAAK0I,oBAE0B,IAA3B1I,EAAK0I,mBACP1I,EAAK4J,KAAK,oBAGZH,EAAG,KAAM,IAAI/B,EAAcgC,EAAWI,EAAQjH,SAAU6G,MACvDO,OAAM,SAAUC,GACjBlK,EAAK0I,oBAE0B,IAA3B1I,EAAK0I,mBACP1I,EAAK4J,KAAK,oBAGZH,EAAGS,EAAK,KAAMR,OAuDpB3B,EAAoBmB,UAAUiB,qBAAuB,SAAU1S,EAAOoD,EAAOC,EAAcsP,GACzF,IAAIC,EAA4D,mBAArCrI,KAAKgG,OAAOmC,qBAEvC,IAAKE,GAAkD,mBAA1BrI,KAAKgG,OAAOsC,UACvC,MAAM,IAAI1B,MAAM,yKAGlB,IAAIlT,EAAQsM,KAAKtM,MAAMiU,mBAAmBS,GAAa,IACnDG,EAAgB7U,EAAMsF,mBAAmBvD,GACzC+S,EAAejV,EAAeqF,uBAAuBnD,EAAOoD,EAAOC,EAAcpF,GACrFsM,KAAK0G,oBACL,IAAI1I,EAAOgC,KAUX,OATAA,KAAK4H,KAAK,uBAAwB,CAChClU,MAAOA,EACP+B,MAAOA,EACPoD,MAAOA,KAEyBwP,EAAgBrI,KAAKgG,OAAOmC,qBAAqB,CAAC,CAClFtU,UAAWH,EAAMD,MACjBK,OAAQ0U,KACJxI,KAAKgG,OAAOsC,UAAU5U,EAAMD,OAAO0U,qBAAqBK,IAC3BX,MAAK,SAAsBC,GAO5D,OANA9J,EAAK0I,oBAC0B,IAA3B1I,EAAK0I,mBAAyB1I,EAAK4J,KAAK,qBAC5CE,EAAUnR,MAAMC,QAAQkR,GAAWA,EAAQ,GAAKA,GACxCW,UAAUxU,SAAQ,SAAUjB,GAClCA,EAAE0V,UAAYH,EAAgB7U,EAAMiV,0BAA0BlT,EAAOzC,EAAEK,OAASK,EAAMkV,eAAenT,EAAOzC,EAAEK,UAEzGyU,KACN,SAAUE,GAGX,MAFAhK,EAAK0I,oBAC0B,IAA3B1I,EAAK0I,mBAAyB1I,EAAK4J,KAAK,oBACtCI,MAcVjC,EAAoBmB,UAAUtL,SAAW,SAAUiN,GAMjD,OALA7I,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYlN,SAASiN,GACvC9B,aAAa,IAGR/G,MA2BT+F,EAAoBmB,UAAUjO,iBAAmB,SAAUX,GAMzD,OALA0H,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAY7P,iBAAiBX,GAC/CyO,aAAa,IAGR/G,MAYT+F,EAAoBmB,UAAU6B,UAAY,WAMxC,OALA/I,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYC,YAC9BhC,aAAa,IAGR/G,MAeT+F,EAAoBmB,UAAU8B,8BAAgC,SAAUvT,EAAOpC,GAM7E,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYE,8BAA8BvT,EAAOpC,GACnE0T,aAAa,IAGR/G,MAOT+F,EAAoBmB,UAAU+B,qBAAuB,WACnD,OAAOjJ,KAAKgJ,8BAA8BtH,MAAM1B,KAAMkJ,YAiBxDnD,EAAoBmB,UAAUiC,+BAAiC,SAAU1T,EAAOpC,GAM9E,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYK,+BAA+B1T,EAAOpC,GACpE0T,aAAa,IAGR/G,MAgBT+F,EAAoBmB,UAAUkC,qBAAuB,SAAU7S,EAAWE,EAAUpD,GAMlF,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYM,qBAAqB7S,EAAWE,EAAUpD,GACxE0T,aAAa,IAGR/G,MAeT+F,EAAoBmB,UAAUmC,mBAAqB,SAAU5T,EAAOpC,GAMlE,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYO,mBAAmB5T,EAAOpC,GACxD0T,aAAa,IAGR/G,MAOT+F,EAAoBmB,UAAUoC,UAAY,WACxC,OAAOtJ,KAAKqJ,mBAAmB3H,MAAM1B,KAAMkJ,YAe7CnD,EAAoBmB,UAAUqC,kBAAoB,SAAU9T,EAAOpC,GAMjE,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYU,qBAAqB/T,EAAOpC,GAC1D0T,aAAa,IAGR/G,MAOT+F,EAAoBmB,UAAUuC,WAAa,WACzC,OAAOzJ,KAAKuJ,kBAAkB7H,MAAM1B,KAAMkJ,YAc5CnD,EAAoBmB,UAAUwC,OAAS,SAAUC,GAM/C,OALA3J,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYc,iBAAiBD,GAC/C5C,aAAa,IAGR/G,MAsBT+F,EAAoBmB,UAAU2C,wBAA0B,SAAUtT,EAAWE,EAAUpD,GAMrF,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYe,wBAAwBtT,EAAWE,EAAUpD,GAC3E0T,aAAa,IAGR/G,MAkBT+F,EAAoBmB,UAAU4C,iCAAmC,SAAUrU,EAAOpC,GAMhF,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYgB,iCAAiCrU,EAAOpC,GACtE0T,aAAa,IAGR/G,MAOT+F,EAAoBmB,UAAU6C,wBAA0B,WACtD,OAAO/J,KAAK8J,iCAAiCpI,MAAM1B,KAAMkJ,YAY3DnD,EAAoBmB,UAAU8C,kCAAoC,SAAUvU,GAM1E,OALAuK,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYkB,kCAAkCvU,GAChEsR,aAAa,IAGR/G,MAkBT+F,EAAoBmB,UAAU+C,sBAAwB,SAAUxU,EAAOpC,GAMrE,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYmB,sBAAsBxU,EAAOpC,GAC3D0T,aAAa,IAGR/G,MAOT+F,EAAoBmB,UAAUgD,aAAe,WAC3C,OAAOlK,KAAKiK,sBAAsBvI,MAAM1B,KAAMkJ,YAkBhDnD,EAAoBmB,UAAUiD,qBAAuB,SAAU1U,EAAOpC,GAMpE,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYsB,wBAAwB3U,EAAOpC,GAC7D0T,aAAa,IAGR/G,MAOT+F,EAAoBmB,UAAUmD,cAAgB,WAC5C,OAAOrK,KAAKmK,qBAAqBzI,MAAM1B,KAAMkJ,YAc/CnD,EAAoBmB,UAAUoD,UAAY,SAAUX,GAMlD,OALA3J,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYyB,oBAAoBZ,GAClD5C,aAAa,IAGR/G,MAeT+F,EAAoBmB,UAAUsD,qBAAuB,SAAU/U,EAAOpC,GAMpE,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAY2B,6BAA6BhV,EAAOpC,GAClE0T,aAAa,IAGR/G,MAOT+F,EAAoBmB,UAAUwD,cAAgB,WAC5C,OAAO1K,KAAKwK,qBAAqB9I,MAAM1B,KAAMkJ,YAmB/CnD,EAAoBmB,UAAUyD,iBAAmB,SAAUlV,EAAOpC,GAChE,OAAO2M,KAAK4K,sBAAsBnV,EAAOpC,IAkB3C0S,EAAoBmB,UAAU0D,sBAAwB,SAAUnV,EAAOpC,GAMrE,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAY8B,sBAAsBnV,EAAOpC,GAC3D0T,aAAa,IAGR/G,MAOT+F,EAAoBmB,UAAU2D,aAAe,WAC3C,OAAO7K,KAAK4K,sBAAsBlJ,MAAM1B,KAAMkJ,YAchDnD,EAAoBmB,UAAU4D,UAAY,SAAUnB,GAMlD,OALA3J,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYiC,oBAAoBpB,GAClD5C,aAAa,IAGR/G,MAaT+F,EAAoBmB,UAAU8D,SAAW,WACvC,IAAIpV,EAAOoK,KAAKtM,MAAMkC,MAAQ,EAC9B,OAAOoK,KAAK8G,QAAQlR,EAAO,IAa7BmQ,EAAoBmB,UAAU+D,aAAe,WAC3C,IAAIrV,EAAOoK,KAAKtM,MAAMkC,MAAQ,EAC9B,OAAOoK,KAAK8G,QAAQlR,EAAO,IA2B7BmQ,EAAoBmB,UAAUP,eAAiBA,EAU/CZ,EAAoBmB,UAAUJ,QAAUH,EAWxCZ,EAAoBmB,UAAUgE,SAAW,SAAU5S,GAMjD,OALA0H,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYoC,SAAS5S,GACvCyO,aAAa,IAGR/G,MAqBT+F,EAAoBmB,UAAUiE,kBAAoB,SAAUC,EAAW/X,GAMrE,OALA2M,KAAK6G,QAAQ,CACXnT,MAAOsM,KAAKtM,MAAMoV,YAAYqC,kBAAkBC,EAAW/X,GAC3D0T,aAAa,IAGR/G,MAWT+F,EAAoBmB,UAAUmE,SAAW,SAAUC,GAMjD,OALAtL,KAAK6G,QAAQ,CACXnT,MAAO+R,EAAiBY,KAAKiF,GAC7BvE,aAAa,IAGR/G,MAqBT+F,EAAoBmB,UAAUqE,0CAA4C,SAAUD,GAElF,OADAtL,KAAKtM,MAAQ,IAAI+R,EAAiB6F,GAC3BtL,MA2BT+F,EAAoBmB,UAAUsE,eAAiB,SAAUjV,GACvD,QAAIsP,EAAc7F,KAAKtM,MAAM+X,sBAAsBlV,MAExCyJ,KAAKtM,MAAMgY,mBAAmBnV,GAChCyJ,KAAKtM,MAAMkV,eAAerS,GACxByJ,KAAKtM,MAAMsF,mBAAmBzC,GAChCyJ,KAAKtM,MAAMiV,0BAA0BpS,KACnCyJ,KAAKtM,MAAMiY,oBAAoBpV,IACjCyJ,KAAKtM,MAAMkY,2BAA2BrV,KA+BjDwP,EAAoBmB,UAAU2E,WAAa,SAAUpW,EAAOpC,GAC1D,OAAO2M,KAAKtM,MAAMoY,iBAAiBrW,EAAOpC,IAO5C0S,EAAoBmB,UAAU6E,qBAAuB,SAAUtW,EAAOpC,GACpE,OAAO2M,KAAKtM,MAAMiV,0BAA0BlT,EAAOpC,IASrD0S,EAAoBmB,UAAU8E,OAAS,SAAUrC,GAC/C,OAAO3J,KAAKtM,MAAMuY,aAAatC,IAOjC5D,EAAoBmB,UAAU+E,aAAe,WAC3C,OAAOjM,KAAKkM,kBAAkBxK,MAAM1B,KAAMkJ,YAW5CnD,EAAoBmB,UAAUiF,SAAW,WACvC,OAAOnM,KAAKtM,MAAMD,OAapBsS,EAAoBmB,UAAUF,eAAiBA,EAO/CjB,EAAoBmB,UAAUkF,QAAUpF,EAOxCjB,EAAoBmB,UAAUmF,QAAU,WACtC,OAAOrM,KAAKtM,MAAMsD,gBAgDpB+O,EAAoBmB,UAAUoF,eAAiB,SAAUnW,GACvD,IAAIoW,EAAc,GAElB,GAAIvM,KAAKtM,MAAMgY,mBAAmBvV,GACV6J,KAAKtM,MAAM8Y,0BAA0BrW,GAC3ClC,SAAQ,SAAUwY,GAChCF,EAAY3Y,KAAK,CACfP,MAAOoZ,EACP7J,KAAM,mBAGe5C,KAAKtM,MAAMgZ,sBAAsBvW,GACvClC,SAAQ,SAAUwY,GACnCF,EAAY3Y,KAAK,CACfP,MAAOoZ,EACP7J,KAAM,oBAGL,GAAI5C,KAAKtM,MAAMsF,mBAAmB7C,GAAY,CAC7B6J,KAAKtM,MAAMiZ,0BAA0BxW,GAC3ClC,SAAQ,SAAUwY,GAChCF,EAAY3Y,KAAK,CACfP,MAAOoZ,EACP7J,KAAM,mBAKZ,IAAItM,EAAqB0J,KAAKtM,MAAM+X,sBAAsBtV,GAS1D,OARAC,OAAOC,KAAKC,GAAoBrC,SAAQ,SAAUwC,GAChD,IAAIpD,EAAQiD,EAAmBG,GAC/B8V,EAAY3Y,KAAK,CACfP,MAAOA,EACPoD,SAAUA,EACVmM,KAAM,eAGH2J,GAUTxG,EAAoBmB,UAAU0F,qBAAuB,SAAUrW,EAAWE,GACxE,OAAOuJ,KAAKtM,MAAMkZ,qBAAqBrW,EAAWE,IASpDsP,EAAoBmB,UAAU2F,+BAAiC,SAAU1W,GACvE,OAAO6J,KAAKtM,MAAMmZ,+BAA+B1W,IAanD4P,EAAoBmB,UAAUE,QAAU,SAAUnB,GAChD,IAAIvS,EAAQsM,KAAKtM,MACboZ,EAAS,GACTC,EAAc,GAEb9G,EAAQoB,yBACX0F,EAAcxZ,EAAeC,YAAYE,EAAMD,MAAOC,GACtDoZ,EAAOlZ,KAAK,CACVF,MAAOA,EACPsZ,aAAcD,EAAYpY,OAC1BsY,OAAQjN,OAEVA,KAAK4H,KAAK,SAAU,CAClBlU,MAAOA,EACPmN,QAASb,KAAKsG,eAIlB,IAAI4G,EAAiBlN,KAAKyG,eAAe3P,KAAI,SAAUqW,GACrD,IAAIC,EAAeD,EAAcE,iBAAiB3Z,GAE9C4Z,EAAsB/Z,EAAeC,YAAY4Z,EAAa3Z,MAAO2Z,GAWzE,OATAN,EAAOlZ,KAAK,CACVF,MAAO0Z,EACPJ,aAAcM,EAAoB3Y,OAClCsY,OAAQE,IAEVA,EAAcvF,KAAK,SAAU,CAC3BlU,MAAO0Z,EACPvM,QAASsM,EAAc7G,cAElBgH,KAEL3Z,EAAUgD,MAAMuQ,UAAUpS,OAAO4M,MAAMqL,EAAaG,GACpDK,EAAUvN,KAAKuG,WACnBvG,KAAK0G,oBAEL,IACE1G,KAAKgG,OAAOmB,OAAOxT,GAASkU,KAAK7H,KAAKwN,yBAAyB3Q,KAAKmD,KAAM8M,EAAQS,IAAUtF,MAAMjI,KAAKyN,sBAAsB5Q,KAAKmD,KAAMuN,IACxI,MAAOG,GAEP1N,KAAK4H,KAAK,QAAS,CACjB8F,MAAOA,MAiBb3H,EAAoBmB,UAAUsG,yBAA2B,SAAUV,EAAQS,EAASzF,GAElF,KAAIyF,EAAUvN,KAAKwG,sBAAnB,CAKAxG,KAAK0G,mBAAqB6G,EAAUvN,KAAKwG,qBACzCxG,KAAKwG,qBAAuB+G,EACG,IAA3BvN,KAAK0G,mBAAyB1G,KAAK4H,KAAK,oBAC5C,IAAI/G,EAAUiH,EAAQjH,QAAQ9I,QAC9B+U,EAAO7Y,SAAQ,SAAU0Z,GACvB,IAAIja,EAAQia,EAAEja,MACVsZ,EAAeW,EAAEX,aACjBC,EAASU,EAAEV,OACXW,EAAkB/M,EAAQgN,OAAO,EAAGb,GACpCc,EAAoBb,EAAO3G,YAAc,IAAIZ,EAAchS,EAAOka,GACtEX,EAAOrF,KAAK,SAAU,CACpB/G,QAASiN,EACTpa,MAAOA,SAKbqS,EAAoBmB,UAAUuG,sBAAwB,SAAUF,EAASG,GACnEH,EAAUvN,KAAKwG,uBAKnBxG,KAAK0G,mBAAqB6G,EAAUvN,KAAKwG,qBACzCxG,KAAKwG,qBAAuB+G,EAC5BvN,KAAK4H,KAAK,QAAS,CACjB8F,MAAOA,IAEsB,IAA3B1N,KAAK0G,mBAAyB1G,KAAK4H,KAAK,sBAG9C7B,EAAoBmB,UAAU6G,mBAAqB,SAAUlV,EAAO5D,EAAcE,EAAgBG,GAChG,OAAOuD,GAAiC,IAAxB5D,EAAaN,QAA0C,IAA1BQ,EAAeR,QAAsC,IAAtBW,EAAWX,QAUzFoR,EAAoBmB,UAAU8G,2BAA6B,SAAUvY,GACnE,OAAOuK,KAAKtM,MAAMua,uBAAuBxY,IAAUuK,KAAKtM,MAAMua,uBAAuBxY,GAAOd,OAAS,GAGvGoR,EAAoBmB,UAAUL,QAAU,SAAUjN,GAChD,IAAIlG,EAAQkG,EAAMlG,MACdqT,EAAcnN,EAAMmN,YAEpBrT,IAAUsM,KAAKtM,QACjBsM,KAAKtM,MAAQA,EACbsM,KAAK4H,KAAK,SAAU,CAClBlU,MAAOsM,KAAKtM,MACZmN,QAASb,KAAKsG,YACdS,YAAaA,MAUnBhB,EAAoBmB,UAAUgH,WAAa,WAEzC,OADAlO,KAAKgG,OAAOkI,YAAclO,KAAKgG,OAAOkI,aAC/BlO,MAUT+F,EAAoBmB,UAAUf,UAAY,SAAUgI,GAClD,OAAInO,KAAKgG,SAAWmI,IAEqB,mBAA9BA,EAAUjI,iBACnBiI,EAAUjI,gBAAgB,cAAgBJ,EAAU,KAGtD9F,KAAKgG,OAASmI,GANwBnO,MAexC+F,EAAoBmB,UAAUkH,UAAY,WACxC,OAAOpO,KAAKgG,QAuBdD,EAAoBmB,UAAUmH,OAAS,SAAUC,GAC/C,IAAInB,EAAgB,IAAIxH,EAAc3F,KAAMsO,GAE5C,OADAtO,KAAKyG,eAAe7S,KAAKuZ,GAClBA,GAWTpH,EAAoBmB,UAAUqH,oBAAsB,SAAUpB,GAC5D,IAAIqB,EAAMxO,KAAKyG,eAAe3O,QAAQqV,GACtC,IAAa,IAATqB,EAAY,MAAM,IAAI5H,MAAM,mCAChC5G,KAAKyG,eAAeoH,OAAOW,EAAK,IAQlCzI,EAAoBmB,UAAUuH,mBAAqB,WACjD,OAAOzO,KAAK0G,kBAAoB,GAmBlCzT,EAAOC,QAAU6S,G,qCCv6CjB,qFAQe2I,iBACX,YAA+D,IAAD,EAA3DnT,EAA2D,EAA3DA,OAAQoT,EAAmD,EAAnDA,QAAS/S,EAA0C,EAA1CA,SAAUgT,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,cAOhCC,EAAWC,mBAajB,OACI,wBAAMC,UAAU,cACZ,yBACIvS,KAAG,OACEwH,IAAME,SAAS,mBAAoB,CAChC5H,MAAO,GACP0S,WAAY,oBACZ,SAAU,CACN1S,MAAO,UALhB,GASH2S,OAnBO,WACfC,YAAW,WACPvT,EAAS,IACTiT,EAAc,MACf,MAgBKG,UAAU,cACVpM,KAAK,OACLwM,YAAY,SACZC,aAAW,SACXC,SAnCK,SAACtH,GACd6G,EAAc7G,EAAElO,OAAOzG,OACvBkI,EAAOyM,EAAElO,OAAOzG,QAkCRA,MAAOub,EACPnV,IAAKqV,EACLH,QAASA,IAEb,wBAAMhV,QAjCK,WACfmV,EAAS/U,QAAQwV,SAgCc9S,IAAK,CAAC+S,OAAQ,QAASR,UAAU,YACxD,uBAAKS,IAAKtI,IAAQ1K,IAAK,CAAEF,MAAO,a,0DClDpD,SAASmT,EAAgBC,GACvB,OAAOA,GAAoB,iBAAPA,GAAmB,YAAaA,EAAKA,EAAY,QAAIA,EAG3E,IAAIC,EAAQ,EAAQ,QAEhBC,EAAiBH,EAAgBE,GAEjCE,EAAeJ,EAAgB,EAAQ,SAE3C,SAASK,EAAgBC,EAAKC,EAAK5c,GAYjC,OAXI4c,KAAOD,EACT5Z,OAAOrD,eAAeid,EAAKC,EAAK,CAC9B5c,MAAOA,EACP6c,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZJ,EAAIC,GAAO5c,EAGN2c,EAST,IAAIK,IAAiC,oBAAXC,SAA0BA,OAAOpW,WAAYoW,OAAOpW,SAAS6I,eAmGvF9P,EAAOC,QAjGP,SAAwBqd,EAAoBC,EAA2BC,GACrE,GAAkC,mBAAvBF,EACT,MAAM,IAAI3J,MAAM,iDAGlB,GAAyC,mBAA9B4J,EACT,MAAM,IAAI5J,MAAM,wDAGlB,QAAgC,IAArB6J,GAAgE,mBAArBA,EACpD,MAAM,IAAI7J,MAAM,mEAOlB,OAAO,SAAc8J,GACnB,GAAgC,mBAArBA,EACT,MAAM,IAAI9J,MAAM,sDAGlB,IACIlT,EADAid,EAAmB,GAGvB,SAASC,IACPld,EAAQ6c,EAAmBI,EAAiB7Z,KAAI,SAAUuC,GACxD,OAAOA,EAASiB,UAGduW,EAAWR,UACbG,EAA0B9c,GACjB+c,IACT/c,EAAQ+c,EAAiB/c,IAI7B,IAAImd,EAA0B,SAAUC,GA7C5C,IAAwBC,EAAUC,EAgD5B,SAASH,IACP,OAAOC,EAAWpP,MAAM1B,KAAMkJ,YAAclJ,KAjDlBgR,EA8CDF,GA9CTC,EA8CHF,GA7CV3J,UAAY9Q,OAAO8H,OAAO8S,EAAW9J,WAC9C6J,EAAS7J,UAAU+J,YAAcF,EACjCA,EAASG,UAAYF,EAmDjBH,EAAWM,KAAO,WAChB,OAAOzd,GAGTmd,EAAWO,OAAS,WAClB,GAAIP,EAAWR,UACb,MAAM,IAAIzJ,MAAM,oFAGlB,IAAIyK,EAAgB3d,EAGpB,OAFAA,OAAQ+D,EACRkZ,EAAmB,GACZU,GAGT,IAAIC,EAAST,EAAW3J,UAyBxB,OAvBAoK,EAAOC,sBAAwB,SAA+BC,GAC5D,OAAQ1B,EAAa0B,EAAWxR,KAAK1F,QAGvCgX,EAAOG,mBAAqB,WAC1Bd,EAAiB/c,KAAKoM,MACtB4Q,KAGFU,EAAOI,mBAAqB,WAC1Bd,KAGFU,EAAOK,qBAAuB,WAC5B,IAAIle,EAAQkd,EAAiB7Y,QAAQkI,MACrC2Q,EAAiB9C,OAAOpa,EAAO,GAC/Bmd,KAGFU,EAAOM,OAAS,WACd,OAAO/B,EAAe9M,cAAc2N,EAAkB1Q,KAAK1F,QAGtDuW,EAjDqB,CAkD5BjB,EAAMiC,WAMR,OAJA9B,EAAgBc,EAAY,cAAe,cA5E7C,SAAwBH,GACtB,OAAOA,EAAiB9V,aAAe8V,EAAiBpY,MAAQ,YA2ELwZ,CAAepB,GAAoB,KAE9FX,EAAgBc,EAAY,YAAaR,GAElCQ,K,uBChIX,IAAIkB,EAAW,EAAQ,QACnBnb,EAAU,EAAQ,QAGlBob,EAFkB,EAAQ,OAEhBC,CAAgB,WAI9Bhf,EAAOC,QAAU,SAAUgf,EAAevd,GACxC,IAAIwd,EASF,OAREvb,EAAQsb,KAGM,mBAFhBC,EAAID,EAAcjB,cAEakB,IAAMxb,QAASC,EAAQub,EAAEjL,WAC/C6K,EAASI,IAEN,QADVA,EAAIA,EAAEH,MACUG,OAAI1a,GAH+C0a,OAAI1a,GAKlE,SAAWA,IAAN0a,EAAkBxb,MAAQwb,GAAc,IAAXxd,EAAe,EAAIA,K,oCCNjD,SAASyd,IACtB,GAAoB,mBAATC,MAAyC,MAAlBA,KAAKnL,UAAvC,CAKA,IAAMoL,EAAsBD,KAAKnL,UAAUqL,YAE3CF,KAAKnL,UAAUqL,YAAc,SAASC,GACpC,OAAIA,EAAMC,aAAezS,MACA,oBAAZ0S,SACTA,QAAQhF,MACN,gDACA8E,EACAxS,MAGGwS,GAEFF,EAAoB5Q,MAAM1B,KAAMkJ,YAIzC,IAAMyJ,EAAuBN,KAAKnL,UAAU0L,aAE5CP,KAAKnL,UAAU0L,aAAe,SAASC,EAASC,GAC9C,OAAIA,GAAiBA,EAAcL,aAAezS,MACzB,oBAAZ0S,SACTA,QAAQhF,MACN,gEACAoF,EACA9S,MAGG6S,GAEFF,EAAqBjR,MAAM1B,KAAMkJ,aAhD5C,mC,kCCEA,IAAI3K,EAAO,EAAQ,QASnBtL,EAAOC,QAAU,SAAoB6f,EAAQC,GAC3C,IAAIC,GAAuBD,GAAY,IAAIlc,KAAI,SAAUoc,GACvD,OAAOA,EAAKte,MAAM,QAEpB,OAAOme,EAAO5a,QAAO,SAA0Bgb,EAAKD,GAClD,IAAIE,EAAkBF,EAAKte,MAAM,KAC7Bye,EAAkB9U,EAAK0U,GAAqB,SAAUK,GACxD,OAAOA,EAAmB,KAAOF,EAAgB,MAGnD,OAAIA,EAAgBze,OAAS,IAAM0e,GACjCF,EAAI,GAAGvf,KAAKwf,EAAgB,IAC5BD,EAAI,GAAGvf,KAAKwf,EAAgB,IACrBD,IAGTA,EAAI,GAAGvf,KAAKyf,EAAgB,IAC5BF,EAAI,GAAGvf,KAAKyf,EAAgB,IACrBF,KACN,CAAC,GAAI,O,kJCzBJI,G,UAAgB,CAAC,qBAAsB,6BAA8B,cAAe,6BAEpFC,EAAc,SAAC,GAAqB,IAAnB3a,EAAkB,EAAlBA,MAAO4a,EAAW,EAAXA,KAAW,EAELC,wBAASjc,GAAxBkc,GAFoB,WAG/BC,EAAYC,EAAY,aACxBC,EAAUD,EAAY,WACtBE,EAAaF,EAAY,SALM,EAMTH,mBAAS,GAA9BlE,EAN8B,KAMtBwE,EANsB,OAOPN,wBAASjc,GAAhCwc,EAP8B,UAkCrC,OAzBAha,qBAAU,WACFwZ,EAAK9e,QAAUif,GACfI,GAAU,SAAAE,GAAS,OACfA,EAAYT,EAAK9e,OAAS,EAAIuf,EAAY,EAAIA,OAGvD,CAACN,IACJ3Z,qBAAU,WACFwZ,EAAK9e,QAAUmf,GACfE,GAAU,SAAAE,GAAS,OAAKA,EAAY,EAAIA,EAAY,EAAIA,OAE7D,CAACJ,IACJ7Z,qBAAU,WACFwZ,EAAK9e,QAAUof,GACfJ,EAAYF,EAAKjE,MAEtB,CAACA,EAAQuE,IACZ9Z,qBAAU,WACFwZ,EAAK9e,QAAUsf,GACfD,EAAUP,EAAK3b,QAAQmc,MAE5B,CAACA,IAKA,kCACKR,EAAK3c,KAAI,SAACqd,EAAKlT,GAAO,IAAD,IAEZmT,EAAS,SAACC,GAAD,OAAS,SAAArM,GACpBA,EAAEsM,iBACFhE,OAAO9M,SAAS6B,KAAOgP,IAGrBE,EAAU,SAACC,GACb,OAAUL,EAAIM,KAAd,IAAsBD,EAAME,QAAQ,OAAQ,KAAKA,QAAQ,eAAgB,IAAIC,eAK3EC,EAAWT,EAAIS,SAChBxW,QAAO,YAAgB,IAAb/K,EAAY,EAAZA,MACP,SAAKA,GAASkgB,EAAclV,MAAK,SAAAtD,GAAM,OAAIA,EAAO8Z,SAASxhB,QAGpDA,EAAMshB,cAAcE,SAAShc,MAEvC/B,KAAI,WAAYmK,GAAO,IAAhB5N,EAAe,EAAfA,MAKJ,OAJIA,EAAMwhB,SAAS,iBACfxhB,EAAQA,EAAMuB,MAAM,KAAK,GAAGA,MAAM,KAAK,IAIvC,qBAAGqb,IAAKhP,EAAG+N,UAAU,aAAa3J,KAAMkP,EAAQlhB,GAAQsG,QAASya,EAAOG,EAAQlhB,KAC5E,sBACIoJ,IAAK,CACDqY,aAAc,KAEjBzhB,OAarB,OARwB,IAApBuhB,EAASjgB,QACTigB,EAAShhB,KACL,qBAAGqc,IAAK,EAAGjB,UAAU,aAAa3J,KAAMkP,EAAQJ,EAAIK,OAAQ7a,QAASya,EAAOG,EAAQJ,EAAIK,SACpF,0BAAKL,EAAIK,SAMjB,uBACI7a,QAAS,kBAAMga,EAAYoB,OAG3B/F,UAAS,cAAe/N,IAAMuO,EAAS,SAAW,IAClDwF,MAAO,CACHhS,QAAS,OACTiS,oBAAqB,UACrBC,QAAS,KACTC,OAAQ,WAEZ,qBAAG9P,KAAMkP,EAAQJ,EAAIK,OAAQ7a,QAASya,EAAOG,EAAQJ,EAAIK,SACrD,uBACI/X,KAAG,GACC2Y,SAAU,GACVxR,MAAO,OACPyR,YAAa,IAHd,EAKEpR,IAAME,SAAS,UAAW,CACvBiR,SAAU,IANf,EAQEnR,IAAME,SAAS,WAAY,CACxBiR,SAAU,IATf,IAYFjB,EAAIK,QAGb,uBAAK/X,KAAG,GACJ2Y,SAAU,IADN,EAEHnR,IAAME,SAAS,UAAW,CACvBiR,SAAU,IAHV,EAKHnR,IAAME,SAAS,WAAY,CACxBiR,SAAU,IANV,QAQK,CACLhR,YAAa,QATb,IAYHwQ,SASvBf,EAAc,SAACyB,GAAe,IAAD,EACK5B,oBAAS,GAAtC6B,EADwB,KACZC,EADY,KAGzBC,EAAc,SAAC,GAAY,EAAVxF,MACPqF,GACRE,GAAc,IAGhBE,EAAY,SAAC,GAAY,EAAVzF,MACLqF,GACRE,GAAc,IActB,OAVAvb,qBAAU,WAIN,OAHAqW,OAAOnW,iBAAiB,UAAWsb,GACnCnF,OAAOnW,iBAAiB,QAASub,GAE1B,WACHpF,OAAOlW,oBAAoB,UAAWqb,GACtCnF,OAAOlW,oBAAoB,QAASsb,OAIrCH,GAsBKI,aAlBM,SAAC,GAA4B,IAA1BlC,EAAyB,EAAzBA,KAAMhgB,EAAmB,EAAnBA,MAAOoF,EAAY,EAAZA,MAElC,OACI,kCAEU4a,EAAK,GACD,gBAACD,EAAD,CACE/f,MAAOA,EACPoF,MAAOA,EACP4a,KAAMA,IAGR,uBAAKhX,IAAK,CAAEmZ,UAAW,SAAUC,UAAW,KAA5C,0B,2CC/KyC5iB,EAAOC,QAC9D,WACN,aAEA,SAAS8U,EAAEA,EAAG8N,EAAGrJ,GACf,OAAOqJ,KAAK9N,EAAI5R,OAAOrD,eAAeiV,EAAG8N,EAAG,CAC1CziB,MAAOoZ,EACPyD,YAAY,EACZC,cAAc,EACdC,UAAU,IACPpI,EAAE8N,GAAKrJ,EAAGzE,EAGjB,SAAS8N,EAAE9N,EAAG8N,GACZ,IAAIrJ,EAAIrW,OAAOC,KAAK2R,GAEpB,GAAI5R,OAAO2f,sBAAuB,CAChC,IAAI3T,EAAIhM,OAAO2f,sBAAsB/N,GACrC8N,IAAM1T,EAAIA,EAAEhE,QAAO,SAAU0X,GAC3B,OAAO1f,OAAO4f,yBAAyBhO,EAAG8N,GAAG5F,eAC1CzD,EAAE7Y,KAAK8N,MAAM+K,EAAGrK,GAGvB,OAAOqK,EAGT,SAASA,EAAEA,GACT,IAAK,IAAIrK,EAAI,EAAGA,EAAI8G,UAAUvU,OAAQyN,IAAK,CACzC,IAAI6T,EAAI,MAAQ/M,UAAU9G,GAAK8G,UAAU9G,GAAK,GAC9CA,EAAI,EAAI0T,EAAE1f,OAAO6f,IAAI,GAAIhiB,SAAQ,SAAU6hB,GACzC9N,EAAEyE,EAAGqJ,EAAGG,EAAEH,OACP1f,OAAO8f,0BAA4B9f,OAAO+f,iBAAiB1J,EAAGrW,OAAO8f,0BAA0BD,IAAMH,EAAE1f,OAAO6f,IAAIhiB,SAAQ,SAAU+T,GACvI5R,OAAOrD,eAAe0Z,EAAGzE,EAAG5R,OAAO4f,yBAAyBC,EAAGjO,OAInE,OAAOyE,EAiCT,SAASwJ,EAAEjO,EAAG8N,GACZ,OAAO,SAAU9N,GACf,GAAIrR,MAAMC,QAAQoR,GAAI,OAAOA,EADxB,CAELA,IAAM,SAAUA,EAAG8N,GACnB,GAAM1iB,OAAOgjB,YAAYhgB,OAAO4R,IAAM,uBAAyB5R,OAAO8Q,UAAUmP,SAASlY,KAAK6J,GAA9F,CACA,IAAIyE,EAAI,GACJrK,GAAI,EACJ6T,GAAI,EACJK,OAAI,EAER,IACE,IAAK,IAAIC,EAAGtV,EAAI+G,EAAE5U,OAAOgjB,cAAehU,GAAKmU,EAAItV,EAAEuV,QAAQnW,QAAUoM,EAAE7Y,KAAK2iB,EAAEljB,QAASyiB,GAAKrJ,EAAE9X,SAAWmhB,GAAI1T,GAAI,IAGjH,MAAO4F,GACPiO,GAAI,EAAIK,EAAItO,EACZ,QACA,IACE5F,GAAK,MAAQnB,EAAEwV,QAAUxV,EAAEwV,SAC3B,QACA,GAAIR,EAAG,MAAMK,GAIjB,OAAO7J,GArBD,CAsBNzE,EAAG8N,IAAM,WACT,MAAM,IAAIvc,UAAU,wDADX,GAKb,SAAS+c,EAAEtO,GACT,OAAO,SAAUA,GACf,GAAIrR,MAAMC,QAAQoR,GAAI,CACpB,IAAK,IAAI8N,EAAI,EAAGrJ,EAAI,IAAI9V,MAAMqR,EAAErT,QAASmhB,EAAI9N,EAAErT,OAAQmhB,IACrDrJ,EAAEqJ,GAAK9N,EAAE8N,GAGX,OAAOrJ,GANJ,CAQLzE,IAAM,SAAUA,GAChB,GAAI5U,OAAOgjB,YAAYhgB,OAAO4R,IAAM,uBAAyB5R,OAAO8Q,UAAUmP,SAASlY,KAAK6J,GAAI,OAAOrR,MAAM+f,KAAK1O,GAD5G,CAENA,IAAM,WACN,MAAM,IAAIzO,UAAU,mDADd,GAKV,SAASgd,EAAEvO,GACT,IAAI8N,EACArJ,EAAI,2BAA2B3X,OAAOkT,EAAEiI,KACxC7N,EAAI,WACN,YAAO,IAAW0T,IAAMA,EAAI9N,EAAE2O,cAAgBrG,OAAOqG,cAAeb,GAElEQ,EAAI,WACN,OAAOM,KAAKC,MAAMzU,IAAI0U,QAAQrK,IAAM,OAGtC,MAAO,CACLsK,IAAK,SAAa/O,EAAG8N,GACnB,IAAIrJ,EAAIvD,UAAUvU,OAAS,QAAK,IAAWuU,UAAU,GAAKA,UAAU,GAAK,CACvE8N,KAAM,WACJ,OAAOC,QAAQC,YAGnB,OAAOD,QAAQC,UAAUrP,MAAK,WAC5B,IAAI4E,EAAImK,KAAKO,UAAUnP,GACnB5F,EAAIkU,IAAI7J,GACZ,OAAOwK,QAAQG,IAAI,CAAChV,GAAK0T,SAAK,IAAW1T,OACxCyF,MAAK,SAAUG,GAChB,IAAI8N,EAAIG,EAAEjO,EAAG,GACT5F,EAAI0T,EAAE,GACNQ,EAAIR,EAAE,GACV,OAAOmB,QAAQG,IAAI,CAAChV,EAAGkU,GAAK7J,EAAEuK,KAAK5U,QAClCyF,MAAK,SAAUG,GAChB,OAAOiO,EAAEjO,EAAG,GAAG,OAGnBqP,IAAK,SAAarP,EAAG8N,GACnB,OAAOmB,QAAQC,UAAUrP,MAAK,WAC5B,IAAIoO,EAAIK,IACR,OAAOL,EAAEW,KAAKO,UAAUnP,IAAM8N,EAAG1T,IAAIkV,QAAQ7K,EAAGmK,KAAKO,UAAUlB,IAAKH,MAGxEyB,OAAQ,SAAiBvP,GACvB,OAAOiP,QAAQC,UAAUrP,MAAK,WAC5B,IAAIiO,EAAIQ,WACDR,EAAEc,KAAKO,UAAUnP,IAAK5F,IAAIkV,QAAQ7K,EAAGmK,KAAKO,UAAUrB,QAG/D0B,MAAO,WACL,OAAOP,QAAQC,UAAUrP,MAAK,WAC5BzF,IAAIqV,WAAWhL,QAMvB,SAASxL,EAAE+G,GACT,IAAI8N,EAAIQ,EAAEtO,EAAE0P,QACRjL,EAAIqJ,EAAE6B,QACV,YAAO,IAAWlL,EAAI,CACpBsK,IAAK,SAAa/O,EAAG8N,GACnB,IAAIrJ,EAAIvD,UAAUvU,OAAS,QAAK,IAAWuU,UAAU,GAAKA,UAAU,GAAK,CACvE8N,KAAM,WACJ,OAAOC,QAAQC,YAGf9U,EAAI0T,IACR,OAAO1T,EAAEyF,MAAK,SAAUG,GACtB,OAAOiP,QAAQG,IAAI,CAACpP,EAAGyE,EAAEuK,KAAKhP,QAC7BH,MAAK,SAAUG,GAChB,OAAOiO,EAAEjO,EAAG,GAAG,OAGnBqP,IAAK,SAAarP,EAAG8N,GACnB,OAAOmB,QAAQC,QAAQpB,IAEzByB,OAAQ,SAAiBvP,GACvB,OAAOiP,QAAQC,WAEjBM,MAAO,WACL,OAAOP,QAAQC,YAEf,CACFH,IAAK,SAAa/O,EAAG5F,GACnB,IAAI6T,EAAI/M,UAAUvU,OAAS,QAAK,IAAWuU,UAAU,GAAKA,UAAU,GAAK,CACvE8N,KAAM,WACJ,OAAOC,QAAQC,YAGnB,OAAOzK,EAAEsK,IAAI/O,EAAG5F,EAAG6T,GAAGhO,OAAM,WAC1B,OAAOhH,EAAE,CACPyW,OAAQ5B,IACPiB,IAAI/O,EAAG5F,EAAG6T,OAGjBoB,IAAK,SAAarP,EAAG5F,GACnB,OAAOqK,EAAE4K,IAAIrP,EAAG5F,GAAG6F,OAAM,WACvB,OAAOhH,EAAE,CACPyW,OAAQ5B,IACPuB,IAAIrP,EAAG5F,OAGdmV,OAAQ,SAAiBvP,GACvB,OAAOyE,EAAE8K,OAAOvP,GAAGC,OAAM,WACvB,OAAOhH,EAAE,CACPyW,OAAQ5B,IACPyB,OAAOvP,OAGdwP,MAAO,WACL,OAAO/K,EAAE+K,QAAQvP,OAAM,WACrB,OAAOhH,EAAE,CACPyW,OAAQ5B,IACP0B,aAMX,SAAS7J,IACP,IAAI3F,EAAIkB,UAAUvU,OAAS,QAAK,IAAWuU,UAAU,GAAKA,UAAU,GAAK,CACvE0O,cAAc,GAEZ9B,EAAI,GACR,MAAO,CACLiB,IAAK,SAAatK,EAAGrK,GACnB,IAAI6T,EAAI/M,UAAUvU,OAAS,QAAK,IAAWuU,UAAU,GAAKA,UAAU,GAAK,CACvE8N,KAAM,WACJ,OAAOC,QAAQC,YAGfZ,EAAIM,KAAKO,UAAU1K,GACvB,GAAI6J,KAAKR,EAAG,OAAOmB,QAAQC,QAAQlP,EAAE4P,aAAehB,KAAKC,MAAMf,EAAEQ,IAAMR,EAAEQ,IAEzE,IAAIC,EAAInU,IACJnB,EAAIgV,GAAKA,EAAEe,MAAQ,WACrB,OAAOC,QAAQC,WAGjB,OAAOX,EAAE1O,MAAK,SAAUG,GACtB,OAAO/G,EAAE+G,MACRH,MAAK,WACN,OAAO0O,MAGXc,IAAK,SAAa5K,EAAGrK,GACnB,OAAO0T,EAAEc,KAAKO,UAAU1K,IAAMzE,EAAE4P,aAAehB,KAAKO,UAAU/U,GAAKA,EAAG6U,QAAQC,QAAQ9U,IAExFmV,OAAQ,SAAiBvP,GACvB,cAAc8N,EAAEc,KAAKO,UAAUnP,IAAKiP,QAAQC,WAE9CM,MAAO,WACL,OAAO1B,EAAI,GAAImB,QAAQC,YAK7B,SAASW,EAAE7P,GACT,IAAK,IAAI8N,EAAI9N,EAAErT,OAAS,EAAGmhB,EAAI,EAAGA,IAAK,CACrC,IAAIrJ,EAAIvN,KAAKE,MAAMF,KAAK4Y,UAAYhC,EAAI,IACpC1T,EAAI4F,EAAE8N,GACV9N,EAAE8N,GAAK9N,EAAEyE,GAAIzE,EAAEyE,GAAKrK,EAGtB,OAAO4F,EAGT,SAAS+P,EAAE/P,EAAG8N,GACZ,OAAO1f,OAAOC,UAAK,IAAWyf,EAAIA,EAAI,IAAI7hB,SAAQ,SAAUwY,GAC1DzE,EAAEyE,GAAKqJ,EAAErJ,GAAGzE,MACVA,EAGN,SAAShV,EAAEgV,GACT,IAAK,IAAI8N,EAAI5M,UAAUvU,OAAQ8X,EAAI,IAAI9V,MAAMmf,EAAI,EAAIA,EAAI,EAAI,GAAI1T,EAAI,EAAGA,EAAI0T,EAAG1T,IAC7EqK,EAAErK,EAAI,GAAK8G,UAAU9G,GAGvB,IAAI6T,EAAI,EACR,OAAOjO,EAAE0M,QAAQ,OAAO,WACtB,OAAOsD,mBAAmBvL,EAAEwJ,SAIhC,IAAIgC,EACqB,EADrBA,EAEa,EAGjB,SAAStb,EAAEqL,EAAG8N,GACZ,IAAIrJ,EAAIzE,GAAK,GACT5F,EAAIqK,EAAEyL,MAAQ,GAClB,OAAO9hB,OAAOC,KAAKoW,GAAGxY,SAAQ,SAAU+T,IACrC,IAAM,CAAC,UAAW,UAAW,kBAAmB,OAAQ,aAAalQ,QAAQkQ,KAAO5F,EAAE4F,GAAKyE,EAAEzE,OAC5F,CACFkQ,KAAM9hB,OAAO+hB,QAAQ/V,GAAGzN,OAAS,EAAIyN,OAAI,EACzCgW,QAAS3L,EAAE2L,SAAWtC,EACtBuC,QAAS5L,EAAE4L,SAAW,GACtBC,gBAAiB7L,EAAE6L,iBAAmB,GACtCC,UAAW9L,EAAE8L,WAIjB,IAAIzW,EAAI,CACN0W,KAAM,EACNC,MAAO,EACPC,IAAK,GAMP,SAASrc,EAAE2L,GACT,IAAI8N,EAAI5M,UAAUvU,OAAS,QAAK,IAAWuU,UAAU,GAAKA,UAAU,GAL9D,EAMN,OAAOuD,EAAE,GAAIzE,EAAG,CACd2Q,OAAQ7C,EACR8C,WAAYC,KAAKC,QAIrB,SAASC,EAAE/Q,GACT,MAAO,CACLgR,SAAUhR,EAAEgR,UAAY,QACxB3E,IAAKrM,EAAEqM,IACP4E,OAAQjR,EAAEiR,QAAUnX,EAAE4W,KAI1B,IACIQ,EAAI,OA8BR,SAAS7X,EAAE2G,EAAG8N,EAAG1T,EAAG6T,GAClB,IAAIM,EAAI,GACJtV,EAAI,SAAU+G,EAAG8N,GACnB,GAlCI,QAkCA9N,EAAEmR,cAAgB,IAAWnR,EAAEkQ,WAAQ,IAAWpC,EAAEoC,MAAxD,CACA,IAAI9V,EAAIzL,MAAMC,QAAQoR,EAAEkQ,MAAQlQ,EAAEkQ,KAAOzL,EAAE,GAAIzE,EAAEkQ,KAAM,GAAIpC,EAAEoC,MAC7D,OAAOtB,KAAKO,UAAU/U,IAHhB,CAINA,EAAG6T,GACDtI,EAAI,SAAU3F,EAAG8N,GACnB,IAAI1T,EAAIqK,EAAE,GAAIzE,EAAEqQ,QAAS,GAAIvC,EAAEuC,SAC3BpC,EAAI,GACR,OAAO7f,OAAOC,KAAK+L,GAAGnO,SAAQ,SAAU+T,GACtC,IAAI8N,EAAI1T,EAAE4F,GACViO,EAAEjO,EAAE2M,eAAiBmB,KACnBG,EANE,CAONjO,EAAGiO,GACD4B,EAAIzV,EAAE+W,OACNpB,EA/CE,QA+CE3V,EAAE+W,OAAe,GAAK1M,EAAE,GAAIrK,EAAE8V,KAAM,GAAIjC,EAAEiC,MAC9CllB,EAAIyZ,EAAE,CACR,kBAAmBzE,EAAEoR,UAAU/lB,OAC9B2U,EAAEsQ,gBAAiB,GAAIP,EAAG,GAAI9B,EAAEqC,iBAC/BL,EAAI,EACJtb,EAAI,SAASmZ,EAAErJ,EAAG6J,GACpB,IAAIyB,EAAItL,EAAE4M,MACV,QAAI,IAAWtB,EAAG,KAAM,CACtBzf,KAAM,aACNghB,QAAS,gHACTC,sBAAuBC,EAAEjD,IAG3B,IAAI5Z,EAAI,CACNub,KAAMjX,EACNoX,QAAS1K,EACTwL,OAAQtB,EACRxD,IAAKoF,EAAE1B,EAAG3V,EAAExP,KAAMI,GAClB0mB,eAAgBpD,EAAE2B,EAAGjQ,EAAE2R,SAASC,SAChCC,gBAAiBvD,EAAE2B,EAAGhC,EAAEmC,UAEtBtW,EAAI,SAAWkG,GACjB,IAAI8N,EAAI,CACNgE,QAASnd,EACTod,SAAU/R,EACVgS,KAAMjC,EACNkC,UAAWxN,EAAE9X,QAEf,OAAO4hB,EAAE3iB,KAAKkiB,GAAIA,GAEhBoE,EAAI,CACNC,SAAU,SAAkBnS,GAC1B,OAAO,SAAUA,GACf,IACE,OAAO4O,KAAKC,MAAM7O,EAAEF,SACpB,MAAOgO,GACP,MAAM,SAAU9N,EAAG8N,GACjB,MAAO,CACLxd,KAAM,uBACNghB,QAAStR,EACT+R,SAAUjE,GAJR,CAMJA,EAAEwD,QAAStR,IAVV,CAYLA,IAEJoS,QAAS,SAAiBhY,GACxB,IAAI6T,EAAInU,EAAEM,GACV,OAAOA,EAAEiY,YAAcpC,IAAKhB,QAAQG,IAAI,CAACpP,EAAEsS,OAAOC,KAAK,oBAAqBne,EAAE6Z,IAAKjO,EAAEwS,WAAWnD,IAAIU,EAAG1b,EAAE0b,EAAG3V,EAAEiY,WAjH9G,EADA,MAkHqIxS,MAAK,WACxI,OAAOiO,EAAErJ,EAAG6J,OAGhBmE,OAAQ,SAAgBzS,GACtB,MAAMlG,EAAEkG,GAAI,SAAUA,EAAG8N,GACvB,IAAIrJ,EAAIzE,EAAEF,QACN1F,EAAI4F,EAAE2Q,OACN1C,EAAIxJ,EAER,IACEwJ,EAAIW,KAAKC,MAAMpK,GAAG6M,QAClB,MAAOtR,IAET,OAAO,SAAUA,EAAG8N,EAAGrJ,GACrB,MAAO,CACLnU,KAAM,WACNghB,QAAStR,EACT2Q,OAAQ7C,EACRyD,sBAAuB9M,GALpB,CAOLwJ,EAAG7T,EAAG0T,GAhBE,CAiBV9N,EAAGwR,EAAEjD,MAIX,OAAOvO,EAAE0S,UAAUC,KAAKhe,GAAGkL,MAAK,SAAUG,GACxC,OAAO,SAAUA,EAAG8N,GAClB,OAAO,SAAU9N,GACf,IAAI8N,EAAI9N,EAAE2Q,OACV,OAAO3Q,EAAEqS,YAAc,SAAUrS,GAC/B,IAAI8N,EAAI9N,EAAEqS,WACN5N,EAAIzE,EAAE2Q,OACV,OAAQ7C,GAAK,KAAOrJ,EAHC,CAIrBzE,IAAM,MAAQ8N,EAAI,MAAQ,MAAQA,EAAI,KANnC,CAOL9N,GAAK8N,EAAEsE,QAAQpS,GAAK,MAAQA,EAAE2Q,OAAS,KAAO7C,EAAEqE,SAASnS,GAAK8N,EAAE2E,OAAOzS,GARpE,CASLA,EAAGkS,OAIT,OApIF,SAAWlS,EAAG8N,GACZ,OAAOmB,QAAQG,IAAItB,EAAEhf,KAAI,SAAUgf,GACjC,OAAO9N,EAAE+O,IAAIjB,GAAG,WACd,OAAOmB,QAAQC,QAAQ7a,EAAEyZ,WAEzBjO,MAAK,SAAUG,GACjB,IAAIyE,EAAIzE,EAAE5J,QAAO,SAAU4J,GACzB,OAAO,SAAUA,GACf,OA/BA,IA+BOA,EAAE2Q,QAAgBE,KAAKC,MAAQ9Q,EAAE4Q,WAAa,KADhD,CAEL5Q,MAEA5F,EAAI4F,EAAE5J,QAAO,SAAU4J,GACzB,OAAO,SAAUA,GACf,OAlCA,IAkCOA,EAAE2Q,QAAgBE,KAAKC,MAAQ9Q,EAAE4Q,YAAc,KADjD,CAEL5Q,MAEAiO,EAAI,GAAGnhB,OAAOwhB,EAAE7J,GAAI6J,EAAElU,IAC1B,MAAO,CACLwY,WAAY,SAAoB5S,EAAG8N,GACjC,OAAQ,IAAM1T,EAAEzN,QAAU,IAAMqT,EAAI,EAAI5F,EAAEzN,OAAS,EAAIqT,GAAK8N,GAE9D+E,eAAgB5E,EAAEthB,OAAS,EAAIshB,EAAEnf,KAAI,SAAUkR,GAC7C,OAAO+Q,EAAE/Q,MACN8N,MA6GFjN,CAAEb,EAAEwS,WAAY1E,GAAGjO,MAAK,SAAUG,GACvC,OAAOrL,EAAE2Z,EAAEtO,EAAE6S,gBAAgBC,UAAW9S,EAAE4S,eAI9C,SAASra,EAAEyH,GACT,IAAI8N,EAAI,CACNziB,MAAO,2BAA2ByB,OAAOkT,EAAG,KAC5C+S,IAAK,SAAa/S,GAChB,IAAIyE,EAAI,KAAK3X,OAAOkT,EAAEgT,SAASlmB,YAAO,IAAWkT,EAAElC,QAAU,KAAKhR,OAAOkT,EAAElC,QAAS,KAAO,IAC3F,OAAQ,IAAMgQ,EAAEziB,MAAMyE,QAAQ2U,KAAOqJ,EAAEziB,MAAQ,GAAGyB,OAAOghB,EAAEziB,OAAOyB,OAAO2X,IAAKqJ,IAGlF,OAAOA,EAGT,SAAS2D,EAAEzR,EAAG8N,EAAGrJ,GACf,IAAIrK,EAAI6Y,EAAExO,GACNwJ,EAAI,GAAGnhB,OAAOkT,EAAEgR,SAAU,OAAOlkB,OAAOkT,EAAEqM,IAAK,KAAKvf,OAAO,MAAQghB,EAAE3T,OAAO,GAAK2T,EAAEoF,OAAO,GAAKpF,GACnG,OAAO1T,EAAEzN,SAAWshB,GAAK,IAAInhB,OAAOsN,IAAK6T,EAG3C,SAASgF,EAAEjT,GACT,OAAO5R,OAAOC,KAAK2R,GAAGlR,KAAI,SAAUgf,GAClC,OAAO9iB,EAAE,QAAS8iB,GAAIrJ,EAAIzE,EAAE8N,GAAI,oBAAsB1f,OAAO8Q,UAAUmP,SAASlY,KAAKsO,IAAM,mBAAqBrW,OAAO8Q,UAAUmP,SAASlY,KAAKsO,GAAKmK,KAAKO,UAAUnP,EAAE8N,IAAM9N,EAAE8N,KAC7K,IAAIrJ,KACHxV,KAAK,KAGV,SAASuiB,EAAExR,GACT,OAAOA,EAAElR,KAAI,SAAUkR,GACrB,OAAO5L,EAAE4L,MAIb,SAAS5L,EAAE4L,GACT,IAAI8N,EAAI9N,EAAE8R,QAAQzB,QAAQ,qBAAuB,CAC/C,oBAAqB,SACnB,GACJ,OAAO5L,EAAE,GAAIzE,EAAG,CACd8R,QAASrN,EAAE,GAAIzE,EAAE8R,QAAS,CACxBzB,QAAS5L,EAAE,GAAIzE,EAAE8R,QAAQzB,QAAS,GAAIvC,OAK5C,IAAI3D,EAAI,SAAWnK,GACjB,IAAI8N,EAAI9N,EAAEmT,MACN/Y,EAAI,SAAU4F,EAAG8N,EAAGrJ,GACtB,IAAIrK,EAAI,CACN,oBAAqBqK,EACrB,2BAA4BqJ,GAE9B,MAAO,CACLuC,QAAS,WACP,OAAOrQ,IAAMiQ,EAAkB7V,EAAI,IAErCkW,gBAAiB,WACf,OAAOtQ,IAAMiQ,EAA0B7V,EAAI,KAVzC,MAaN,IAAW4F,EAAEoT,SAAWpT,EAAEoT,SAAWnD,EAAiBnC,EAAG9N,EAAEqT,QACzD/E,EAAI,SAAUtO,GAChB,IAAI8N,EAAI9N,EAAEwS,WACN/N,EAAIzE,EAAEsS,OACNlY,EAAI4F,EAAE0S,UACNpE,EAAItO,EAAEsT,cACN/E,EAAIvO,EAAEuT,eACNta,EAAI+G,EAAE2R,SACNhM,EAAI3F,EAAEoR,UACNvB,EAAI7P,EAAEwT,MACNzD,EAAI/P,EAAEsQ,gBACNtlB,EAAI,CACNwnB,WAAY1E,EACZwE,OAAQ7N,EACRiO,UAAWtY,EACXkZ,cAAehF,EACfiF,eAAgBhF,EAChBoD,SAAU1Y,EACVmY,UAAWzL,EACX0K,QAASrQ,EAAEqQ,QACXC,gBAAiBP,EACjByD,MAAO3D,EAAE/gB,KAAI,SAAUkR,GACrB,OAAO+Q,EAAE/Q,MAEXyT,KAAM,SAAczT,EAAG8N,GACrB,IAAIrJ,EAAI9P,EAAEmZ,EAAG9iB,EAAE2mB,SAAS8B,MACpBrZ,EAAI,WACN,OAAOf,EAAErO,EAAGA,EAAEwoB,MAAMpd,QAAO,SAAU4J,GACnC,OAAO,IAAMA,EAAEiR,OAASnX,EAAE0W,SACxBxQ,EAAGyE,IAGT,IAAI,UAAQ,IAAWA,EAAE8L,UAAY9L,EAAE8L,UAAYvQ,EAAEuQ,WAAY,OAAOnW,IACxE,IAAIkU,EAAI,CACNwD,QAAS9R,EACT0T,qBAAsBjP,EACtBkP,YAAa,CACXrD,gBAAiBtlB,EAAEslB,gBACnBD,QAASrlB,EAAEqlB,UAGf,OAAOrlB,EAAEuoB,eAAexE,IAAIT,GAAG,WAC7B,OAAOtjB,EAAEsoB,cAAcvE,IAAIT,GAAG,WAC5B,OAAOtjB,EAAEsoB,cAAcjE,IAAIf,EAAGlU,KAAKyF,MAAK,SAAUG,GAChD,OAAOiP,QAAQG,IAAI,CAACpkB,EAAEsoB,cAAc/D,OAAOjB,GAAItO,OAC9C,SAAUA,GACX,OAAOiP,QAAQG,IAAI,CAACpkB,EAAEsoB,cAAc/D,OAAOjB,GAAIW,QAAQ2E,OAAO5T,QAC7DH,MAAK,SAAUG,GAChB,IAAI8N,EAAIG,EAAEjO,EAAG,GAEb,OADA8N,EAAE,GACKA,EAAE,WAGZ,CACDkB,KAAM,SAAchP,GAClB,OAAOhV,EAAEuoB,eAAelE,IAAIf,EAAGtO,OAIrC6T,MAAO,SAAe7T,EAAG8N,GACvB,OAAOzU,EAAErO,EAAGA,EAAEwoB,MAAMpd,QAAO,SAAU4J,GACnC,OAAO,IAAMA,EAAEiR,OAASnX,EAAE2W,UACxBzQ,EAAGrL,EAAEmZ,EAAG9iB,EAAE2mB,SAASkC,UAG3B,OAAO7oB,EAhED,CAiENyZ,EAAE,CACF+O,MAAO,CAAC,CACNnH,IAAK,GAAGvf,OAAOghB,EAAG,oBAClBmD,OAAQnX,EAAE0W,MACT,CACDnE,IAAK,GAAGvf,OAAOghB,EAAG,gBAClBmD,OAAQnX,EAAE2W,QACT3jB,OAAO+iB,EAAE,CAAC,CACXxD,IAAK,GAAGvf,OAAOghB,EAAG,sBACjB,CACDzB,IAAK,GAAGvf,OAAOghB,EAAG,sBACjB,CACDzB,IAAK,GAAGvf,OAAOghB,EAAG,0BAEnB9N,EAAG,CACJqQ,QAAS5L,EAAE,GAAIrK,EAAEiW,UAAW,GAAI,CAC9B,eAAgB,qCACf,GAAIrQ,EAAEqQ,SACTC,gBAAiB7L,EAAE,GAAIrK,EAAEkW,kBAAmB,GAAItQ,EAAEsQ,oBAGpD,OAAOP,EAAE,CACP4D,YAAarF,EACb6E,MAAOrF,EACP5P,gBAAiB,SAAyB8B,EAAG8N,GAC3CQ,EAAE8C,UAAU2B,IAAI,CACdC,QAAShT,EACTlC,QAASgQ,KAGb5H,WAAY,WACV,OAAO+I,QAAQG,IAAI,CAACd,EAAEgF,cAAc9D,QAASlB,EAAEiF,eAAe/D,UAAU3P,MAAK,iBAE9EG,EAAE8T,UAEHC,EAAI,SAAW/T,GACjB,OAAO,SAAU8N,GACf,IAAIrJ,EAAIvD,UAAUvU,OAAS,QAAK,IAAWuU,UAAU,GAAKA,UAAU,GAAK,GACrE9G,EAAI,CACNuZ,YAAa3T,EAAE2T,YACfR,MAAOnT,EAAEmT,MACTtnB,UAAWiiB,GAEb,OAAOiC,EAAE3V,EAAGqK,EAAEqP,WAGdE,EAAI,SAAWhU,GACjB,OAAO,SAAU8N,EAAG1T,GAClB,IAAI6T,EAAIH,EAAEhf,KAAI,SAAUkR,GACtB,OAAOyE,EAAE,GAAIzE,EAAG,CACdlU,OAAQmnB,EAAEjT,EAAElU,QAAU,SAG1B,OAAOkU,EAAE2T,YAAYF,KAAK,CACxBtC,OAAQD,EACRtmB,KAAM,sBACNslB,KAAM,CACJ+D,SAAUhG,GAEZsC,WAAW,GACVnW,KAGH8Z,EAAI,SAAWlU,GACjB,OAAO,SAAU8N,EAAGG,GAClB,OAAOgB,QAAQG,IAAItB,EAAEhf,KAAI,SAAUgf,GACjC,IAAIQ,EAAIR,EAAEhiB,OACNyiB,EAAID,EAAEngB,UACN8K,EAAIqV,EAAEnd,WACNwU,EArnBV,SAAW3F,EAAG8N,GACZ,GAAI,MAAQ9N,EAAG,MAAO,GAEtB,IAAIyE,EACArK,EACA6T,EAAI,SAAUjO,EAAG8N,GACnB,GAAI,MAAQ9N,EAAG,MAAO,GACtB,IAAIyE,EACArK,EACA6T,EAAI,GACJK,EAAIlgB,OAAOC,KAAK2R,GAEpB,IAAK5F,EAAI,EAAGA,EAAIkU,EAAE3hB,OAAQyN,IACxBqK,EAAI6J,EAAElU,GAAI0T,EAAEhe,QAAQ2U,IAAM,IAAMwJ,EAAExJ,GAAKzE,EAAEyE,IAG3C,OAAOwJ,EAXD,CAYNjO,EAAG8N,GAEL,GAAI1f,OAAO2f,sBAAuB,CAChC,IAAIO,EAAIlgB,OAAO2f,sBAAsB/N,GAErC,IAAK5F,EAAI,EAAGA,EAAIkU,EAAE3hB,OAAQyN,IACxBqK,EAAI6J,EAAElU,GAAI0T,EAAEhe,QAAQ2U,IAAM,GAAKrW,OAAO8Q,UAAUiV,qBAAqBhe,KAAK6J,EAAGyE,KAAOwJ,EAAExJ,GAAKzE,EAAEyE,IAIjG,OAAOwJ,EA0lBK7T,CAAEkU,EAAG,CAAC,YAAa,eAC3B,OAAOyF,EAAE/T,EAAF+T,CAAKjG,EAAEjiB,UAAW,CACvBioB,QAAS,CACP3T,qBAAsBiU,KAEvBjU,qBAAqBoO,EAAGtV,EAAGwL,EAAE,GAAIwJ,EAAG,GAAItI,UAI7C0O,EAAI,SAAWrU,GACjB,OAAO,SAAU8N,EAAGrJ,GAClB,OAAOzE,EAAE2T,YAAYF,KAAK,CACxBtC,OAAQD,EACRtmB,KAAMI,EAAE,qBAAsBgV,EAAEnU,WAChCqkB,KAAM,CACJrf,MAAOid,GAETyC,WAAW,GACV9L,KAGH2P,EAAI,SAAWpU,GACjB,OAAO,SAAU8N,EAAGrJ,EAAGrK,GACrB,OAAO4F,EAAE2T,YAAYF,KAAK,CACxBtC,OAAQD,EACRtmB,KAAMI,EAAE,+BAAgCgV,EAAEnU,UAAWiiB,GACrDoC,KAAM,CACJ/e,WAAYsT,GAEd8L,WAAW,GACVnW,KAOP,SAASka,EAAEtU,EAAG8N,EAAG1T,GACf,IACIkU,EAAI,CACN6E,MAAOnT,EACPqT,OAAQvF,EACR6D,SAAU,CACRC,QAAS,EACT6B,KAAM,EACNI,MAAO,IAETnB,UAAW,CACTC,KAAM,SAAc3S,GAClB,OAAO,IAAIiP,SAAQ,SAAUnB,GAC3B,IAAIrJ,EAAI,IAAI8P,eACZ9P,EAAE+P,KAAKxU,EAAEmR,OAAQnR,EAAEqM,KAAK,GAAKje,OAAOC,KAAK2R,EAAEqQ,SAASpkB,SAAQ,SAAU6hB,GACpE,OAAOrJ,EAAEgQ,iBAAiB3G,EAAG9N,EAAEqQ,QAAQvC,OAGzC,IAAI1T,EACA6T,EAAI,SAAWjO,EAAG5F,GACpB,OAAO+M,YAAW,WAChB1C,EAAEiQ,QAAS5G,EAAE,CACX6C,OAAQ,EACR7Q,QAAS1F,EACTiY,YAAY,MAEb,IAAMrS,IAEPsO,EAAIL,EAAEjO,EAAE0R,eAAgB,sBAE5BjN,EAAEkQ,mBAAqB,WACrBlQ,EAAEmQ,WAAanQ,EAAEoQ,aAAU,IAAWza,IAAM0a,aAAaxG,GAAIlU,EAAI6T,EAAEjO,EAAE6R,gBAAiB,oBACrFpN,EAAEsQ,QAAU,WACb,IAAMtQ,EAAEkM,SAAWmE,aAAaxG,GAAIwG,aAAa1a,GAAI0T,EAAE,CACrDhO,QAAS2E,EAAEuQ,cAAgB,yBAC3BrE,OAAQlM,EAAEkM,OACV0B,YAAY,MAEb5N,EAAEwQ,OAAS,WACZH,aAAaxG,GAAIwG,aAAa1a,GAAI0T,EAAE,CAClChO,QAAS2E,EAAEuQ,aACXrE,OAAQlM,EAAEkM,OACV0B,YAAY,KAEb5N,EAAEkO,KAAK3S,EAAEkQ,WAIlBoC,OAAgB,CACd4C,MAAO,SAAelV,EAAG8N,GACvB,OAAsCmB,QAAQC,WAEhDqD,KAAM,SAAcvS,EAAG8N,GACrB,OAAqCmB,QAAQC,WAE/CxJ,MAAO,SAAe1F,EAAG8N,GACvB,OAAOpD,QAAQhF,MAAM1F,EAAG8N,GAAImB,QAAQC,YAGxCqE,eAAgB5N,IAChB2N,cAAe3N,EAAE,CACfiK,cAAc,IAEhB4C,WAAYvZ,EAAE,CACZyW,OAAQ,CAACnB,EAAE,CACTtG,IAAK,GAAGnb,OAAO,QAAS,KAAKA,OAAOkT,KAClC2F,OAENyL,UAAW7Y,EAAE,SAASwa,IAAI,CACxBC,QAAS,UACTlV,QAAS,SAEXsV,SAAUnD,GAEZ,OAAO9F,EAAE1F,EAAE,GAAI6J,EAAG,GAAIlU,EAAG,CACvB0Z,QAAS,CACP3U,OAAQ6U,EACR7T,qBAAsB+T,EACtBiB,gBAAiBnB,EACjBoB,6BAA8BlB,EAC9B5T,UAAW,SAAmBN,GAC5B,OAAO,SAAU8N,GACf,OAAOiG,EAAE/T,EAAF+T,CAAKjG,EAAG,CACbgG,QAAS,CACP3U,OAAQkV,EACRlU,qBAAsBiU,WASpC,OAAOE,EAAExW,QAAU,QAASwW,EA/xBkDxG,I,kCCFhF,4SAGWhG,EAAe,SAAsBuN,EAAMC,GACpD,GAAID,IAASC,EACX,OAAO,EAGT,IAAIC,EAAQnnB,OAAOC,KAAKgnB,GACpBG,EAAQpnB,OAAOC,KAAKinB,GAExB,GAAIC,EAAM5oB,SAAW6oB,EAAM7oB,OACzB,OAAO,EAMT,IAFA,IAAI8oB,EAASrnB,OAAO8Q,UAAUwW,eAErBzc,EAAI,EAAGA,EAAIsc,EAAM5oB,OAAQsM,IAChC,IAAKwc,EAAOtf,KAAKmf,EAAMC,EAAMtc,KAAOoc,EAAKE,EAAMtc,MAAQqc,EAAKC,EAAMtc,IAChE,OAAO,EAIX,OAAO,GAEE6Q,EAAiB,SAAwBD,GAClD,OAAOA,EAAUjX,aAAeiX,EAAUvZ,MAAQ,oBAEhDqlB,EAAW1G,QAAQC,UACZ0G,EAAQ,SAAe5qB,GAChC2qB,EAAS9V,KAAK7U,IAOL6qB,EAAiB,SAASA,EAAe7N,GAclD,OAbA5Z,OAAOC,KAAK2Z,GAAK/b,SAAQ,SAAUgc,GACjC,IAuD0B6N,EAvDtBzqB,EAAQ2c,EAAIC,IANA,SAAuB5c,GACzC,MAA0B,WAAnB,YAAQA,IAAiC,OAAVA,IAAmBsD,MAAMC,QAAQvD,IAOhE0qB,CAAc1qB,MAqDOyqB,EAjDPzqB,IAkDJ+C,OAAOC,KAAKynB,GAAQnpB,OAAS,EA/C1CkpB,EAAexqB,UAFR2c,EAAIC,OAKRD,GAYF,SAASgO,EAAqBvK,EAAM9d,EAAaC,GACtD,OAAO6d,EAAK3c,KAAI,SAAUqd,EAAK1gB,GAC7B,OAAO,YAAc,GAAI0gB,EAAK,CAC5B8J,WAAYtoB,EAAcC,EAAOnC,EAAQ,OAIxC,SAASyqB,EAAWzK,EAAM0K,GAC/B,OAAKA,EAIE1K,EAAK3c,KAAI,SAAUqd,GACxB,OAAO,YAAc,GAAIA,EAAK,CAC5BiK,UAAWD,OALN1K,EA0BJ,SAAS4K,EAAKC,EAAQC,GAC3B,GAAID,QACF,MAAO,GAMT,IAHA,IAAIxkB,EAAS,GACT0kB,EAAapoB,OAAOC,KAAKioB,GAEpBrd,EAAI,EAAGA,EAAIud,EAAW7pB,OAAQsM,IAAK,CAC1C,IAAIwd,EAAOD,EAAWvd,GAElBsd,EAASzmB,QAAQ2mB,IAAS,IAK9B3kB,EAAO2kB,GAAQH,EAAOG,IAGxB,OAAO3kB,EAoBF,IAAI4kB,EAAoB,SAA2BZ,EAAQlrB,GAChE,OAAQ+D,MAAMC,QAAQhE,GAAQA,EAAOA,EAAK8hB,QAAQ,YAAa,OAAO9f,MAAM,MAAMuD,QAAO,SAAU4B,EAASkW,GAC1G,OAAOlW,EAAUA,EAAQkW,QAAOxY,IAC/BqmB,K,kCC5IU,SAASa,EAAyBL,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIrO,EAAKhP,EADLnH,ECHS,SAAuCwkB,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIrO,EAAKhP,EAFLnH,EAAS,GACT0kB,EAAapoB,OAAOC,KAAKioB,GAG7B,IAAKrd,EAAI,EAAGA,EAAIud,EAAW7pB,OAAQsM,IACjCgP,EAAMuO,EAAWvd,GACbsd,EAASzmB,QAAQmY,IAAQ,IAC7BnW,EAAOmW,GAAOqO,EAAOrO,IAGvB,OAAOnW,EDTM,CAA6BwkB,EAAQC,GAGlD,GAAInoB,OAAO2f,sBAAuB,CAChC,IAAI6I,EAAmBxoB,OAAO2f,sBAAsBuI,GAEpD,IAAKrd,EAAI,EAAGA,EAAI2d,EAAiBjqB,OAAQsM,IACvCgP,EAAM2O,EAAiB3d,GACnBsd,EAASzmB,QAAQmY,IAAQ,GACxB7Z,OAAO8Q,UAAUiV,qBAAqBhe,KAAKmgB,EAAQrO,KACxDnW,EAAOmW,GAAOqO,EAAOrO,IAIzB,OAAOnW,E,qEEPT,SAAS+kB,EAA0BxrB,GACjC,MAAwB,mBAAVA,GAAwBsD,MAAMC,QAAQvD,IAAoD,oBAA1C+C,OAAO8Q,UAAUmP,SAASlY,KAAK9K,GAG/F,SAASyrB,EAAOhlB,EAAQwkB,GACtB,GAAIxkB,IAAWwkB,EACb,OAAOxkB,EAGT,IAAK,IAAImW,KAAOqO,EACd,GAAKloB,OAAO8Q,UAAUwW,eAAevf,KAAKmgB,EAAQrO,GAAlD,CAIA,IAAI8O,EAAYT,EAAOrO,GACnB+O,EAAYllB,EAAOmW,QAEE,IAAd+O,QAAkD,IAAdD,IAI3CF,EAA0BG,IAAcH,EAA0BE,GACpEjlB,EAAOmW,GAAO6O,EAAOE,EAAWD,GAEhCjlB,EAAOmW,GA/BU,iBADR5c,EAgCW0rB,IA/BmB,OAAV1rB,EACxByrB,EAAOnoB,MAAMC,QAAQvD,GAAS,GAAK,GAAIA,GAGzCA,GALT,IAAeA,EAoCb,OAAOyG,EAmCT7G,EAAOC,QAhBP,SAAe4G,GACR+kB,EAA0B/kB,KAC7BA,EAAS,IAGX,IAAK,IAAImH,EAAI,EAAG8W,EAAI7O,UAAUvU,OAAQsM,EAAI8W,EAAG9W,IAAK,CAChD,IAAIqd,EAASpV,UAAUjI,GAEnB4d,EAA0BP,IAC5BQ,EAAOhlB,EAAQwkB,GAInB,OAAOxkB,I,kCCpET7G,EAAOC,QAAU,SAAc+rB,EAAOC,GACpC,GAAKvoB,MAAMC,QAAQqoB,GAInB,IAAK,IAAIhe,EAAI,EAAGA,EAAIge,EAAMtqB,OAAQsM,IAChC,GAAIie,EAAWD,EAAMhe,IACnB,OAAOge,EAAMhe,K,wHCcbke,E,OAAoBC,EAAUhhB,QAAO,SAAAihB,GACzC,OAA0B,GAAnBA,EAAS1G,UAmBZ2G,EAAc,SAAAC,GAClB,OAAOA,EAAa7K,QAAQ8K,IAAS,wBA2BxBC,IAxBU,SAAC,GAAiD,IAAhDjL,EAA+C,EAA/CA,MAAOkL,EAAwC,EAAxCA,cAAeH,EAAyB,EAAzBA,aAC/C,OACE,gBAAC,IAAD,CAAQ/K,MAAOA,GACb,wBAAMmL,SAAS,WAAW7X,QAAS0M,IACnC,wBAAMmL,SAAS,UAAU7X,QAAQ,YAChCyX,GAAgB,wBAAMI,SAAS,SAAS7X,QAASyX,IAClD,wBACEI,SAAS,iBACT7X,QAAS4X,GA1CU,gDA4CrB,wBAAMC,SAAS,YAAY7X,QAAQ,oBAClCyX,GAAgB,wBAAMja,IAAI,YAAYD,KAAMka,IAC5CA,GACC,wBACEja,IAAI,YACJD,KAAMia,EAAYC,GAClBK,SAAS,cAGZL,GAvCgB,SAAAA,GACrB,OAAOJ,EAAkBroB,KAAI,SAAAuoB,GAAQ,OACnC,wBACEpP,IAAcoP,EAASQ,KACvBva,IAAI,YACJsa,SAAUP,EAASQ,KACnBxa,KAAMka,EAAa7K,QACjB8K,IADI,YAGgB,OAAlBH,EAASQ,KAAgB,GAAQR,EAASQ,KAA1C,KAHE,oBAiCWC,CAAeP,O,wDClEtC,gBAQeE,MAAf,G,mBCPAxsB,EAAOC,QAAU,SAAsBmqB,EAAMC,EAAMyC,EAASC,GAC1D,IAAIC,EAAMF,EAAUA,EAAQ5hB,KAAK6hB,EAAgB3C,EAAMC,QAAQ,EAE/D,QAAY,IAAR2C,EACF,QAASA,EAGX,GAAI5C,IAASC,EACX,OAAO,EAGT,GAAoB,iBAATD,IAAsBA,GAAwB,iBAATC,IAAsBA,EACpE,OAAO,EAGT,IAAIC,EAAQnnB,OAAOC,KAAKgnB,GACpBG,EAAQpnB,OAAOC,KAAKinB,GAExB,GAAIC,EAAM5oB,SAAW6oB,EAAM7oB,OACzB,OAAO,EAKT,IAFA,IAAIurB,EAAkB9pB,OAAO8Q,UAAUwW,eAAe7gB,KAAKygB,GAElD6C,EAAM,EAAGA,EAAM5C,EAAM5oB,OAAQwrB,IAAO,CAC3C,IAAIlQ,EAAMsN,EAAM4C,GAEhB,IAAKD,EAAgBjQ,GACnB,OAAO,EAGT,IAAImQ,EAAS/C,EAAKpN,GACdoQ,EAAS/C,EAAKrN,GAGlB,IAAY,KAFZgQ,EAAMF,EAAUA,EAAQ5hB,KAAK6hB,EAAgBI,EAAQC,EAAQpQ,QAAO,SAEvC,IAARgQ,GAAkBG,IAAWC,EAChD,OAAO,EAIX,OAAO,I,kCC5BT,IAAIC,EAAe,EAAQ,QAEvBjC,EAAO,EAAQ,QAEfxY,EAAgB,EAAQ,QAExB0a,EAAM,CAQRC,cAAe,SAAuBC,EAAgBlqB,EAAWlD,GAC/D,GAAIktB,EAAI7X,UAAU+X,EAAgBlqB,EAAWlD,GAC3C,OAAOotB,EAGT,IAAIC,EAAgB,GAAKrtB,EACrBstB,EAAmBF,EAAelqB,GAA+BkqB,EAAelqB,GAAWzB,OAAO4rB,GAAnD,CAACA,GAChDE,EAAM,GAEV,OADAA,EAAIrqB,GAAaoqB,EACVL,EAAa,GAAIM,EAAKH,IAY/BI,iBAAkB,SAA0BJ,EAAgBlqB,EAAWlD,GACrE,QAAcoE,IAAVpE,EAGF,OAAOktB,EAAIO,gBAAgBL,GAAgB,SAAU1pB,EAAG/D,GACtD,OAAOuD,IAAcvD,KAIzB,IAAI0tB,EAAgB,GAAKrtB,EACzB,OAAOktB,EAAIO,gBAAgBL,GAAgB,SAAU1pB,EAAG/D,GACtD,OAAOuD,IAAcvD,GAAK0tB,IAAkB3pB,MAWhD4T,iBAAkB,SAA0B8V,EAAgBlqB,EAAWlD,GACrE,QAAcoE,IAAVpE,EAAqB,MAAM,IAAIuT,MAAM,gDAEzC,OAAI2Z,EAAI7X,UAAU+X,EAAgBlqB,EAAWlD,GACpCktB,EAAIM,iBAAiBJ,EAAgBlqB,EAAWlD,GAGlDktB,EAAIC,cAAcC,EAAgBlqB,EAAWlD,IActDytB,gBAAiB,SAAyBL,EAAgBlqB,EAAWwqB,GACnE,QAAkBtpB,IAAdlB,EACF,OAAKsP,EAAc4a,GAIZ,GAHEA,EAIJ,GAAyB,iBAAdlqB,EAChB,OAAO8nB,EAAKoC,EAAgB,CAAClqB,IACxB,GAAyB,mBAAdA,EAA0B,CAC1C,IAAIyqB,GAAa,EACbC,EAAoB7qB,OAAOC,KAAKoqB,GAAgBtoB,QAAO,SAAU+oB,EAAMjR,GACzE,IAAIvZ,EAAS+pB,EAAexQ,IAAQ,GAChCkR,EAAYzqB,EAAO0H,QAAO,SAAU/K,GACtC,OAAQkD,EAAUlD,EAAO4c,EAAK8Q,MAQhC,OALII,EAAUxsB,SAAW+B,EAAO/B,SAC9BqsB,GAAa,GAGfE,EAAKjR,GAAOkR,EACLD,IACN,IACH,OAAIF,EAAmBC,EAChBR,IAaX/X,UAAW,SAAmB+X,EAAgBlqB,EAAW6qB,GACvD,IAAIC,IAAwBZ,EAAelqB,IAAckqB,EAAelqB,GAAW5B,OAAS,EAE5F,QAAwB8C,IAApB2pB,IAAkCC,EACpC,OAAOA,EAGT,IAAIC,EAA0B,GAAKF,EACnC,OAAuE,IAAhEX,EAAelqB,GAAWuB,QAAQwpB,KAG7CruB,EAAOC,QAAUqtB,G,mCC5IjB,oDAuCegB,IApBI,SAAC,GAAD,MAAEhf,EAAF,EAAEA,SAAUzI,EAAZ,EAAYA,OAAQ2K,EAApB,EAAoBA,GAApB,OACjB,gBAAC,OAAD,CACEhI,KAAG,GACD+kB,WAAY,EACZpd,YAAa,GACb6K,WAAY,kBAHX,EAIAhL,IAAME,SAAS,UAAW,CACzB2Q,aAAc,GACd1Q,YAAa,GANd,EAQD,UAAU,CACRR,MAAOF,IAAOW,OATf,GAYHI,GAAIA,EACJ3K,OAAQA,GACPyI,M,wDClCL,IAAIkf,EAAW,EAAQ,QACnB7iB,EAAW,EAAQ,QACnB8iB,EAAQ,EAAQ,QAChBC,EAAQ,EAAQ,QAGhBC,EAAkBC,OAAO3a,UACzB4a,EAAiBF,EAAyB,SAE1CG,EAAcL,GAAM,WAAc,MAA2D,QAApDI,EAAe3jB,KAAK,CAAEmgB,OAAQ,IAAKqD,MAAO,SAEnFK,EANY,YAMKF,EAAexpB,MAIhCypB,GAAeC,IACjBP,EAASI,OAAO3a,UAXF,YAWwB,WACpC,IAAI+a,EAAIrjB,EAASoB,MACbka,EAAIha,OAAO+hB,EAAE3D,QACb4D,EAAKD,EAAEN,MAEX,MAAO,IAAMzH,EAAI,IADTha,YAAczI,IAAPyqB,GAAoBD,aAAaJ,UAAY,UAAWD,GAAmBD,EAAMxjB,KAAK8jB,GAAKC,KAEzG,CAAEC,QAAQ,K,4JCjBTtO,G,UAAc,SAACyB,GAAe,IAAD,EACK5B,oBAAS,GAAtC6B,EADwB,KACZC,EADY,KAGzBC,EAAc,SAACzN,GACH,UAAVA,EAAEiI,KAA6B,QAAVjI,EAAEiI,KACvBjI,EAAEsM,iBAEFtM,EAAEiI,MAAQqF,GACVE,GAAc,IAGhBE,EAAY,SAAC1N,GACD,UAAVA,EAAEiI,KAA6B,QAAVjI,EAAEiI,KACvBjI,EAAEsM,iBAEFtM,EAAEiI,MAAQqF,GACVE,GAAc,IActB,OAVAvb,qBAAU,WAIN,OAHAqW,OAAOnW,iBAAiB,UAAWsb,GACnCnF,OAAOnW,iBAAiB,QAASub,GAE1B,WACHpF,OAAOlW,oBAAoB,UAAWqb,GACtCnF,OAAOlW,oBAAoB,QAASsb,OAIrCH,IAGL/B,EAAc,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAEbG,EAAYC,EAAY,aACxBC,EAAUD,EAAY,WACtBE,EAAaF,EAAY,SACzBuO,EAAWvO,EAAY,OALC,EAMFH,mBAAS,GAA9BlE,EANuB,KAMfwE,EANe,OAOYN,mBAAS,IAA5C2O,EAPuB,KAORC,EAPQ,OAQA5O,oBAAS,GAAhC6O,EARuB,KAQdC,EARc,KAS1BC,EAAW,KAEfxoB,qBAAU,WACFwZ,EAAK9e,SAAWif,GAAawO,IAC7BpO,EAAUxE,EAASiT,EAAWjT,EAAS,EAAI,KAEhD,CAACoE,IAEJ3Z,qBAAU,WACFwZ,EAAK9e,QAAUmf,GACfE,EAAUxE,EAAS,EAAIA,EAAS,EAAIiT,KAEzC,CAAC3O,IAEJ7Z,qBAAU,WACFooB,IAAkBtO,GAAcqO,KAChC9R,OAAO9M,SAAS6B,KAAOgd,KAE5B,CAACtO,EAAYqO,IAgChB,OACI,kCACI,uBAAKpT,UAAU,WACX,wCAIJ,2BACI,uBACI0T,aAvCS,WACrBF,GAAW,IAuCCG,aApCS,WACrBH,GAAW,GACXxO,EAAU,GACVsO,EAAiB,MAmCJ7O,EAAKrV,QAAO,SAAC+V,EAAKlT,GAAN,MAA0B,mBAAdkT,EAAIK,OAA8BvT,EAAI,KAAGnK,KAAI,SAACqd,EAAKlT,GAAO,IAAD,IAM9E,OALAwhB,EAAWxhB,EAAI,EAEL,IAANA,GAAYohB,EACPphB,IAAMuO,GAAU6S,IAAkBlO,EAAIM,MAAM6N,EAAiBnO,EAAIM,MAD3C6N,EAAiBnO,EAAIM,MAIhD,qBAAGxE,IAAKhP,EAAGoE,KAAM8O,EAAIM,MACjB,uBACIzF,UAAS,cAAiB/N,IAAMuO,GAAW+S,EAAuB,GAAX,UACvDvN,MAAO,CACHhS,QAAS,OACTiS,oBAAqB,UACrBC,QAAS,KACTC,OAAQ,WAEZ,uBACI1Y,KAAG,GACC2Y,SAAU,GACVxR,MAAO,OACPyR,YAAa,IAHd,EAIEpR,IAAME,SAAS,UAAW,CACvBiR,SAAU,IALf,EAOEnR,IAAME,SAAS,WAAY,CACxBiR,SAAU,IARf,IAWFjB,EAAIK,OAET,uBAAK/X,KAAG,GACJ2Y,SAAU,IADN,EAEHnR,IAAME,SAAS,UAAW,CACvBiR,SAAU,IAHV,EAKHnR,IAAME,SAAS,WAAY,CACxBiR,SAAU,IANV,IA5DZ,SAACwN,GAIzB,GAHIA,EAAY/N,SAAS,OACrB+N,EAAcA,EAAYlO,QAAQ,sBAAuB,OAEzDkO,GAAeA,EAAYhuB,MAAM,KAAKD,OAAS,GAAI,CACnD,IAAMkuB,EAAiBD,EAAYhuB,MAAM,KAAKmD,MAAM,EAAG,IAAId,KAAK,KAChE,MAAI,CAAC,IAAK,KAAKoH,MAAK,SAAAykB,GAAG,OAAID,EAAeE,SAASD,MACxCD,EAAe9qB,MAAM,GAAI,GAAK,MAI9B8qB,EAAiB,MAGhC,OAAOD,EAuD0BI,CAAoB7O,EAAIyO,uBAgC3DK,EAAUtN,aAjBM,SAAC,GAA4B,IAA1BlC,EAAyB,EAAzBA,KAAMhgB,EAAmB,EAAnBA,MAAOoF,EAAY,EAAZA,MAElC,OACI,kCAEU4a,EAAK,GACD,gBAACD,EAAD,CACE/f,MAAOA,EACPoF,MAAOA,EACP4a,KAAMA,IAER,uBAAKhX,IAAK,CAAEmZ,UAAW,SAAUT,OAAQ,WAAzC,wBAqDP+N,IA5CM,SAAC,GAA8B,IAAD,EAA3Bre,EAA2B,EAA3BA,QAASse,EAAkB,EAAlBA,KAAMtqB,EAAY,EAAZA,MAEnC,OAAKsqB,EAKD,uBACInU,UAAU,eACVvS,KAAG,GACCuG,QAAS,QACTogB,MAAO,EACP7mB,MAAO,IACP8mB,UAAW,IACXC,SAAU,OACVniB,SAAU,WACV2C,OAAQ,EACRyf,wBAAyB,EACzBC,uBAAwB,EACxBC,UAAW,sBACX1f,IAAK,OACLN,gBAAiB,OACjBG,MAAO,QAbR,EAcEK,IAAME,SAAS,UAAW,CACvB5H,MAAO,KAfZ,EAiBE0H,IAAME,SAAS,UAAW,CACvBhD,SAAU,QACV4C,IAAK,OACLxH,MAAO,QApBZ,IAwBFsI,EAAQ/N,KAAI,SAAArD,GAAK,OACd,gBAAC,IAAMiwB,SAAP,CAAgBzT,IAAKxc,EAAM6E,MACvB,gBAAC2qB,EAAD,CACIxvB,MAAOA,EACPoF,MAAOA,SAlChB,Q,wDC3LA,SAAS8qB,EAAuB3lB,GAC7C,QAAa,IAATA,EACF,MAAM,IAAI4lB,eAAe,6DAG3B,OAAO5lB,EALT,mC,kCCAe,SAAS6lB,EAAgB5N,EAAGiE,GAMzC,OALA2J,EAAkBztB,OAAO0tB,gBAAkB,SAAyB7N,EAAGiE,GAErE,OADAjE,EAAE/E,UAAYgJ,EACPjE,IAGcA,EAAGiE,GCLb,SAAS6J,EAAUhT,EAAUC,GAC1C,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIzX,UAAU,sDAGtBwX,EAAS7J,UAAY9Q,OAAO8H,OAAO8S,GAAcA,EAAW9J,UAAW,CACrE+J,YAAa,CACX5d,MAAO0d,EACPX,UAAU,EACVD,cAAc,KAGda,GAAY,EAAeD,EAAUC,G,wDCb3C,IAAIlS,EAAyB,EAAQ,QAEjCklB,EAAO,KAIX/wB,EAAOC,QAAU,SAAU6H,EAAQ4O,EAAKpT,EAAWlD,GACjD,IAAIkN,EAAIL,OAAOpB,EAAuB/D,IAClCkpB,EAAK,IAAMta,EAEf,MADkB,KAAdpT,IAAkB0tB,GAAM,IAAM1tB,EAAY,KAAO2J,OAAO7M,GAAOqhB,QAAQsP,EAAM,UAAY,KACtFC,EAAK,IAAM1jB,EAAI,KAAOoJ,EAAM,M,kCCRrC,IAAInQ,EAAS,EAAQ,QAerB,SAASmM,EAAcue,EAAY5V,GACjCtO,KAAKmkB,KAAOD,EACZlkB,KAAKsO,GAAKA,EACVtO,KAAKsG,YAAc,KAhBN,EAAQ,OAmBvBV,CAASD,EAAenM,EAAOyN,cAO/BtB,EAAcuB,UAAUkd,OAAS,WAC/BpkB,KAAKqkB,qBACLrkB,KAAKmkB,KAAK5V,oBAAoBvO,OAGhC2F,EAAcuB,UAAUmG,iBAAmB,SAAUiX,GACnD,OAAOtkB,KAAKsO,GAAGgW,IAGjBrxB,EAAOC,QAAUyS,G,4LC/BF,SAAS4e,EAAT,GAA8B,IAAZ1f,EAAW,EAAXA,QACvB2f,EAAUC,sBADwB,EAEd/Q,qBAAnB7a,EAFiC,KAE1B+C,EAF0B,OAGJ8X,mBAAS,IAAtC9E,EAHiC,KAGrBC,EAHqB,OAIX6E,oBAAS,GAA/BgR,EAJiC,KAIvBC,EAJuB,KAKlCC,EAAeC,IACjBC,aACAA,oCAKJ,OAFAC,YAAgBP,GAAS,kBAAMG,GAAS,MAGpC,uBACIlrB,IAAK+qB,EACL/nB,IAAK,CACL0E,SAAU,aAEV,gBAAC,IAAD,CACIyjB,aAAcA,EACd/wB,UAAWgR,EAAQ,GAAGvM,KACtB0sB,oBAAqB,gBAAGnsB,EAAH,EAAGA,MAAH,OAAe+C,EAAS/C,KAE7C,gBAAC,IAAD,CACI+C,SAAUA,EACVgT,WAAYA,EACZC,cAAeA,EACf8V,SAAUA,EACVhW,QAAS,kBAAMgW,GAAS,IACxBD,SAAUA,IACd,gBAAC,IAAD,CACI7rB,MAAOA,EACPsqB,OAAQtqB,EACRgM,QAASA,S,2CCzCD,EAAQ,OAIpCogB,CAAsB,kB,kCCFtB,IAAIlf,EAAsB,EAAQ,QAE9BN,EAAmB,EAAQ,QAE3BC,EAAgB,EAAQ,QAkC5B,SAASwf,EAAoBlf,EAAQvS,EAAO2S,GAC1C,OAAO,IAAIL,EAAoBC,EAAQvS,EAAO2S,GAShD8e,EAAoBpf,QAAU,EAAQ,QAOtCof,EAAoBnf,oBAAsBA,EAO1Cmf,EAAoBzf,iBAAmBA,EAOvCyf,EAAoBxf,cAAgBA,EACpCzS,EAAOC,QAAUgyB,G,kCCxEF,SAASC,IAetB,OAdAA,EAAW/uB,OAAOgvB,QAAU,SAAUtrB,GACpC,IAAK,IAAImH,EAAI,EAAGA,EAAIiI,UAAUvU,OAAQsM,IAAK,CACzC,IAAIqd,EAASpV,UAAUjI,GAEvB,IAAK,IAAIgP,KAAOqO,EACVloB,OAAO8Q,UAAUwW,eAAevf,KAAKmgB,EAAQrO,KAC/CnW,EAAOmW,GAAOqO,EAAOrO,IAK3B,OAAOnW,IAGO4H,MAAM1B,KAAMkJ,W,kLCsQf,IAnBkB,SAAoCmc,GACnE,OAAO,SAAUC,GACf,IAAIC,EA3OD,SAAuCF,GAC5C,IAAKA,EAAczqB,YACjB,MAAM,IAAIgM,MAAM,uEAGlB,IAAI4e,EAAwD,mBAAtCH,EAAc3pB,qBAA2E,mBAA9B2pB,EAAcxpB,aAAuE,mBAAlCwpB,EAAcI,gBAClJ,OAAO,SAAUH,GACf,IAAIC,EAAyB,SAAUzU,GAGrC,SAASyU,EAAUjrB,GACjB,IAAIorB,EAwDJ,OAtDA,YAAgB1lB,KAAMulB,GAEtBG,EAAQ,YAA2B1lB,KAAM,YAAgBulB,GAAWpnB,KAAK6B,KAAM1F,IAE/E,YAAgB,YAAuBorB,GAAQ,mBAAe,GAE9D,YAAgB,YAAuBA,GAAQ,wBAAoB,GAEnE,YAAgB,YAAuBA,GAAQ,gBAAgB,GAE/D,YAAgB,YAAuBA,GAAQ,QAAS,CACtDC,cAAeD,EAAM1qB,iBAAiB0qB,EAAMprB,SAG9C,YAAgB,YAAuBorB,GAAQ,UAAU,WAGvD,IAFA,IAAIE,EAEKC,EAAO3c,UAAUvU,OAAQmxB,EAAO,IAAInvB,MAAMkvB,GAAOpH,EAAO,EAAGA,EAAOoH,EAAMpH,IAC/EqH,EAAKrH,GAAQvV,UAAUuV,GAGzBiH,EAAMprB,MAAMa,aAAa4qB,uBACxBH,EAAOP,EAAc9pB,QAAQ4C,KAAKuD,MAAMkkB,EAAM,CAAC,YAAuBF,GAAQA,EAAMprB,MAAOorB,EAAMprB,MAAMa,aAAa6qB,MAAMC,WAAWC,SAASpxB,OAAOgxB,QAGxJ,YAAgB,YAAuBJ,GAAQ,aAAa,WAG1D,IAFA,IAAIS,EAEKC,EAAQld,UAAUvU,OAAQmxB,EAAO,IAAInvB,MAAMyvB,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFP,EAAKO,GAASnd,UAAUmd,GAG1B,OAAOX,EAAMprB,MAAMa,aAAamrB,oBAC/BH,EAAQd,EAAc9pB,QAAQ4C,KAAKuD,MAAMykB,EAAO,CAAC,YAAuBT,GAAQA,EAAMprB,MAAOorB,EAAMprB,MAAMa,aAAa6qB,MAAMC,WAAWC,SAASpxB,OAAOgxB,QAG1J,YAAgB,YAAuBJ,GAAQ,wBAAwB,WAGrE,IAFA,IAAIa,EAEKC,EAAQtd,UAAUvU,OAAQmxB,EAAO,IAAInvB,MAAM6vB,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACpFX,EAAKW,GAASvd,UAAUud,GAG1Bf,EAAMprB,MAAMa,aAAaurB,wBACxBH,EAAQlB,EAAcld,sBAAsBhK,KAAKuD,MAAM6kB,EAAO,CAAC,YAAuBb,GAAQA,EAAMprB,MAAOorB,EAAMprB,MAAMa,aAAa6qB,MAAMC,WAAWC,SAASpxB,OAAOgxB,QAGpKT,EAAc3pB,qBAChBgqB,EAAMprB,MAAMa,aAAawrB,mBAAmBtB,EAAc3pB,oBAAoBmB,KAAK,YAAuB6oB,IAAS,CACjHxqB,IAAKwqB,EAAMprB,MAAMa,aACjBC,kBAAmBsqB,EAAMprB,MAAMe,mBAC9BqqB,EAAMprB,OAGJorB,EAyJT,OApNA,YAAUH,EAAWzU,GA8DrB,YAAayU,EAAW,CAAC,CACvBtV,IAAK,oBACL5c,MAAO,WACL,IAAIuzB,EAAS5mB,KAEbA,KAAK6mB,YAAc7mB,KAAK1F,MAAMa,aAAa6qB,MAAMc,WAAU,WACpDF,EAAOG,cACVH,EAAOvb,SAAS,CACdsa,cAAeiB,EAAO5rB,iBAAiB4rB,EAAOtsB,YAKhDkrB,IACFxlB,KAAKgnB,iBAAmBhnB,KAAK1F,MAAMa,aAAa8rB,eAAeC,eAAelnB,SAGjF,CACDiQ,IAAK,wBACL5c,MAAO,SAA+Bme,EAAWvV,GAC/C,GAAmD,mBAAxCopB,EAAc9T,sBACvB,OAAO8T,EAAc9T,sBAAsBpT,KAAK6B,KAAMA,KAAK1F,MAAOkX,EAAWxR,KAAKtM,MAAOuI,GAG3F,IAAIkrB,EAAa,YAAannB,KAAK1F,MAAOkX,GAE1C,OAAiC,OAA7BxR,KAAKtM,MAAMiyB,eAAsD,OAA5B1pB,EAAU0pB,cAC7C3lB,KAAKtM,MAAMiyB,gBAAkB1pB,EAAU0pB,gBACjCwB,GAMJA,IAAe,YAAannB,KAAKtM,MAAMiyB,cAAe1pB,EAAU0pB,iBAEzE,CACD1V,IAAK,qBACL5c,MAAO,SAA4B+zB,GAC5B,IAAQA,EAAWpnB,KAAK1F,SAC3B0F,KAAKqL,SAAS,CACZsa,cAAe3lB,KAAKhF,iBAAiBgF,KAAK1F,SAGxCkrB,IACFxlB,KAAK1F,MAAMa,aAAa8rB,eAAeI,SAEM,mBAAlChC,EAAcI,iBACvBzlB,KAAK1F,MAAMa,aAAa6pB,oBAAoBK,EAAcI,gBAAgBtnB,KAAK6B,KAAMA,KAAK1F,MAAO0F,KAAK1F,MAAMa,aAAa6qB,MAAMC,WAAWC,QAASlmB,KAAK1F,MAAMa,aAAa6qB,MAAMC,WAAWC,cAKnM,CACDjW,IAAK,uBACL5c,MAAO,WAOL,GANA2M,KAAK+mB,cAAe,EAEhB/mB,KAAK6mB,aACP7mB,KAAK6mB,cAGH7mB,KAAKgnB,mBACPhnB,KAAKgnB,mBAEgC,mBAA1B3B,EAAc7pB,SAAwB,CAC/C,IAAIS,EAAYopB,EAAc7pB,QAAQ2C,KAAK6B,KAAMA,KAAK1F,MAAO0F,KAAK1F,MAAMa,aAAa6qB,MAAMC,WAAWC,SACtGlmB,KAAK1F,MAAMa,aAAa6qB,MAAM3a,SAAS,YAAc,GAAIrL,KAAK1F,MAAMa,aAAa6qB,MAAMC,WAAY,CACjGC,QAASjqB,KAEX+D,KAAK1F,MAAMa,aAAa6pB,oBAAoB,YAAe/oB,OAIhE,CACDgU,IAAK,mBACL5c,MAAO,SAA0BiH,GAC/B,IAAIgtB,EAAwBtnB,KAAK1F,MAAMa,aAAa6qB,MAAMC,WACtDC,EAAUoB,EAAsBpB,QAChCrlB,EAAUymB,EAAsBzmB,QAChC0mB,EAAqBD,EAAsBC,mBAC3CC,EAAYF,EAAsBE,UAClCC,EAA0BH,EAAsBG,wBAChDnsB,EAAkBgsB,EAAsBhsB,gBACxCosB,EAAWJ,EAAsBI,SAGjCzsB,EAAgB,CAClB4F,QAASA,EACT2mB,UAAWA,EACXC,wBAAyBA,EACzBnsB,gBAAiBA,EACjBoS,MAPU4Z,EAAsB5Z,OASlC,OAAO2X,EAAcrqB,iBAAiBmD,KAAK6B,KAAM1F,EAAO4rB,EAASjrB,EAAeysB,EAGhFH,KAED,CACDtX,IAAK,sBACL5c,MAAO,SAA6BsI,GAClC,MAAiD,mBAAtC0pB,EAAc3pB,oBAChB2pB,EAAc3pB,oBAAoByC,KAAK6B,KAAMrE,EAAkBqE,KAAK1F,MAAO0F,KAAK1F,MAAMa,aAAa6qB,MAAMC,WAAWC,SAGtH,OAER,CACDjW,IAAK,cACL5c,MAAO,SAAqBs0B,GAC1B,MAAyC,mBAA9BtC,EAAcxpB,YAChBwpB,EAAcxpB,YAAYsC,KAAK6B,KAAMA,KAAK1F,MAAOqtB,GAGnD,KAER,CACD1X,IAAK,kBACL5c,MAAO,SAAyBu0B,EAAkBD,GAChD,MAA6C,mBAAlCtC,EAAcI,gBAChBJ,EAAcI,gBAAgBtnB,KAAK6B,KAAMA,KAAK1F,MAAOstB,EAAkBD,GAGzEA,IAER,CACD1X,IAAK,SACL5c,MAAO,WACL,IAAIw0B,EAAc7nB,KAAK1F,MAEnBA,GADeutB,EAAY1sB,aACnB,YAAyB0sB,EAAa,CAAC,kBAE/ClC,EAAgB3lB,KAAKtM,MAAMiyB,cAE/B,GAAsB,OAAlBA,EACF,OAAO,KAGT,IAAImC,EAA8C,mBAAzBzC,EAAc9pB,OAAwB,CAC7DA,OAAQyE,KAAKzE,OACbwsB,UAAW/nB,KAAK+nB,WACd,GACAC,EAA0E,mBAAvC3C,EAAcld,qBAAsC,CACzF8f,eAAgBjoB,KAAKmI,sBACnB,GACJ,OAAO,IAAMpF,cAAcuiB,EAAUH,EAAS,GAAI7qB,EAAOqrB,EAAemC,EAAaE,QAIlFzC,EArNoB,CAsN3B,aAQF,OANA,YAAgBA,EAAW,cAAe,GAAGzwB,OAAOuwB,EAAczqB,YAAa,KAAK9F,OAAO,YAAewwB,GAAW,MAErH,YAAgBC,EAAW,YAAaF,EAAcxqB,WAEtD,YAAgB0qB,EAAW,eAAgBF,EAAc6C,cAElD3C,GAMS4C,CAA8B9C,EAA9B8C,CAA6C7C,GAa7D,OAXuB,SAA0BhrB,GAC/C,OAAO,IAAMyI,cAAc,IAAuB,MAAM,SAAU5H,GAChE,OAAO,IAAM4H,cAAc,IAAe,MAAM,SAAU1H,GACxD,OAAO,IAAM0H,cAAcwiB,EAAWJ,EAAS,CAC7ChqB,aAAcA,EACdE,kBAAmBA,GAClBf,c,kPC3QN,IAAI8tB,EAAiB,CAC1BC,gBAAiB,6BACjBC,iBAAkB,+B,gBCQpB,SAASC,EAAiB3D,GACoB,mBAAjCA,EAAa1e,kBACtB0e,EAAa1e,gBAAgB,UAAUpR,OAAO,UAAc,MAC5D8vB,EAAa1e,gBAAgB,wBAAwBpR,OCd1C,QDc0D,OAIzE,IAAI,EAAsB,SAA6B0zB,GACrD,OAAO,YAAmB,CACxBttB,IAAKstB,EAAOluB,MAAMa,aAClBC,kBAAmBotB,EAAOluB,MAAMe,qBAIhCotB,EAA4B,SAAmCD,EAAQE,GACzE,OAAOF,EAAOluB,MAAMe,kBAAkBstB,gBAAkBD,GAMtDE,EAAgB,SAAuBJ,GACzC,OAAOK,QAAQL,EAAOluB,MAAMouB,UAG1BI,EAA0B,SAAiCN,EAAQE,GACrE,OAAOF,EAAOluB,MAAMouB,UAAYA,GAG9BK,EAAwB,SAA+BC,EAAaC,GACtE,IAAIC,EAAqBN,EAAcI,GACnCG,EAAsBP,EAAcK,GAExC,OAAIC,IAAuBC,GACjB,GAGLD,GAAsBC,EAClB,EAGF,GAKT,SAASC,EAAyB9E,GAgBhC,OAAOluB,OAAOC,KAAKiuB,GAAYxtB,KAAI,SAAUmZ,GAC3C,OAZW,SAAgBoZ,GAC3B,IAAK,IAAIxD,EAAO3c,UAAUvU,OAAQmxB,EAAO,IAAInvB,MAAMkvB,EAAO,EAAIA,EAAO,EAAI,GAAIpH,EAAO,EAAGA,EAAOoH,EAAMpH,IAClGqH,EAAKrH,EAAO,GAAKvV,UAAUuV,GAG7B,IAAIxd,EAAI,EACR,OAAOooB,EAAO3U,QAAQ,OAAO,WAC3B,OAAOsD,mBAAmB8N,EAAK7kB,SAK1BqoB,CAAO,QAASrZ,GAhBsB5c,EAgBDixB,EAAWrU,GAfN,oBAA1C7Z,OAAO8Q,UAAUmP,SAASlY,KAAK9K,IAA0E,mBAA1C+C,OAAO8Q,UAAUmP,SAASlY,KAAK9K,GAetCujB,KAAKO,UAAUmN,EAAWrU,IAAQqU,EAAWrU,KAhBxF,IAAyB5c,KAiB5C4D,KAAK,KAaK,SAASsyB,EAA2B3D,GACjD,IAAI/xB,EAAY+xB,EAAK/xB,UACjB21B,EAAoB5D,EAAK6D,aACzBA,OAAqC,IAAtBD,EAA+B,GAAKA,EACnD5E,EAAegB,EAAKhB,aACpB8E,EAAe9D,EAAK8D,aACpBC,EAAqB/D,EAAK+D,mBAC1B1c,EAAS,IAAoB2X,EAAc/wB,EAAW,YAAc,GAAIu0B,IAC5EG,EAAiB3D,GACjB3X,EAAO2c,GAAG,UA2LV,WACOC,IACHA,EAAqB1a,YAAW,WAC9B,IAAI2a,EAAkB9D,EAAMC,WAExB8D,GADqBD,EAAgBvC,mBACtB,YAAyBuC,EAAiB,CAAC,wBAE9D9D,EAAM3a,SAAS,YAAc,GAAI0e,EAAc,CAC7CzuB,iBAAiB,OAElBquB,OArM8BC,GAAG,SAAUI,EAAoB,CACpEtB,QAAS70B,KACP+1B,GAAG,QAASK,GAChB,IAAIC,GAAO,EACPL,EAAqB,KACrBM,EAA0Bld,EAAOvZ,MACjCuzB,EEtGS,SAA8BmD,GAC3C,IAAIlE,EAAU,GAEVmE,GAAY,EAGhB,SAASC,IACHD,IAIJA,GAAY,EACZ,aAAM,WACJA,GAAY,EACZD,QAIJ,MAAO,CACLlD,eAAgB,SAAwBsB,GAGtC,OAFAtC,EAAQtyB,KAAK40B,GACb8B,IACO,WACLpE,EAAQrY,OAAOqY,EAAQpuB,QAAQ0wB,GAAS,GACxC8B,MAGJjD,OAAQiD,EACRC,WAAY,WACV,OAAOrE,IFyEUsE,EAsVrB,WACE,IAAI9C,EAAW7rB,EAAYmqB,EAAMC,WAAWC,SAC5CF,EAAM3a,SAAS,YAAc,GAAI2a,EAAMC,WAAY,CACjDyB,SAAUA,EACVF,WAAW,KAIbrgB,QA3JF,SAA6BnB,EAAQnF,GACnC,IAAKA,EACH,OAMF,KAAMmF,EAAO2V,aAAe3V,EAAOykB,mBAAqBzkB,EAAO0kB,WAA+C,mBAA3B1kB,EAAOE,iBACxF,OAUF,GAAIF,EAAO2V,cAAgB3V,EAAOykB,eAAgB,CAChDzkB,EAAOykB,gBAAiB,EACxB,IAAIE,EAAa3kB,EAAOmB,OAExBnB,EAAOmB,OAAS,SAAU8U,GACxB,IAAK,IAAImK,EAAQld,UAAUvU,OAAQi2B,EAAa,IAAIj0B,MAAMyvB,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IAC9GuE,EAAWvE,EAAQ,GAAKnd,UAAUmd,GAGpC,IAAIwE,EAA+B5O,EAASnlB,KAAI,SAAUgjB,GACxD,OAAO,YAAc,GAAIA,EAAS,CAChChmB,OAAQs1B,EAAyBtP,EAAQhmB,aAG7C,OAAOkS,EAAO2V,YAAYJ,eAAexE,IAAI,CAC3CoC,OAAQ,SACR2M,KAAM,CAAC+E,GAA8B/1B,OAAO81B,KAC3C,WACD,OAAOD,EAAWjpB,WAAM,EAAQ,CAACua,GAAUnnB,OAAO81B,QAKxD,GAAIj0B,MAAMC,QAAQiK,GAEhB,YAMJ,SAAkDmF,EAAQnF,GAGxD,GAAImF,EAAO2V,YAgBT,YAfA3V,EAAO2V,YAAYJ,eAAelE,IAAI,CACpC8B,OAAQ,SACR2M,KAAM,CAACjlB,EAAQ1I,QAAO,SAAU2yB,EAAKhtB,GACnC,OAAOgtB,EAAIh2B,OAAOgJ,EAAOitB,WAAWj0B,KAAI,SAAUgjB,GAChD,MAAO,CACLjmB,UAAWimB,EAAQrmB,MACnBK,OAAQgmB,EAAQhmB,cAGnB,MACF,CACD+M,QAASA,EAAQ1I,QAAO,SAAU2yB,EAAKhtB,GACrC,OAAOgtB,EAAIh2B,OAAOgJ,EAAOitB,cACxB,MAWP,IAAI9a,EAAM,6BAA6Bnb,OAAO8hB,KAAKO,UAAU,CAC3D8E,SAAUpb,EAAQ1I,QAAO,SAAU2yB,EAAKhtB,GACtC,OAAOgtB,EAAIh2B,OAAOgJ,EAAOitB,WAAWj0B,KAAI,SAAUgjB,GAChD,MAAO,CACLjmB,UAAWimB,EAAQrmB,MACnBK,OAAQgmB,EAAQhmB,cAGnB,OAELkS,EAAOglB,MAAQ,YAAc,GAAIhlB,EAAOglB,MAAO,YAAgB,GAAI/a,EAAK2G,KAAKO,UAAU,CACrFtW,QAASA,EAAQ1I,QAAO,SAAU2yB,EAAKhtB,GACrC,OAAOgtB,EAAIh2B,OAAOgJ,EAAOitB,cACxB,QAhDHE,CAAyCjlB,EAAQnF,IAoDrD,SAAmDmF,EAAQnF,GAGzD,GAAImF,EAAO2V,YAYT,YAXA3V,EAAO2V,YAAYJ,eAAelE,IAAI,CACpC8B,OAAQ,SACR2M,KAAM,CAACjlB,EAAQkqB,WAAWj0B,KAAI,SAAUgjB,GACtC,MAAO,CACLjmB,UAAWimB,EAAQrmB,MACnBK,OAAQgmB,EAAQhmB,aAGnB,CACD+M,QAASA,EAAQkqB,aAWrB,IAAI9a,EAAM,6BAA6Bnb,OAAO8hB,KAAKO,UAAU,CAC3D8E,SAAUpb,EAAQkqB,WAAWj0B,KAAI,SAAUgjB,GACzC,MAAO,CACLjmB,UAAWimB,EAAQrmB,MACnBK,OAAQgmB,EAAQhmB,cAItBkS,EAAOglB,MAAQ,YAAc,GAAIhlB,EAAOglB,MAAO,YAAgB,GAAI/a,EAAK2G,KAAKO,UAAU,CACrFtW,QAASA,EAAQkqB,eAjFnBG,CAA0CllB,EAAQnF,GAjPpDsqB,CAAoBvG,EAAc8E,GAClC,IAAI1D,EGzGS,SAAqByD,GAClC,IAAI/1B,EAAQ+1B,EACR2B,EAAY,GAChB,MAAO,CACLnF,SAAU,WACR,OAAOvyB,GAET2X,SAAU,SAAkBpP,GAC1BvI,EAAQuI,EACRmvB,EAAUn3B,SAAQ,SAAUo3B,GAC1B,OAAOA,QAGXvE,UAAW,SAAmBuE,GAE5B,OADAD,EAAUx3B,KAAKy3B,GACR,WACLD,EAAUvd,OAAOud,EAAUtzB,QAAQuzB,GAAW,MHyFxCC,CAAY,CACtBpF,QAASuD,EACT/B,SAAU,GACV7mB,QAkUF,SAA6BA,GAC3B,IAAKA,EACH,OAAO,KAGT,GAAIlK,MAAMC,QAAQiK,GAChB,OAAOA,EAAQ1I,QAAO,SAAU2yB,EAAKhtB,GACnC,OAAO,YAAc,GAAIgtB,EAAK,YAAgB,GAAIhtB,EAAOytB,iBAAkB,IAAI,EAAAjV,EAAoB5Q,cAAc,IAAI,EAAA4Q,EAAoB7Q,iBAAiB3H,EAAOpK,OAAQoK,EAAOitB,gBAC/K,IAGL,OAAO,IAAI,EAAAzU,EAAoB5Q,cAAc,IAAI,EAAA4Q,EAAoB7Q,iBAAiB5E,EAAQnN,OAAQmN,EAAQkqB,YA7UrGS,CAAoB9B,GAC7Bhc,MAAO,KACP8Z,WAAW,EACXlsB,iBAAiB,EACjBmsB,yBAAyB,IAkB3B,SAAS5rB,EAAYnI,GACnB,OAAOuzB,EAAesD,aAAansB,QAAO,SAAUoqB,GAClD,OAAOK,QAAQL,EAAO3sB,gBACrB/E,KAAI,SAAU0xB,GACf,OAAOA,EAAO3sB,YAAYnI,MAI9B,SAASgI,IACP,IAAI+vB,EAAmBxE,EAAesD,aAAansB,QAAO,SAAUoqB,GAClE,OAAOK,QAAQL,EAAO9sB,wBACrB0C,QAAO,SAAUoqB,GAClB,OAAQ,EAAoBA,KAAYI,EAAcJ,MACrDrwB,QAAO,SAAUiI,EAAKooB,GACvB,OAAOA,EAAO9sB,oBAAoB0E,KACjC+pB,GACCuB,EAAiBzE,EAAesD,aAAansB,QAAO,SAAUoqB,GAChE,OAAOK,QAAQL,EAAO9sB,wBACrB0C,QAAO,SAAUoqB,GAClB,IAAImD,EAA8B,EAAoBnD,IAAWC,EAA0BD,EAAQ30B,GAC/F+3B,EAAyBhD,EAAcJ,IAAWM,EAAwBN,EAAQ30B,GACtF,OAAO83B,GAA+BC,KAGvC1Y,KAAK6V,GAAuB5wB,QAAO,SAAUiI,EAAKooB,GACjD,OAAOA,EAAO9sB,oBAAoB0E,KACjCqrB,GACCI,EAAiB5E,EAAesD,aAAansB,QAAO,SAAUoqB,GAChE,OAAOK,QAAQL,EAAO9sB,wBACrB0C,QAAO,SAAUoqB,GAClB,IAAIsD,EAAiC,EAAoBtD,KAAYC,EAA0BD,EAAQ30B,GACnGk4B,EAA4BnD,EAAcJ,KAAYM,EAAwBN,EAAQ30B,GAC1F,OAAOi4B,GAAkCC,KAG1C7Y,KAAK6V,GAAuB5wB,QAAO,SAAU0M,EAAS2jB,GACrD,IAAIE,EAAU,EAAoBF,GAAUA,EAAOluB,MAAMe,kBAAkBstB,cAAgBH,EAAOluB,MAAMouB,QACpGxC,EAAUrhB,EAAQ6jB,IAAY,GAClC,OAAO,YAAc,GAAI7jB,EAAS,YAAgB,GAAI6jB,EAASxC,EAAQpxB,OAAO0zB,OAC7E,IASH,MAAO,CACLkD,eAAgBA,EAChBM,kBAVsB51B,OAAOC,KAAKw1B,GAAgB/0B,KAAI,SAAU4xB,GAChE,MAAO,CACLpE,WAAYuH,EAAenD,GAASvwB,QAAO,SAAUiI,EAAKooB,GACxD,OAAOA,EAAO9sB,oBAAoB0E,KACjCqrB,GACH/C,QAASA,OASf,SAASvhB,IACP,IAAK+iB,EAAM,CACT,IAAI+B,EAAuBvwB,EAAoBuR,EAAOvZ,OAClDg4B,EAAiBO,EAAqBP,eACtCM,EAAoBC,EAAqBD,kBAM7C/e,EAAOxG,eAAe1O,QAAQ9D,SAAQ,SAAUkZ,GAe9CA,EAAciX,YAEhB4H,EAAkB/3B,SAAQ,SAAUkyB,GAClC,IAAIuC,EAAUvC,EAAMuC,QAChBpE,EAAa6B,EAAM7B,WACHrX,EAAOoB,QAAO,WAChC,OAAOiW,KAEKsF,GAAG,SAAUI,EAAoB,CAC7CtB,QAASA,KACPkB,GAAG,QAASK,MAElBhd,EAAO5B,SAASqgB,GAChBze,EAAO9F,UAIX,SAAS6iB,EAAoBzD,GAC3B,IAAImC,EAAUnC,EAAMmC,QACpB,OAAO,SAAU9uB,GACf,IAAIlG,EAAQsyB,EAAMC,WACdiG,GAAyBjf,EAAOxG,eAAe9R,OAC/CkM,EAAUnN,EAAMmN,QAAUnN,EAAMmN,QAAU,GAI9CA,GAAWqrB,GAAyBrrB,EAAQsrB,eAAiB,GAAKtrB,EAKhEA,EAHGqrB,EAGOtyB,EAAMiH,QAFN,YAAc,GAAIA,EAAS,YAAgB,GAAI6nB,EAAS9uB,EAAMiH,UAK1E,IAAIurB,EAAepG,EAAMC,WACrBoG,EAAsBD,EAAa9wB,gBAElC2R,EAAOwB,uBACVqO,aAAa+M,GACbA,EAAqB,KACrBwC,GAAsB,GAGCD,EAAa7E,mBAAtC,IACIwC,EAAe,YAAyBqC,EAAc,CAAC,uBAE3DpG,EAAM3a,SAAS,YAAc,GAAI0e,EAAc,CAC7ClpB,QAASA,EACTvF,gBAAiB+wB,EACjB7E,WAAW,EACX9Z,MAAO,SAKb,SAASuc,EAAkBqC,GACzB,IAAI5e,EAAQ4e,EAAM5e,MACd0e,EAAepG,EAAMC,WACrBoG,EAAsBD,EAAa9wB,gBAElC2R,EAAOwB,uBACVqO,aAAa+M,GACbwC,GAAsB,GAGCD,EAAa7E,mBAAtC,IACIwC,EAAe,YAAyBqC,EAAc,CAAC,uBAE3DpG,EAAM3a,SAAS,YAAc,GAAI0e,EAAc,CAC7CzuB,gBAAiB+wB,EACjB3e,MAAOA,EACP8Z,WAAW,KAgPf,MAAO,CACLxB,MAAOA,EACPiB,eAAgBA,EAChBsF,cATF,WACE,OAAOvG,EAAMC,WAAWyB,SAASvvB,QAAO,SAAUiI,EAAKosB,GACrD,YAA0B,IAAZA,EAAK1wB,GAAqBsE,EAAItL,OAAO03B,EAAK1wB,IAAMsE,IAC7D,KAOH1E,oBAAqBA,EACrBgrB,uBAlDF,SAAgC+F,GAC9B,IAAIt2B,EAAYs2B,EAAMt2B,UAClB0C,EAAQ4zB,EAAM5zB,MACd6zB,EAAqBD,EAAM3zB,aAC3BA,OAAsC,IAAvB4zB,EAAgC,GAAKA,EAGpDC,EAA0BztB,KAAKD,IAAI,EAAGC,KAAKC,IAAIrG,EAAc,MACjEktB,EAAM3a,SAAS,YAAc,GAAI2a,EAAMC,WAAY,CACjDwB,yBAAyB,KAE3Bxa,EAAO9E,qBAAqBhS,EAAW0C,EAAO8zB,GAAyB9kB,MAAK,SAAUC,GACpF,IAAI8kB,EAEJ5G,EAAM3a,SAAS,YAAc,GAAI2a,EAAMC,WAAY,CACjDvY,MAAO,KACP+Z,yBAAyB,EACzBF,mBAAoB,YAAc,GAAIvB,EAAMC,WAAWsB,oBAAqBqF,EAAiB,GAAI,YAAgBA,EAAgBz2B,EAAW2R,EAAQW,WAAY,YAAgBmkB,EAAgB,QAAS/zB,GAAQ+zB,UAElN,SAAUlf,GACXsY,EAAM3a,SAAS,YAAc,GAAI2a,EAAMC,WAAY,CACjDwB,yBAAyB,EACzB/Z,MAAOA,QAERzF,OAAM,SAAUyF,GAKjByB,YAAW,WACT,MAAMzB,SAqBVmf,sBA7DF,SAA+BC,GAC7B,IAAIpF,EAAW7rB,EAAYixB,GAC3B9G,EAAM3a,SAAS,YAAc,GAAI2a,EAAMC,WAAY,CACjDC,QAAS4G,EACTpF,SAAUA,EACVF,WAAW,KAEbrgB,KAuDAse,gBAvEF,SAAyBqH,GACvB,IAAIvyB,EAAcyrB,EAAMC,WAAWC,QACnC,OAAOe,EAAesD,aAAansB,QAAO,SAAUoqB,GAClD,OAAOK,QAAQL,EAAO/C,oBACrBttB,QAAO,SAAUiI,EAAKooB,GACvB,OAAOA,EAAO/C,gBAAgBlrB,EAAa6F,KAC1C0sB,IAkEHC,aAzZF,SAAsB/mB,GACpBuiB,EAAiBviB,GACjBiH,EAAO9G,UAAUH,GACjBmB,KAuZA6lB,YAnBF,SAAqBC,GACnB9C,EAA0BA,EAAwBjf,SAAS+hB,IAmB3D/e,WArZF,WACEjB,EAAOiB,aACP/G,KAoZA+lB,WAhaF,WACEhD,GAAO,I,gBItGX,SAASiD,EAAa7yB,GACpB,OAAOuuB,QAAQvuB,EAAMC,aA0CvB,IAAI,EAA6B,SAAUuW,GAuBzC,SAASsc,EAAc9yB,GACrB,IAAIorB,EAEJ,YAAgB1lB,KAAMotB,GAEtB1H,EAAQ,YAA2B1lB,KAAM,YAAgBotB,GAAejvB,KAAK6B,KAAM1F,IAEnF,YAAgB,YAAuBorB,GAAQ,gBAAgB,GAE/D,IAAI2H,EAAuB9D,EAA2B,CACpD11B,UAAW6xB,EAAMprB,MAAMzG,UACvB+wB,aAAcc,EAAMprB,MAAMsqB,aAC1B6E,aAAc/D,EAAMprB,MAAMC,aAAe,GACzCmvB,aAAchE,EAAMprB,MAAMovB,aAC1BC,mBAAoBjE,EAAMprB,MAAMqvB,qBAE9BxuB,EAAe,CACjB6qB,MAAOqH,EAAqBrH,MAC5BiB,eAAgBoG,EAAqBpG,eACrCqG,kBAAmB5H,EAAMprB,MAAMzG,UAC/BkyB,sBAAuBL,EAAM6H,6BAA6B1wB,KAAK,YAAuB6oB,IACtFY,mBAAoBZ,EAAMY,mBAAmBzpB,KAAK,YAAuB6oB,IACzEgB,uBAAwBhB,EAAMgB,uBAAuB7pB,KAAK,YAAuB6oB,IACjFV,oBAAqBU,EAAMV,oBAAoBnoB,KAAK,YAAuB6oB,IAC3EiB,mBAAoBjB,EAAMiB,mBAAmB9pB,KAAK,YAAuB6oB,KAO3E,OALAA,EAAMhyB,MAAQ,CACZy5B,aAAcA,EAAazH,EAAMprB,OACjC+yB,qBAAsBA,EACtBlyB,aAAcA,GAETuqB,EAyFT,OA9IA,YAAU0H,EAAetc,GAEzB,YAAasc,EAAe,KAAM,CAAC,CACjCnd,IAAK,2BACL5c,MAAO,SAAkCme,EAAW0C,GAClD,IAAIsZ,EAAmBL,EAAa3b,GAChCic,EAAsBvZ,EAAUmZ,qBAAqBrH,MAAMC,WAAWC,QACtE4G,EAAkBtb,EAAUjX,YAMhC,OAJIizB,IAAqB,IAAQC,EAAqBX,IACpD5Y,EAAUmZ,qBAAqBR,sBAAsBrb,EAAUjX,aAG1D,CACL4yB,aAAcK,EACdryB,aAAc,YAAc,GAAI+Y,EAAU/Y,aAAc,CACtDmyB,kBAAmB9b,EAAU3d,iBAwCrC,YAAau5B,EAAe,CAAC,CAC3Bnd,IAAK,qBACL5c,MAAO,SAA4B+zB,GACjC,IAAIsG,EAAmBP,EAAa/F,GAEpC,GAAIsG,IAAqB1tB,KAAKtM,MAAMy5B,aAClC,MAAM,IAAIvmB,MAAM,0EAGlB,IAAK8mB,GAAoB1tB,KAAKtM,MAAMy5B,aAClC,MAAM,IAAIvmB,MAAM,0EAGd5G,KAAK1F,MAAMqzB,UAAYvG,EAAUuG,SAAW3tB,KAAK1F,MAAMqzB,SACzD3tB,KAAKtM,MAAM25B,qBAAqBnf,aAG9BkZ,EAAUvzB,YAAcmM,KAAK1F,MAAMzG,WACrCmM,KAAKtM,MAAM25B,qBAAqBL,YAAYhtB,KAAK1F,MAAMzG,WAGrDuzB,EAAUxC,eAAiB5kB,KAAK1F,MAAMsqB,cACxC5kB,KAAKtM,MAAM25B,qBAAqBN,aAAa/sB,KAAK1F,MAAMsqB,gBAG3D,CACD3U,IAAK,uBACL5c,MAAO,WACL2M,KAAK+mB,cAAe,EACpB/mB,KAAKtM,MAAM25B,qBAAqBH,eAEjC,CACDjd,IAAK,qBACL5c,MAAO,SAA4BkH,GAEjC,OADAA,EAAcyF,KAAKtM,MAAM25B,qBAAqB5H,gBAAgBlrB,GACvDyF,KAAKtM,MAAMy5B,cAAgBntB,KAAK1F,MAAMytB,UAAY/nB,KAAK1F,MAAMytB,UAAUxtB,EAAayF,KAAK4tB,gBAAkB,MAEnH,CACD3d,IAAK,+BACL5c,MAAO,SAAsCkH,GAC3CA,EAAcyF,KAAKtM,MAAM25B,qBAAqB5H,gBAAgBlrB,GAC9DyF,KAAKglB,oBAAoBzqB,GAEpByF,KAAKtM,MAAMy5B,cACdntB,KAAKtM,MAAM25B,qBAAqBR,sBAAsBtyB,KAGzD,CACD0V,IAAK,sBACL5c,MAAO,SAA6BkH,GAC9ByF,KAAK1F,MAAM0qB,sBAAwBhlB,KAAK+mB,cAC1C/mB,KAAK1F,MAAM0qB,oBAAoBzqB,KAGlC,CACD0V,IAAK,qBACL5c,MAAO,SAA4BqI,EAAqBlB,EAASF,GAC/D,GAAI0F,KAAK1F,MAAMqsB,mBAAoB,CACjC,IAAIkH,EAAe7tB,KAAK1F,MAAMC,YAAcyF,KAAK1F,MAAMC,YAAc,GAErEyF,KAAK1F,MAAMqsB,mBAAmBjrB,EAAqBlB,EAASF,EAAOuzB,MAGtE,CACD5d,IAAK,yBACL5c,MAAO,SAAgCkH,GACrCyF,KAAKtM,MAAM25B,qBAAqB3G,uBAAuBnsB,KAExD,CACD0V,IAAK,eACL5c,MAAO,WACL,OAAO2M,KAAKtM,MAAM25B,qBAAqBd,kBAExC,CACDtc,IAAK,SACL5c,MAAO,WACL,OAA4C,IAAxC,WAASy6B,MAAM9tB,KAAK1F,MAAMiI,UACrB,KAGF,IAAMQ,cAAc,IAAuB,CAChD1P,MAAO2M,KAAKtM,MAAMyH,cACjB6E,KAAK1F,MAAMiI,cAIX6qB,EA/IwB,CAgJ/B,aAEF,YAAgB,EAAe,eAAgB,CAC7CzD,mBAAoB,IACpBgE,SAAS,IAGX,YAAgB,EAAe,YAAa,CAE1C95B,UAAW,IAAUkH,OAAOgzB,WAC5BnJ,aAAc,IAAUoJ,MAAM,CAC5B7mB,OAAQ,IAAU8mB,KAAKF,WACvB5lB,qBAAsB,IAAU8lB,KAChC/nB,gBAAiB,IAAU+nB,KAC3B/f,WAAY,IAAU+f,OACrBF,WACHhG,UAAW,IAAUkG,KACrBN,QAAS,IAAUO,KACnB3zB,YAAa,IAAUujB,OACvBkH,oBAAqB,IAAUiJ,KAC/BtH,mBAAoB,IAAUsH,KAC9BvE,aAAc,IAAUyE,UAAU,CAAC,IAAUrQ,OAAQ,IAAUmB,QAC/D1c,SAAU,IAAU6rB,KACpBzE,mBAAoB,IAAU0E,SAGjB,O,mCCnOf,kDAwCeC,IArBM,SAAC,GAAD,SAAEC,MACfz3B,KAAI,SAAAie,GACR,OAAIA,EAAKyZ,SAEL,gBAAC,IAAD,CACEve,IAAK8E,EAAKP,MACVnP,KAAM0P,EAAKtQ,GACX3K,OAAO,SACPwL,IAAI,YACHyP,EAAKP,OAMR,gBAAC,IAAD,CAAYvE,IAAK8E,EAAKP,MAAO/P,GAAIsQ,EAAKtQ,IACnCsQ,EAAKP,a,wDClChB,IAAI3X,EAAO,EAAQ,QACfE,EAAW,EAAQ,QACnB0xB,EAA+B,EAAQ,QACvCC,EAAwB,EAAQ,QAChC1xB,EAAW,EAAQ,QACnB2xB,EAAiB,EAAQ,QACzBC,EAAoB,EAAQ,QAIhC37B,EAAOC,QAAU,SAAc27B,GAC7B,IAOIl6B,EAAQmJ,EAAQgxB,EAAM1Y,EAAUI,EAAMnjB,EAPtC0K,EAAIhB,EAAS8xB,GACb1c,EAAmB,mBAARnS,KAAqBA,KAAOrJ,MACvCo4B,EAAkB7lB,UAAUvU,OAC5Bq6B,EAAQD,EAAkB,EAAI7lB,UAAU,QAAKzR,EAC7Cw3B,OAAoBx3B,IAAVu3B,EACVE,EAAiBN,EAAkB7wB,GACnCtK,EAAQ,EAIZ,GAFIw7B,IAASD,EAAQnyB,EAAKmyB,EAAOD,EAAkB,EAAI7lB,UAAU,QAAKzR,EAAW,IAE3DA,MAAlBy3B,GAAiC/c,GAAKxb,OAAS+3B,EAAsBQ,GAWvE,IADApxB,EAAS,IAAIqU,EADbxd,EAASqI,EAASe,EAAEpJ,SAEdA,EAASlB,EAAOA,IACpBJ,EAAQ47B,EAAUD,EAAMjxB,EAAEtK,GAAQA,GAASsK,EAAEtK,GAC7Ck7B,EAAe7wB,EAAQrK,EAAOJ,QAThC,IAFAmjB,GADAJ,EAAW8Y,EAAe/wB,KAAKJ,IACfyY,KAChB1Y,EAAS,IAAIqU,IACL2c,EAAOtY,EAAKrY,KAAKiY,IAAW/V,KAAM5M,IACxCJ,EAAQ47B,EAAUR,EAA6BrY,EAAU4Y,EAAO,CAACF,EAAKz7B,MAAOI,IAAQ,GAAQq7B,EAAKz7B,MAClGs7B,EAAe7wB,EAAQrK,EAAOJ,GAWlC,OADAyK,EAAOnJ,OAASlB,EACTqK,I,kCC1BT7K,EAAOC,QAXP,SAAkBi8B,EAAMC,GACtBD,EAAKjoB,UAAY9Q,OAAO8H,OAAOkxB,EAAUloB,UAAW,CAClD+J,YAAa,CACX5d,MAAO87B,EACPjf,YAAY,EACZE,UAAU,EACVD,cAAc,O,qBCRpB,IAAIkf,EAAI,EAAQ,QACZ3Y,EAAO,EAAQ,QASnB2Y,EAAE,CAAEv1B,OAAQ,QAASw1B,MAAM,EAAMC,QARC,EAAQ,OAEfC,EAA4B,SAAUC,GAC/D94B,MAAM+f,KAAK+Y,OAKmD,CAC9D/Y,KAAMA,K,qBCXRxjB,EAAQw8B,YAAa,EACrBx8B,EAAQy8B,YAASl4B,EAEjB,IAAI0tB,EAAW/uB,OAAOgvB,QAAU,SAAUtrB,GACxC,IAAK,IAAImH,EAAI,EAAGA,EAAIiI,UAAUvU,OAAQsM,IAAK,CACzC,IAAIqd,EAASpV,UAAUjI,GAEvB,IAAK,IAAIgP,KAAOqO,EACVloB,OAAO8Q,UAAUwW,eAAevf,KAAKmgB,EAAQrO,KAC/CnW,EAAOmW,GAAOqO,EAAOrO,IAK3B,OAAOnW,GAGL81B,EAAe,WACjB,SAASzZ,EAAiBrc,EAAQQ,GAChC,IAAK,IAAI2G,EAAI,EAAGA,EAAI3G,EAAM3F,OAAQsM,IAAK,CACrC,IAAI4uB,EAAav1B,EAAM2G,GACvB4uB,EAAW3f,WAAa2f,EAAW3f,aAAc,EACjD2f,EAAW1f,cAAe,EACtB,UAAW0f,IAAYA,EAAWzf,UAAW,GACjDha,OAAOrD,eAAe+G,EAAQ+1B,EAAW5f,IAAK4f,IAIlD,OAAO,SAAUv2B,EAAaw2B,EAAYC,GAGxC,OAFID,GAAY3Z,EAAiB7c,EAAY4N,UAAW4oB,GACpDC,GAAa5Z,EAAiB7c,EAAay2B,GACxCz2B,GAdQ,GAoBf02B,EAAUC,EAFD,EAAQ,SAMjBC,EAAcD,EAFD,EAAQ,SAMrBE,EAAoBF,EAFD,EAAQ,SAM3BG,EAAqBH,EAFD,EAAQ,SAI5BI,EAAe,EAAQ,QAEvBC,EAAmB,EAAQ,QAE/B,SAASL,EAAuBjgB,GAC9B,OAAOA,GAAOA,EAAI0f,WAAa1f,EAAM,CACnCugB,QAASvgB,GAIb,SAAS2O,EAAyB3O,EAAK3Z,GACrC,IAAIyD,EAAS,GAEb,IAAK,IAAImH,KAAK+O,EACR3Z,EAAKyB,QAAQmJ,IAAM,GAClB7K,OAAO8Q,UAAUwW,eAAevf,KAAK6R,EAAK/O,KAC/CnH,EAAOmH,GAAK+O,EAAI/O,IAGlB,OAAOnH,EAGT,SAASV,EAAgBC,EAAUC,GACjC,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCAIxB,SAASi3B,EAA2BxyB,EAAMG,GACxC,IAAKH,EACH,MAAM,IAAI4lB,eAAe,6DAG3B,OAAOzlB,GAAyB,iBAATA,GAAqC,mBAATA,EAA8BH,EAAPG,EAmB5E,IAA6B0T,EACvB4e,EAAQC,EAoPVC,GAAoB,EAAIR,EAAkBI,SAASF,EAAa9f,mBAAoB8f,EAAaO,wBAAyBP,EAAa5f,iBAAnH,EAJJ,WAClB,OAAO,QAILogB,GAtPyBhf,EAsPH8e,EAnPjBD,EAAQD,EAAS,SAAUK,GAGhC,SAASC,IAGP,OAFA33B,EAAgB4G,KAAM+wB,GAEfP,EAA2BxwB,KAAM8wB,EAAiBpvB,MAAM1B,KAAMkJ,YA2LvE,OApNJ,SAAmB6H,EAAUC,GAC3B,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIzX,UAAU,kEAAoEyX,GAG1FD,EAAS7J,UAAY9Q,OAAO8H,OAAO8S,GAAcA,EAAW9J,UAAW,CACrE+J,YAAa,CACX5d,MAAO0d,EACPb,YAAY,EACZE,UAAU,EACVD,cAAc,KAGda,IAAY5a,OAAO0tB,eAAiB1tB,OAAO0tB,eAAe/S,EAAUC,GAAcD,EAASG,UAAYF,GAOzG+S,CAAUgN,EAAeD,GAQzBC,EAAc7pB,UAAUqK,sBAAwB,SAA+BC,GAC7E,QAAQ,EAAI4e,EAAmBG,SAASvwB,KAAK1F,MAAOkX,IAGtDuf,EAAc7pB,UAAU8pB,yBAA2B,SAAkCxe,EAAOye,GAC1F,IAAKA,EACH,OAAO,KAGT,OAAQze,EAAM5P,MACZ,KAAK0tB,EAAiBY,UAAUC,OAChC,KAAKb,EAAiBY,UAAUE,SAC9B,MAAO,CACLC,UAAWJ,GAGf,KAAKX,EAAiBY,UAAUI,MAC9B,MAAO,CACLC,QAASN,GAIf,MAAM,IAAIrqB,MAAM,IAAM4L,EAAM5P,KAAO,uGAGrCmuB,EAAc7pB,UAAUsqB,yBAA2B,SAAkC5L,GACnF,IAAI6L,EAEAjf,EAAQoT,EAAKpT,MACbkf,EAAoB9L,EAAK8L,kBACzBC,EAAgB/L,EAAK+L,cACrBV,EAAiBrL,EAAKqL,eAC1B,OAAO9L,EAAS,GAAIuM,IAAoBD,EAAY,IAAcjf,EAAM5P,MAAQ,GAAG9N,OAAO48B,EAAkBlf,EAAM5P,OAAS,GAAI,CAACuiB,EAAS,GAAIwM,EAAe3xB,KAAKgxB,yBAAyBxe,EAAOye,MAAoBQ,KAGvNV,EAAc7pB,UAAU0qB,sBAAwB,SAA+BzL,GAC7E,IAAI0L,EAAWC,EAEXtf,EAAQ2T,EAAM3T,MACduf,EAAW5L,EAAM4L,SACjBJ,EAAgBxL,EAAMwL,cACtBV,EAAiB9K,EAAM8K,eAE3B,OAAQze,EAAM5P,MACZ,KAAK0tB,EAAiBY,UAAUc,MAC9B,OAAO7M,EAAS,GAAI4M,IAAWF,EAAY,IAAcrf,EAAM5P,MAAQquB,EAAgBY,EAAUI,gBAAkB9M,EAAS,GAAIwM,GAAgBE,IAElJ,KAAKvB,EAAiBY,UAAUgB,KAC9B,OAAO/M,EAAS,GAAI4M,EAAU,CAC5BI,eAAgBhN,EAAS,GAAIwM,KAGjC,KAAKrB,EAAiBY,UAAUkB,KAC9B,OAAOjN,EAAS,GAAI4M,EAAU,CAC5BM,eAAgBlN,EAAS,GAAIwM,KAInC,OAAOxM,EAAS,GAAI4M,IAAWD,EAAY,IAActf,EAAM5P,MAAQuiB,EAAS,GAAIwM,GAAgBG,KAGtGf,EAAc7pB,UAAUorB,4BAA8B,SAAqCZ,EAAmBK,GAC5G,IAAIQ,EAAoBpN,EAAS,GAAI4M,GAOrC,OALA37B,OAAOC,KAAKq7B,GAAmBz9B,SAAQ,SAAUu+B,GAC/C,IAAIC,EAEJF,EAAoBpN,EAAS,GAAIoN,IAAoBE,EAAY,IAAcD,GAAkBd,EAAkBc,GAAiBC,OAE/HF,GAGTxB,EAAc7pB,UAAUwrB,sBAAwB,SAA+BlgB,EAAOye,GAmBpF,OAAO,GAGTF,EAAc7pB,UAAUyrB,mBAAqB,SAA4BpwB,EAAUwvB,GACjF,IAAInL,EAAS5mB,KAET0xB,EAAoB,GAyCxB,OAvCA1B,EAAQO,QAAQqC,SAAS3+B,QAAQsO,GAAU,SAAUiQ,GACnD,GAAKA,GAAUA,EAAMlY,MAArB,CAIA,IAAIu4B,EAAergB,EAAMlY,MACrB22B,EAAiB4B,EAAatwB,SAC9BuwB,EAAanU,EAAyBkU,EAAc,CAAC,aAErDlB,GAAgB,EAAItB,EAAa0C,mCAAmCD,GAIxE,OAFAlM,EAAO8L,sBAAsBlgB,EAAOye,GAE5Bze,EAAM5P,MACZ,KAAK0tB,EAAiBY,UAAU8B,KAChC,KAAK1C,EAAiBY,UAAU+B,KAChC,KAAK3C,EAAiBY,UAAUE,SAChC,KAAKd,EAAiBY,UAAUC,OAChC,KAAKb,EAAiBY,UAAUI,MAC9BI,EAAoB9K,EAAO4K,yBAAyB,CAClDhf,MAAOA,EACPkf,kBAAmBA,EACnBC,cAAeA,EACfV,eAAgBA,IAElB,MAEF,QACEc,EAAWnL,EAAOgL,sBAAsB,CACtCpf,MAAOA,EACPuf,SAAUA,EACVJ,cAAeA,EACfV,eAAgBA,SAMxBc,EAAW/xB,KAAKsyB,4BAA4BZ,EAAmBK,IAIjEhB,EAAc7pB,UAAU0K,OAAS,WAC/B,IAAIshB,EAASlzB,KAAK1F,MACdiI,EAAW2wB,EAAO3wB,SAClBjI,EAAQqkB,EAAyBuU,EAAQ,CAAC,aAE1CnB,EAAW5M,EAAS,GAAI7qB,GAM5B,OAJIiI,IACFwvB,EAAW/xB,KAAK2yB,mBAAmBpwB,EAAUwvB,IAGxC/B,EAAQO,QAAQxtB,cAAc8O,EAAWkgB,IAGlDnC,EAAamB,EAAe,KAAM,CAAC,CACjC9gB,IAAK,YAuBLoH,IAAK,SAAahH,GAChBwB,EAAUxB,UAAYA,MAInB0gB,EAjMe,CAkMtBf,EAAQO,QAAQ1e,WAAY4e,EAAO51B,UAAY,CAC/Cs4B,KAAMjD,EAAYK,QAAQzS,OAC1BqU,eAAgBjC,EAAYK,QAAQzS,OACpCvb,SAAU2tB,EAAYK,QAAQpC,UAAU,CAAC+B,EAAYK,QAAQ6C,QAAQlD,EAAYK,QAAQnC,MAAO8B,EAAYK,QAAQnC,OACpHiF,aAAcnD,EAAYK,QAAQx1B,OAClC6iB,MAAOsS,EAAYK,QAAQrC,KAC3BoF,wBAAyBpD,EAAYK,QAAQrC,KAC7CmE,eAAgBnC,EAAYK,QAAQzS,OACpCyV,KAAMrD,EAAYK,QAAQ6C,QAAQlD,EAAYK,QAAQzS,QACtD0O,KAAM0D,EAAYK,QAAQ6C,QAAQlD,EAAYK,QAAQzS,QACtD0V,SAAUtD,EAAYK,QAAQ6C,QAAQlD,EAAYK,QAAQzS,QAC1D2V,oBAAqBvD,EAAYK,QAAQtC,KACzCyF,OAAQxD,EAAYK,QAAQ6C,QAAQlD,EAAYK,QAAQzS,QACxD9I,MAAOkb,EAAYK,QAAQ6C,QAAQlD,EAAYK,QAAQzS,QACvDtJ,MAAO0b,EAAYK,QAAQx1B,OAC3Bk3B,gBAAiB/B,EAAYK,QAAQzS,OACrC6V,cAAezD,EAAYK,QAAQx1B,QAClC01B,EAAOvI,aAAe,CACvBtK,OAAO,EACP0V,yBAAyB,GACxB7C,EAAOtf,KAAOU,EAAUV,KAAMsf,EAAOrf,OAAS,WAC/C,IAAIwiB,EAAc/hB,EAAUT,SAmB5B,OAjBKwiB,IAEHA,GAAc,EAAIvD,EAAa5f,kBAAkB,CAC/CojB,QAAS,GACT1B,eAAgB,GAChBmB,yBAAyB,EACzBjB,eAAgB,GAChByB,SAAU,GACVC,SAAU,GACVC,aAAc,GACdC,WAAY,GACZC,UAAW,GACX1f,MAAO,GACPyd,gBAAiB,MAId2B,GACNlD,GASLG,EAAasD,aAAetD,EAAazf,OACzCle,EAAQy8B,OAASkB,EACjB39B,EAAQq9B,QAAUM,G,kCC9VlB,IAAIv9B,EAAQ,EAAQ,QAEhBgtB,EAAe,EAAQ,QAEvB8T,EAAe,EAAQ,QAEvB71B,EAAO,EAAQ,QAEf81B,EAAc,EAAQ,QAEtBhW,EAAO,EAAQ,QAEfxY,EAAgB,EAAQ,QAExByuB,EAAiB,EAAQ,QAU7B,SAASC,EAAyBje,EAAGyC,GACnC,OAAIpiB,MAAMC,QAAQ0f,IAAM3f,MAAMC,QAAQmiB,GAC7BzC,EAAE3hB,SAAWokB,EAAEpkB,QAAU2hB,EAAEhY,OAAM,SAAUk2B,EAAIvzB,GACpD,OAAOszB,EAAyBxb,EAAE9X,GAAIuzB,MAInCle,IAAMyC,EAkEf,SAAStT,EAAiBgvB,GACxB,IAAI3gC,EAAS2gC,EAAgBhvB,EAAiBivB,cAAcD,GAAiB,GAQ7Ez0B,KAAKnL,OAASf,EAAOe,QAAU,GAQ/BmL,KAAKjL,kBAAoBjB,EAAOiB,mBAAqB,GAUrDiL,KAAK9H,mBAAqBpE,EAAOoE,oBAAsB,GAevD8H,KAAK9I,kBAAoBpD,EAAOoD,mBAAqB,GAcrD8I,KAAK5I,eAAiBtD,EAAOsD,gBAAkB,GAc/C4I,KAAK3I,6BAA+BvD,EAAOuD,8BAAgC,GAa3E2I,KAAK1J,mBAAqBxC,EAAOwC,oBAAsB,GASvD0J,KAAKhJ,eAAiBlD,EAAOkD,gBAAkB,GAgB/CgJ,KAAKxI,8BAAgC1D,EAAO0D,+BAAiC,GAC7E,IAAIwG,EAAOgC,KACX5J,OAAOC,KAAKvC,GAAQG,SAAQ,SAAU0gC,GACpC,IAAIC,GAAiE,IAApDnvB,EAAiBovB,WAAW/8B,QAAQ68B,GACjDG,OAAuCr9B,IAAtB3D,EAAO6gC,IAEvBC,GAAcE,IACjB92B,EAAK22B,GAAa7gC,EAAO6gC,OAW/BlvB,EAAiBovB,WAAaz+B,OAAOC,KAAK,IAAIoP,GAO9CA,EAAiBivB,cAAgB,SAAU3K,GAEzC,GAAIA,aAAwBtkB,EAAkB,OAAOskB,EACrD,IAAIgL,EAAU,GAyBd,GAxBiB,CAAC,kBAAmB,eAAgB,iBAAkB,uBAAwB,sBAAuB,OAAQ,oBAAqB,WAAY,sBAAuB,cAAe,gBAC1L9gC,SAAQ,SAAU+nB,GAC3B,IAAI3oB,EAAQ02B,EAAa/N,GAEzB,GAAqB,iBAAV3oB,EAAoB,CAC7B,IAAI2hC,EAAcC,WAAW5hC,GAE7B0hC,EAAQ/Y,GAAKkZ,MAAMF,GAAe3hC,EAAQ2hC,MAK1Cr+B,MAAMC,QAAQmzB,EAAaoL,qBAC7BJ,EAAQI,kBAAoBpL,EAAaoL,kBAAkBr+B,KAAI,SAAUs+B,GACvE,OAAIz+B,MAAMC,QAAQw+B,GACTA,EAAQt+B,KAAI,SAAUzD,GAC3B,OAAO4hC,WAAW5hC,MAIf+hC,MAIPrL,EAAazzB,mBAAoB,CACnC,IAAIA,EAAqB,GACzBF,OAAOC,KAAK0zB,EAAazzB,oBAAoBrC,SAAQ,SAAUsC,GAC7D,IAAIC,EAAYuzB,EAAazzB,mBAAmBC,IAAc,GAC9DD,EAAmBC,GAAa,GAChCH,OAAOC,KAAKG,GAAWvC,SAAQ,SAAUwC,GACvC,IACI4+B,EADS7+B,EAAUC,GACGK,KAAI,SAAUC,GACtC,OAAIJ,MAAMC,QAAQG,GACTA,EAAED,KAAI,SAAUw+B,GACrB,MAAsB,iBAAXA,EACFL,WAAWK,GAGbA,KAEa,iBAANv+B,EACTk+B,WAAWl+B,GAGbA,KAETT,EAAmBC,GAAWE,GAAY4+B,QAG9CN,EAAQz+B,mBAAqBA,EAG/B,OAAOhD,EAAM,GAAIy2B,EAAcgL,IAUjCtvB,EAAiBY,KAAO,SAA8BouB,GACpD,IAAIp7B,EAAW,IAAIoM,EAAiBgvB,GAkBpC,OAjByBA,EAAcv8B,oBAAsB,IAC1CjE,SAAQ,SAAUwB,GACnC,GAAIA,EAAMmC,SAAU,CAClB,IAAIrD,EAAoB8E,EAAS7E,0BAA0BiB,EAAM6C,MAE7D/D,EAAkBI,OAAS,GAAsD,IAAjDJ,EAAkB,GAAGuD,QAAQrC,EAAMmC,YACrEyB,EAAWA,EAASJ,iBAAiBxD,EAAM6C,OAMZ,KAFjC/D,EAAoB8E,EAAS7E,0BAA0BiB,EAAM6C,OAEvC3D,SACpB0E,EAAWA,EAASk8B,kCAAkC9/B,EAAM6C,KAAM7C,EAAMmC,eAIvEyB,GAUToM,EAAiB+vB,SAAW,SAAUpJ,EAAc9H,GAClD,IAAIxwB,EAASwwB,GAAc,GAE3B,OAAI8H,EAAa92B,YAAcxB,EAAOkD,gBAAkBlD,EAAOkD,eAAerC,OAAS,EAC9E,IAAIiS,MAAM,qLAGfwlB,EAAap1B,eAAerC,OAAS,GAAKb,EAAOwB,WAC5C,IAAIsR,MAAM,oKAGfwlB,EAAaj3B,gBAAkBrB,EAAOwC,oBAAsBuP,EAAc/R,EAAOwC,oBAC5E,IAAIsQ,MAAM,+KAGff,EAAcumB,EAAa91B,qBAAuBxC,EAAOqB,eACpD,IAAIyR,MAAM,+KAGZ,MAGTnB,EAAiByB,UAAY,CAC3B+J,YAAaxL,EAWbxM,iBAAkB,SAA0B1C,GAC1C,IAAIk/B,EAAQ,CACVn/B,mBAAoB0J,KAAK01B,yBAAyBn/B,GAClDW,kBAAmBo9B,EAAexT,gBAAgB9gB,KAAK9I,kBAAmBX,EAAW,oBACrFa,eAAgBk9B,EAAexT,gBAAgB9gB,KAAK5I,eAAgBb,EAAW,WAC/Ec,6BAA8Bi9B,EAAexT,gBAAgB9gB,KAAK3I,6BAA8Bd,EAAW,oBAC3GiB,8BAA+B88B,EAAexT,gBAAgB9gB,KAAKxI,8BAA+BjB,EAAW,sBAG/G,OAAIk/B,EAAMn/B,qBAAuB0J,KAAK1J,oBAAsBm/B,EAAMv+B,oBAAsB8I,KAAK9I,mBAAqBu+B,EAAMr+B,iBAAmB4I,KAAK5I,gBAAkBq+B,EAAMp+B,+BAAiC2I,KAAK3I,8BAAgCo+B,EAAMj+B,gCAAkCwI,KAAKxI,8BAClRwI,KAGFA,KAAK2H,mBAAmB8tB,IAQjC1sB,UAAW,WACT,YAAwBtR,IAApBuI,KAAK1K,YAA2D,IAA/B0K,KAAKhJ,eAAerC,OAAqBqL,KACvEA,KAAK2H,mBAAmB,CAC7BrS,gBAAYmC,EACZT,eAAgB,MAUpBkU,SAAU,SAAkBzX,GAC1B,OAAIA,IAAUuM,KAAKvM,MAAcuM,KAC1BA,KAAK2H,mBAAmB,CAC7BlU,MAAOA,KAUXmI,SAAU,SAAkB+5B,GAC1B,OAAIA,IAAa31B,KAAKnH,MAAcmH,KAC7BA,KAAK2H,mBAAmB,CAC7B9O,MAAO88B,KAUX7uB,QAAS,SAAiB8uB,GACxB,OAAIA,IAAY51B,KAAKpK,KAAaoK,KAC3BA,KAAK2H,mBAAmB,CAC7B/R,KAAMggC,KAWVC,UAAW,SAAmBhhC,GAC5B,OAAOmL,KAAK2H,mBAAmB,CAC7B9S,OAAQA,KAWZihC,qBAAsB,SAA8BjhC,GAClD,OAAOmL,KAAK2H,mBAAmB,CAC7B5S,kBAAmBF,KAWvBkhC,eAAgB,SAAwB3zB,GACtC,OAAIpC,KAAKrK,cAAgByM,EAAUpC,KAC5BA,KAAK2H,mBAAmB,CAC7BhS,YAAayM,KAWjB4zB,iBAAkB,SAA0BC,GAC1C,OAAIj2B,KAAKi2B,gBAAkBA,EAAsBj2B,KAC1CA,KAAK2H,mBAAmB,CAC7BsuB,cAAeA,KAqBnB7sB,qBAAsB,SAA8B7S,EAAWE,EAAUM,GACvE,IAAI1D,EAAQghC,EAAYt9B,GACxB,GAAIiJ,KAAKk2B,iBAAiB3/B,EAAWE,EAAUpD,GAAQ,OAAO2M,KAC9D,IAAI4gB,EAAMttB,EAAM,GAAI0M,KAAK1J,oBAYzB,OAXAsqB,EAAIrqB,GAAajD,EAAM,GAAIstB,EAAIrqB,IAE3BqqB,EAAIrqB,GAAWE,IAEjBmqB,EAAIrqB,GAAWE,GAAYmqB,EAAIrqB,GAAWE,GAAUsB,QAEpD6oB,EAAIrqB,GAAWE,GAAU7C,KAAKP,IAE9ButB,EAAIrqB,GAAWE,GAAY,CAACpD,GAGvB2M,KAAK2H,mBAAmB,CAC7BrR,mBAAoBsqB,KASxBpU,0BAA2B,SAAmCrW,GAC5D,OAAK6J,KAAK0L,mBAAmBvV,IAItB6J,KAAK9I,kBAAkBf,IAHrB,IAWXwW,0BAA2B,SAAmCxW,GAC5D,OAAK6J,KAAKhH,mBAAmB7C,IAItB6J,KAAK3I,6BAA6BlB,IAHhC,IAWX3B,0BAA2B,SAAmC2B,GAG5D,OAAO6J,KAAKxI,8BAA8BrB,IAAc,IAQ1DuW,sBAAuB,SAA+BvW,GACpD,OAAK6J,KAAK0L,mBAAmBvV,IAItB6J,KAAK5I,eAAejB,IAHlB,IAcX0T,wBAAyB,SAAiCtT,EAAWE,EAAU0/B,GAC7E,YAAmB1+B,IAAf0+B,EACGn2B,KAAKk2B,iBAAiB3/B,EAAWE,EAAU0/B,GAIzCn2B,KAAK2H,mBAAmB,CAC7BrR,mBAAoB0J,KAAK01B,0BAAyB,SAAUriC,EAAO4c,GACjE,OAAOA,IAAQ1Z,GAAalD,EAAM+iC,KAAO3/B,GAAY89B,EAAyBlhC,EAAMgjC,IAAKhC,EAAY8B,SALhGn2B,UAQavI,IAAbhB,EACJuJ,KAAKk2B,iBAAiB3/B,EAAWE,GAC/BuJ,KAAK2H,mBAAmB,CAC7BrR,mBAAoB0J,KAAK01B,0BAAyB,SAAUriC,EAAO4c,GACjE,OAAOA,IAAQ1Z,GAAalD,EAAM+iC,KAAO3/B,OAHWuJ,KAQrDA,KAAKk2B,iBAAiB3/B,GACpByJ,KAAK2H,mBAAmB,CAC7BrR,mBAAoB0J,KAAK01B,0BAAyB,SAAUriC,EAAO4c,GACjE,OAAOA,IAAQ1Z,OAH2ByJ,MAahDyL,sBAAuB,SAA+BtV,GACpD,OAAO6J,KAAK1J,mBAAmBH,IAAc,IAS/CyW,qBAAsB,SAA8BrW,EAAWE,GAC7D,OAAOuJ,KAAK1J,mBAAmBC,IAAcyJ,KAAK1J,mBAAmBC,GAAWE,IAalFi/B,yBAA0B,SAAkCn/B,GAC1D,QAAkBkB,IAAdlB,EACF,OAAKsP,EAAc7F,KAAK1J,oBAIjB,GAHE0J,KAAK1J,mBAIT,GAAyB,iBAAdC,EAChB,OAAKsP,EAAc7F,KAAK1J,mBAAmBC,IAIpC8nB,EAAKre,KAAK1J,mBAAoB,CAACC,IAH7ByJ,KAAK1J,mBAIT,GAAyB,mBAAdC,EAA0B,CAC1C,IAAIyqB,GAAa,EACb1qB,EAAqB0J,KAAK1J,mBAC1BggC,EAAwBlgC,OAAOC,KAAKC,GAAoB6B,QAAO,SAAU+oB,EAAMjR,GACjF,IAAIzZ,EAAYF,EAAmB2Z,GAC/BsmB,EAAe,GAoBnB,OAnBA//B,EAAYA,GAAa,GACzBJ,OAAOC,KAAKG,GAAWvC,SAAQ,SAAUwC,GACvC,IAAIC,EAASF,EAAUC,IAAa,GAChC+/B,EAAY,GAChB9/B,EAAOzC,SAAQ,SAAUZ,GACDkD,EAAU,CAC9B8/B,IAAKhjC,EACL+iC,GAAI3/B,GACHwZ,EAAK,YACcumB,EAAU5iC,KAAKP,MAGnCmjC,EAAU7hC,SAAW+B,EAAO/B,SAC9BqsB,GAAa,GAGfuV,EAAa9/B,GAAY+/B,KAE3BtV,EAAKjR,GAAOsmB,EACLrV,IACN,IACH,OAAIF,EAAmBsV,EAChBt2B,KAAK1J,qBAWhBmgC,SAAU,SAAkBhhC,GAC1B,OAAIuK,KAAK0L,mBAAmBjW,GACnBuK,KAGFA,KAAK2H,mBAAmB,CAC7B9S,OAAQmL,KAAKnL,OAAOC,OAAO,CAACW,OAWhCihC,oBAAqB,SAA6BjhC,GAChD,OAAIuK,KAAKhH,mBAAmBvD,GACnBuK,KAGFA,KAAK2H,mBAAmB,CAC7B5S,kBAAmBiL,KAAKjL,kBAAkBD,OAAO,CAACW,OAYtDkhC,qBAAsB,SAA8BtiC,GAClD,GAAI2L,KAAK2L,oBAAoBtX,EAAkBiE,MAC7C,MAAM,IAAIsO,MAAM,+DAAiEvS,EAAkBiE,KAAO,KAG5G,OAAO0H,KAAK2H,mBAAmB,CAC7BzP,mBAAoB8H,KAAK9H,mBAAmBpD,OAAO,CAACT,OAWxDgV,mBAAoB,SAA4B5T,EAAOpC,GACrD,IAAK2M,KAAK0L,mBAAmBjW,GAC3B,MAAM,IAAImR,MAAMnR,EAAQ,uEAG1B,OAAI6+B,EAAe5rB,UAAU1I,KAAK9I,kBAAmBzB,EAAOpC,GAAe2M,KACpEA,KAAK2H,mBAAmB,CAC7BzQ,kBAAmBo9B,EAAe9T,cAAcxgB,KAAK9I,kBAAmBzB,EAAOpC,MAWnFmW,qBAAsB,SAA8B/T,EAAOpC,GACzD,IAAK2M,KAAK0L,mBAAmBjW,GAC3B,MAAM,IAAImR,MAAMnR,EAAQ,uEAG1B,OAAI6+B,EAAe5rB,UAAU1I,KAAK5I,eAAgB3B,EAAOpC,GAAe2M,KACjEA,KAAK2H,mBAAmB,CAC7BvQ,eAAgBk9B,EAAe9T,cAAcxgB,KAAK5I,eAAgB3B,EAAOpC,MAW7E2V,8BAA+B,SAAuCvT,EAAOpC,GAC3E,IAAK2M,KAAKhH,mBAAmBvD,GAC3B,MAAM,IAAImR,MAAMnR,EAAQ,kFAG1B,OAAI6+B,EAAe5rB,UAAU1I,KAAK3I,6BAA8B5B,EAAOpC,GAAe2M,KAC/EA,KAAK2H,mBAAmB,CAC7BtQ,6BAA8Bi9B,EAAe9T,cAAcxgB,KAAK3I,6BAA8B5B,EAAOpC,MASzGuW,iBAAkB,SAA0BD,GAC1C,GAAI3J,KAAKiM,aAAatC,GAAM,OAAO3J,KACnC,IAAI42B,EAAe,CACjB5/B,eAAgBgJ,KAAKhJ,eAAelC,OAAO6U,IAE7C,OAAO3J,KAAK2H,mBAAmBivB,IAUjCC,YAAa,SAAqBphC,GAChC,OAAKuK,KAAK0L,mBAAmBjW,GAItBuK,KAAK/G,iBAAiBxD,GAAOkS,mBAAmB,CACrD9S,OAAQmL,KAAKnL,OAAOuJ,QAAO,SAAUpL,GACnC,OAAOA,IAAMyC,OALRuK,MAiBX82B,uBAAwB,SAAgCrhC,GACtD,OAAKuK,KAAKhH,mBAAmBvD,GAItBuK,KAAK/G,iBAAiBxD,GAAOkS,mBAAmB,CACrD5S,kBAAmBiL,KAAKjL,kBAAkBqJ,QAAO,SAAUpL,GACzD,OAAOA,IAAMyC,OALRuK,MAiBX+2B,wBAAyB,SAAiCthC,GACxD,OAAKuK,KAAK2L,oBAAoBlW,GAIvBuK,KAAK/G,iBAAiBxD,GAAOkS,mBAAmB,CACrDzP,mBAAoB8H,KAAK9H,mBAAmBkG,QAAO,SAAUpL,GAC3D,OAAOA,EAAEsF,OAAS7C,OALbuK,MAmBXiK,sBAAuB,SAA+BxU,EAAOpC,GAC3D,IAAK2M,KAAK0L,mBAAmBjW,GAC3B,MAAM,IAAImR,MAAMnR,EAAQ,uEAG1B,OAAK6+B,EAAe5rB,UAAU1I,KAAK9I,kBAAmBzB,EAAOpC,GACtD2M,KAAK2H,mBAAmB,CAC7BzQ,kBAAmBo9B,EAAezT,iBAAiB7gB,KAAK9I,kBAAmBzB,EAAOpC,KAFR2M,MAa9EoK,wBAAyB,SAAiC3U,EAAOpC,GAC/D,IAAK2M,KAAK0L,mBAAmBjW,GAC3B,MAAM,IAAImR,MAAMnR,EAAQ,uEAG1B,OAAK6+B,EAAe5rB,UAAU1I,KAAK5I,eAAgB3B,EAAOpC,GACnD2M,KAAK2H,mBAAmB,CAC7BvQ,eAAgBk9B,EAAezT,iBAAiB7gB,KAAK5I,eAAgB3B,EAAOpC,KAFL2M,MAa3E8J,iCAAkC,SAA0CrU,EAAOpC,GACjF,IAAK2M,KAAKhH,mBAAmBvD,GAC3B,MAAM,IAAImR,MAAMnR,EAAQ,kFAG1B,OAAK6+B,EAAe5rB,UAAU1I,KAAK3I,6BAA8B5B,EAAOpC,GACjE2M,KAAK2H,mBAAmB,CAC7BtQ,6BAA8Bi9B,EAAezT,iBAAiB7gB,KAAK3I,6BAA8B5B,EAAOpC,KAFnB2M,MAYzFuK,oBAAqB,SAA6BZ,GAChD,IAAK3J,KAAKiM,aAAatC,GAAM,OAAO3J,KACpC,IAAI42B,EAAe,CACjB5/B,eAAgBgJ,KAAKhJ,eAAeoH,QAAO,SAAU0X,GACnD,OAAOA,IAAMnM,MAGjB,OAAO3J,KAAK2H,mBAAmBivB,IAYjCjsB,iBAAkB,SAA0BlV,EAAOpC,GACjD,OAAO2M,KAAK4K,sBAAsBnV,EAAOpC,IAW3CuX,sBAAuB,SAA+BnV,EAAOpC,GAC3D,GAAI2M,KAAK2L,oBAAoBlW,GAC3B,OAAOuK,KAAKu1B,kCAAkC9/B,EAAOpC,GAChD,GAAI2M,KAAK0L,mBAAmBjW,GACjC,OAAOuK,KAAKg3B,iCAAiCvhC,EAAOpC,GAC/C,GAAI2M,KAAKhH,mBAAmBvD,GACjC,OAAOuK,KAAKi3B,iCAAiCxhC,EAAOpC,GAGtD,MAAM,IAAIuT,MAAM,sCAAwCnR,EAAQ,+FAUlEuhC,iCAAkC,SAA0CvhC,EAAOpC,GACjF,IAAK2M,KAAK0L,mBAAmBjW,GAC3B,MAAM,IAAImR,MAAMnR,EAAQ,uEAG1B,OAAOuK,KAAK2H,mBAAmB,CAC7BzQ,kBAAmBo9B,EAAe3pB,iBAAiB3K,KAAK9I,kBAAmBzB,EAAOpC,MAWtFoX,6BAA8B,SAAsChV,EAAOpC,GACzE,IAAK2M,KAAK0L,mBAAmBjW,GAC3B,MAAM,IAAImR,MAAMnR,EAAQ,uEAG1B,OAAOuK,KAAK2H,mBAAmB,CAC7BvQ,eAAgBk9B,EAAe3pB,iBAAiB3K,KAAK5I,eAAgB3B,EAAOpC,MAWhF4jC,iCAAkC,SAA0CxhC,EAAOpC,GACjF,IAAK2M,KAAKhH,mBAAmBvD,GAC3B,MAAM,IAAImR,MAAMnR,EAAQ,kFAG1B,OAAOuK,KAAK2H,mBAAmB,CAC7BtQ,6BAA8Bi9B,EAAe3pB,iBAAiB3K,KAAK3I,6BAA8B5B,EAAOpC,MAW5GkiC,kCAAmC,SAA2C9/B,EAAOpC,GACnF,IAAK2M,KAAK2L,oBAAoBlW,GAC5B,MAAM,IAAImR,MAAMnR,EAAQ,mFAG1B,IAAIhB,EAAYuL,KAAKtL,+BAA+BsL,KAAK1L,2BAA2BmB,IAEhFmrB,EAAM,GAoBV,YAnByEnpB,IAA9CuI,KAAKxI,8BAA8B/B,IAAwBuK,KAAKxI,8BAA8B/B,GAAOd,OAAS,IAEzIqL,KAAKxI,8BAA8B/B,GAAO,KAAOpC,GAI2B,IAA5E2M,KAAKxI,8BAA8B/B,GAAO,GAAGqC,QAAQzE,EAAQoB,KAGzB,IAA9BpB,EAAMyE,QAAQrD,GAEhBmsB,EAAInrB,GAAS,GAEbmrB,EAAInrB,GAAS,CAACpC,EAAM0E,MAAM,EAAG1E,EAAM2E,YAAYvD,KAGjDmsB,EAAInrB,GAAS,CAACpC,GAGT2M,KAAK2H,mBAAmB,CAC7BnQ,8BAA+B8oB,EAAa,GAAIM,EAAK5gB,KAAKxI,kCAW9D2R,+BAAgC,SAAwC1T,EAAO7C,GAC7E,GAAIoN,KAAK4L,2BAA2BnW,GAClC,MAAM,IAAImR,MAAMnR,EAAQ,wBAG1B,IAAKuK,KAAK2L,oBAAoBlW,GAC5B,MAAM,IAAImR,MAAMnR,EAAQ,oFAG1B,IAAImrB,EAAM,GAEV,OADAA,EAAInrB,GAAS,CAAC7C,GACPoN,KAAK2H,mBAAmB,CAC7BnQ,8BAA+B8oB,EAAa,GAAIM,EAAK5gB,KAAKxI,kCAU9DwS,kCAAmC,SAA2CvU,GAC5E,IAAKuK,KAAK4L,2BAA2BnW,GACnC,OAAOuK,KAGT,IAAI4gB,EAAM,GAEV,OADAA,EAAInrB,GAAS,GACNuK,KAAK2H,mBAAmB,CAC7BnQ,8BAA+B8oB,EAAa,GAAIM,EAAK5gB,KAAKxI,kCAU9DuT,oBAAqB,SAA6BpB,GAChD,OAAI3J,KAAKiM,aAAatC,GACb3J,KAAKuK,oBAAoBZ,GAG3B3J,KAAK4J,iBAAiBD,IAS/B3Q,mBAAoB,SAA4BvD,GAC9C,OAAOuK,KAAKjL,kBAAkB+C,QAAQrC,IAAU,GASlDkW,oBAAqB,SAA6BxV,GAChD,YAAsDsB,IAA/CuI,KAAK1L,2BAA2B6B,IASzCuV,mBAAoB,SAA4BjW,GAC9C,OAAOuK,KAAKnL,OAAOiD,QAAQrC,IAAU,GAYvCmT,eAAgB,SAAwBnT,EAAOpC,GAC7C,QAAK2M,KAAK0L,mBAAmBjW,IAItB6+B,EAAe5rB,UAAU1I,KAAK9I,kBAAmBzB,EAAOpC,IAajEyY,iBAAkB,SAA0BrW,EAAOpC,GACjD,QAAK2M,KAAK0L,mBAAmBjW,IAItB6+B,EAAe5rB,UAAU1I,KAAK5I,eAAgB3B,EAAOpC,IAY9DsV,0BAA2B,SAAmClT,EAAOpC,GACnE,QAAK2M,KAAKhH,mBAAmBvD,IAItB6+B,EAAe5rB,UAAU1I,KAAK3I,6BAA8B5B,EAAOpC,IAY5EuY,2BAA4B,SAAoCnW,EAAOpC,GACrE,IAAK2M,KAAK2L,oBAAoBlW,GAC5B,OAAO,EAGT,IAAI8W,EAAcvM,KAAKxL,0BAA0BiB,GAEjD,OAAKpC,GAIkC,IAAhCkZ,EAAYzU,QAAQzE,GAHlBkZ,EAAY5X,OAAS,GAgBhCuhC,iBAAkB,SAA0B3/B,EAAWE,EAAUpD,GAC/D,QAAcoE,IAAVpE,QAAoCoE,IAAbhB,EACzB,QAASuJ,KAAK1J,mBAAmBC,GAGnC,IAAI2gC,EAAoBl3B,KAAK1J,mBAAmBC,SAA+DkB,IAAjDuI,KAAK1J,mBAAmBC,GAAWE,GAEjG,QAAcgB,IAAVpE,IAAwB6jC,EAC1B,OAAOA,EAGT,IAnqCejY,EAAOkY,EAmqClBnC,EAAcX,EAAYhhC,GAC1B+jC,OAAmG3/B,KApqCxFwnB,EAoqCyBjf,KAAK1J,mBAAmBC,GAAWE,GApqCrD0gC,EAoqCgEnC,EAnqCjFz2B,EAAK0gB,GAAO,SAAUoY,GAC3B,OAAO9C,EAAyB8C,EAAcF,OAmqC9C,OAAOD,GAAqBE,GAS9BnrB,aAAc,SAAsBtC,GAClC,OAA6C,IAAtC3J,KAAKhJ,eAAec,QAAQ6R,IAUrC3V,4BAA6B,WAC3B,IAAIgK,EAAOgC,KAEPs3B,EAAkClD,EAAah+B,OAAOC,KAAK2J,KAAK1J,oBAAoB8H,QAAO,SAAU3I,GACvG,OAAOW,OAAOC,KAAK2H,EAAK1H,mBAAmBb,IAAQd,OAAS,KAC1DqL,KAAKjL,mBACT,OAAOqB,OAAOC,KAAK2J,KAAK3I,8BAA8B+G,QAAO,SAAU3I,GACrE,OAAOuI,EAAK3G,6BAA6B5B,GAAOd,OAAS,KACxDG,OAAOwiC,GAAiCxiC,OAAOkL,KAAK5L,iCAUzDA,6BAA8B,WAC5B,IAAI4J,EAAOgC,KACX,OAAOo0B,EAEPp0B,KAAK9H,mBAAmBpB,KAAI,SAAUrB,GACpC,OAAOA,EAAM6C,QACXlC,OAAOC,KAAK2J,KAAKxI,+BAA+B4G,QAAO,SAAU3I,GACnE,OAAOuI,EAAKxG,8BAA8B/B,GAAOd,OAAS,OAS9D4iC,8BAA+B,WAC7B,IAAIC,EAAgBx3B,KAAKhM,8BACzB,OAAOgM,KAAKjL,kBAAkBqJ,QAAO,SAAUpL,GAC7C,OAAqC,IAA9BwkC,EAAc1/B,QAAQ9E,OAGjCykC,kBAAmB,CAAC,QAAS,SAAU,oBAAqB,oBAAqB,iBAAkB,+BAAgC,qBAAsB,iBAAkB,qBAAsB,iCACjMjiC,eAAgB,WACd,IAAIiiC,EAAoBz3B,KAAKy3B,kBACzBC,EAAc,GACd15B,EAAOgC,KAQX,OAPA5J,OAAOC,KAAK2J,MAAM/L,SAAQ,SAAU0gC,GAClC,IAAIwB,EAAan4B,EAAK22B,IAEwB,IAA1C8C,EAAkB3/B,QAAQ68B,SAAoCl9B,IAAf0+B,IACjDuB,EAAY/C,GAAawB,MAGtBuB,GAaTvsB,kBAAmB,SAAsBC,EAAW/X,GAClD,GAAI2M,KAAKoL,KAAe/X,EAAO,OAAO2M,KACtC,IAAI42B,EAAe,GAEnB,OADAA,EAAaxrB,GAAa/X,EACnB2M,KAAK2H,mBAAmBivB,IASjCjvB,mBAAoB,SAA4B7T,GAC9C,IAAKA,EAAQ,OAAOkM,KACpB,IAAI0N,EAAQjI,EAAiB+vB,SAASx1B,KAAMlM,GAE5C,GAAI4Z,EACF,MAAMA,EAGR,IAAI1P,EAAOgC,KAEP23B,EAAkBlyB,EAAiBivB,cAAc5gC,GAEjD8jC,EAAsBxhC,OAAOC,KAAK2J,MAAM7H,QAAO,SAAU2yB,EAAK7a,GAEhE,OADA6a,EAAI7a,GAAOjS,EAAKiS,GACT6a,IACN,IACC+M,EAAkBzhC,OAAOC,KAAKshC,GAAiBx/B,QAAO,SAAU2/B,EAAU7nB,GAC5E,IAAI8nB,OAA2CtgC,IAAlBqgC,EAAS7nB,GAClC+nB,OAA8CvgC,IAAzBkgC,EAAgB1nB,GAEzC,OAAI8nB,IAA2BC,EACtB3Z,EAAKyZ,EAAU,CAAC7nB,KAGrB+nB,IACFF,EAAS7nB,GAAO0nB,EAAgB1nB,IAG3B6nB,KACNF,GACH,OAAO,IAAI53B,KAAKiR,YAAY4mB,IAS9B/uB,UAAW,WACT,YAAkBrR,IAAduI,KAAKpK,KACAoK,KAGFA,KAAK8G,QAAQ,IAQtBmxB,4BAA6B,SAAqC5jC,GAChE,OAAOA,EAAkB0e,QAAU,CAAC,iBAAkB,aASxDre,+BAAgC,SAAwCL,GACtE,OAAOA,EAAkBI,WAAa,OASxCoD,yBAA0B,SAAkCxD,GAC1D,OAAOA,EAAkBuD,UAAY,MASvCsgC,gCAAiC,SAAyC7jC,GACxE,MAAiD,kBAAtCA,EAAkB8jC,iBACpB9jC,EAAkB8jC,iBAW7B7jC,2BAA4B,SAAoC8jC,GAC9D,OAAO75B,EAAKyB,KAAK9H,oBAAoB,SAAUlF,GAC7C,OAAOA,EAAEsF,OAAS8/B,MAStBvrB,+BAAgC,SAAwC1W,GACtE,IAAK6J,KAAK2L,oBAAoBxV,GAC5B,MAAO,GAGT,IAAIkiC,EAAar4B,KAAKxL,0BAA0B2B,GAAW,GAC3D,IAAKkiC,EAAY,MAAO,GAExB,IAAI5jC,EAAYuL,KAAKtL,+BAA+BsL,KAAK1L,2BAA2B6B,IAGpF,OADWkiC,EAAWzjC,MAAMH,GAChBqC,KAAI,SAAUwhC,GACxB,OAAOA,EAAKC,WAGhBliB,SAAU,WACR,OAAOO,KAAKO,UAAUnX,KAAM,KAAM,KAatC/M,EAAOC,QAAUuS,G,mBC37CjBxS,EAAOC,QAAU,CAAC,CAAC,KAAO,UAAU,gBAAkB,UAAU,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,SAAS,gBAAkB,UAAU,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,cAAc,gBAAkB,eAAe,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,YAAY,gBAAkB,YAAY,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,QAAQ,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,SAAS,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,SAAS,gBAAkB,UAAU,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,QAAQ,gBAAkB,WAAW,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,UAAU,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,QAAQ,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,SAAS,gBAAkB,WAAW,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,WAAW,gBAAkB,UAAU,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,SAAS,gBAAkB,QAAQ,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,QAAQ,gBAAkB,SAAS,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,iBAAiB,gBAAkB,iBAAiB,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,YAAY,gBAAkB,SAAS,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,WAAW,gBAAkB,UAAU,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,aAAa,gBAAkB,mBAAmB,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,WAAW,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,WAAW,gBAAkB,MAAM,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,WAAW,gBAAkB,UAAU,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,gBAAgB,gBAAkB,YAAY,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,QAAQ,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,SAAS,gBAAkB,MAAM,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,SAAS,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,aAAa,gBAAkB,iBAAiB,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,YAAY,gBAAkB,SAAS,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,YAAY,gBAAkB,aAAa,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,SAAS,gBAAkB,SAAS,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,QAAQ,gBAAkB,aAAa,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,SAAS,gBAAkB,SAAS,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,sBAAsB,gBAAkB,sBAAsB,KAAO,QAAQ,OAAS,GAAG,CAAC,KAAO,wBAAwB,gBAAkB,oBAAoB,KAAO,QAAQ,OAAS,GAAG,CAAC,KAAO,WAAW,gBAAkB,SAAS,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,UAAU,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,QAAQ,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,UAAU,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,QAAQ,gBAAkB,QAAQ,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,SAAS,gBAAkB,SAAS,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,OAAO,gBAAkB,MAAM,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,iBAAiB,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,UAAU,gBAAkB,SAAS,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,YAAY,gBAAkB,aAAa,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,OAAO,gBAAkB,OAAO,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,QAAQ,gBAAkB,YAAY,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,aAAa,gBAAkB,aAAa,KAAO,KAAK,OAAS,GAAG,CAAC,KAAO,qBAAqB,gBAAkB,OAAO,KAAO,UAAU,OAAS,GAAG,CAAC,KAAO,sBAAsB,gBAAkB,OAAO,KAAO,UAAU,OAAS,K,oCCUp6GD,EAAOC,QARP,SAAsBslC,EAAMC,GAC1B,OAAOD,EAAKp6B,QAAO,SAAU/K,EAAOI,GAClC,OAAOglC,EAAK3gC,QAAQzE,IAAU,GAAKmlC,EAAK1gC,QAAQzE,KAAWI,O,kCCJhD,SAASilC,EAAQ1oB,GAa9B,OATE0oB,EADoB,mBAAXtlC,QAAoD,iBAApBA,OAAOgjB,SACtC,SAAiBpG,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,mBAAX5c,QAAyB4c,EAAIiB,cAAgB7d,QAAU4c,IAAQ5c,OAAO8T,UAAY,gBAAkB8I,IAI9GA,GAbjB,mC,kCCAA,oPAGO,SAAS2oB,EAAWn+B,GACzB,OAAOo+B,EAAmBp+B,GAAWA,EAAQY,kBAAkButB,cAAgBnuB,EAAQU,IAAIoyB,kBAEtF,SAASuL,EAAW59B,EAAeT,GACxC,GAAIS,EAAc4F,QAAS,CACzB,GAAI5F,EAAc4F,QAAQ4S,KACxB,OAAOxY,EAAc4F,QAGvB,IAAI6nB,EAAUiQ,EAAWn+B,GAEzB,GAAIS,EAAc4F,QAAQ6nB,GACxB,OAAOztB,EAAc4F,QAAQ6nB,GAIjC,OAAO,KAEF,SAASkQ,EAAmBp+B,GACjC,OAAOA,GAAWA,EAAQY,kBAGrB,SAAS09B,EAAYv+B,EAAaG,EAAgBF,EAASsO,EAAWiwB,GAC3E,GAAIH,EAAmBp+B,GAAU,CAC/B,IAAIkuB,EAAUiQ,EAAWn+B,GACzB,OAAOu+B,EAyCX,SAAuCx+B,EAAaG,EAAgBguB,EAAS5f,EAAWiwB,GACtF,IAAIC,EAEApjC,EAAOkT,EAAY,CACrBlT,KAAM,QACJ6B,EACA/D,EAAQ6G,EAAYsK,SAAWtK,EAAYsK,QAAQ6jB,GAAW,YAAc,GAAInuB,EAAYsK,QAAS,YAAgB,GAAI6jB,EAAS,YAAc,GAAInuB,EAAYsK,QAAQ6jB,IAAWsQ,EAAiB,GAAI,YAAgBA,EAAgBD,EAAW,YAAc,GAAIx+B,EAAYsK,QAAQ6jB,GAASqQ,GAAYr+B,IAAkB,YAAgBs+B,EAAgB,OAAQ,GAAIA,MAAqB,YAAc,GAAIz+B,EAAYsK,QAAS,YAAgB,GAAI6jB,EAAS,YAAc,YAAgB,GAAIqQ,EAAWr+B,GAAiB9E,KACvgB,OAAO,YAAc,GAAI2E,EAAa,CACpCsK,QAASnR,IAjDUulC,CAA8B1+B,EAAaG,EAAgBguB,EAAS5f,EAAWiwB,GAuBtG,SAA0Bx+B,EAAaG,EAAgBguB,EAAS5f,GAC9D,IAAIlT,EAAOkT,EAAY,CACrBlT,KAAM,QACJ6B,EACA/D,EAAQ6G,EAAYsK,SAAWtK,EAAYsK,QAAQ6jB,GAAW,YAAc,GAAInuB,EAAYsK,QAAS,YAAgB,GAAI6jB,EAAS,YAAc,GAAInuB,EAAYsK,QAAQ6jB,GAAUhuB,EAAgB9E,KAAU,YAAc,GAAI2E,EAAYsK,QAAS,YAAgB,GAAI6jB,EAAS,YAAc,GAAIhuB,EAAgB9E,KACtT,OAAO,YAAc,GAAI2E,EAAa,CACpCsK,QAASnR,IA7BsGwlC,CAAiB3+B,EAAaG,EAAgBguB,EAAS5f,GAmBtK,OAZIvO,EAAYsK,SAAWiE,GACzB1S,OAAOC,KAAKkE,EAAYsK,SAAS5Q,SAAQ,SAAU00B,GACjDpuB,EAAcu+B,EAAYv+B,EAAa,CACrC3E,KAAM,GACL,CACDwF,kBAAmB,CACjButB,cAAeA,KAEhB,EAAMoQ,MAINA,EAkCX,SAAwCx+B,EAAaG,EAAgBoO,EAAWiwB,GAC9E,IAAInjC,EAAOkT,EAAY,CACrBlT,KAAM,QACJ6B,EACJ,OAAO,YAAc,GAAI8C,EAAa,YAAgB,GAAIw+B,EAAW,YAAc,GAAIx+B,EAAYw+B,GAAYr+B,IAAkB9E,GAtC5GujC,CAA+B5+B,EAAaG,EAAgBoO,EAAWiwB,GAc9F,SAA2Bx+B,EAAaG,EAAgBoO,GACtD,IAAIlT,EAAOkT,EAAY,CACrBlT,KAAM,QACJ6B,EACJ,OAAO,YAAc,GAAI8C,EAAaG,EAAgB9E,GAlBmDwjC,CAAkB7+B,EAAaG,EAAgBoO,GAyC1J,SAASuwB,EAA6Bv9B,GACpC,IAAIw9B,EAAQx9B,EAAGkG,MAAM,kBAGrB,MAAO,CACL+2B,UAHcO,GAASA,EAAM,GAI7BC,cAHkBD,GAASA,EAAM,IAqD9B,SAASE,EAA0Bl/B,EAAOC,EAAaC,EAASsB,EAAI29B,GACzE,IAAI/Q,EAAUiQ,EAAWn+B,GAErBk/B,EAAwBL,EAA6Bv9B,GACrDi9B,EAAYW,EAAsBX,UAClCQ,EAAgBG,EAAsBH,cAGtCzT,EAAO,CACT6T,WAFef,EAAmBp+B,GAGlCkuB,QAASA,EACTqQ,UAAWA,EACXQ,cAAeA,EACfz9B,GAAIA,EACJvB,YAAaA,GAIf,OAhEF,SAAwBqrB,GACtB,IAAI+T,EAAa/T,EAAK+T,WAClBjR,EAAU9C,EAAK8C,QACfqQ,EAAYnT,EAAKmT,UACjBQ,EAAgB3T,EAAK2T,cACrBz9B,EAAK8pB,EAAK9pB,GACVvB,EAAcqrB,EAAKrrB,YAEvB,OAAIo/B,GAAcZ,EACTx+B,EAAYsK,SAAWtK,EAAYsK,QAAQ6jB,IAAYnuB,EAAYsK,QAAQ6jB,GAASqQ,IAAc3iC,OAAOsnB,eAAevf,KAAK5D,EAAYsK,QAAQ6jB,GAASqQ,GAAYQ,GAG3KI,EACKp/B,EAAYsK,SAAWtK,EAAYsK,QAAQ6jB,IAAYtyB,OAAOsnB,eAAevf,KAAK5D,EAAYsK,QAAQ6jB,GAAU5sB,GAGrHi9B,EACKx+B,EAAYw+B,IAAc3iC,OAAOsnB,eAAevf,KAAK5D,EAAYw+B,GAAYQ,GAG/EnjC,OAAOsnB,eAAevf,KAAK5D,EAAauB,GA0CrB0P,CAAesa,GAvC3C,SAAwBK,GACtB,IAAIwT,EAAaxT,EAAMwT,WACnBjR,EAAUvC,EAAMuC,QAChBqQ,EAAY5S,EAAM4S,UAClBQ,EAAgBpT,EAAMoT,cACtBz9B,EAAKqqB,EAAMrqB,GACXvB,EAAc4rB,EAAM5rB,YAExB,OAAIo/B,GAAcZ,EACTx+B,EAAYsK,QAAQ6jB,GAASqQ,GAAWQ,GAG7CI,EACKp/B,EAAYsK,QAAQ6jB,GAAS5sB,GAGlCi9B,EACKx+B,EAAYw+B,GAAWQ,GAGzBh/B,EAAYuB,GAsBVwQ,CAAewZ,GAGpBxrB,EAAMQ,kBACDR,EAAMQ,kBAGR2+B,EAEF,SAASG,EAAar/B,EAAaC,EAASsB,GACjD,IAAI4sB,EAAUiQ,EAAWn+B,GAErBq/B,EAAyBR,EAA6Bv9B,GACtDi9B,EAAYc,EAAuBd,UACnCQ,EAAgBM,EAAuBN,cAE3C,OAAIX,EAAmBp+B,IAAYquB,QAAQtuB,EAAYsK,SA+BzD,SAAoCynB,GAClC,IAAI/xB,EAAc+xB,EAAM/xB,YACpBmuB,EAAU4D,EAAM5D,QAChB5sB,EAAKwwB,EAAMxwB,GACXi9B,EAAYzM,EAAMyM,UAClBxiC,EAAY+1B,EAAM/1B,UAClBujC,EAAmBv/B,EAAYsK,QAAQ6jB,GAE3C,GAAIqQ,GAAae,EACf,OAAO,YAAc,GAAIv/B,EAAa,CACpCsK,QAAS,YAAc,GAAItK,EAAYsK,QAAS,YAAgB,GAAI6jB,EAAS,YAAc,GAAIoR,EAAkB,YAAgB,GAAIf,EAAW,YAAKe,EAAiBf,GAAY,CAACxiC,UAIvL,GAAIujC,EACF,OAAO,YAAc,GAAIv/B,EAAa,CACpCsK,QAAS,YAAc,GAAItK,EAAYsK,QAAS,YAAgB,GAAI6jB,EAAS,YAAKoR,EAAkB,CAACh+B,QAIzG,OAAOvB,EAlDEw/B,CAA2B,CAChCxjC,UAAWgjC,EACXh/B,YAAaA,EACbmuB,QAASA,EACT5sB,GAAIA,EACJi9B,UAAWA,IAYjB,SAAqCxS,GACnC,IAAIhsB,EAAcgsB,EAAMhsB,YACpBuB,EAAKyqB,EAAMzqB,GACXi9B,EAAYxS,EAAMwS,UAClBxiC,EAAYgwB,EAAMhwB,UAEtB,GAAIwiC,EACF,OAAO,YAAc,GAAIx+B,EAAa,YAAgB,GAAIw+B,EAAW,YAAKx+B,EAAYw+B,GAAY,CAACxiC,MAGrG,OAAO,YAAKgE,EAAa,CAACuB,IAlBnBk+B,CAA4B,CACjCzjC,UAAWgjC,EACXh/B,YAAaA,EACbuB,GAAIA,EACJi9B,UAAWA,M,qBCjMf,IAAIkB,EAAc,EAAQ,QACtBlnC,EAAiB,EAAQ,QAAuCC,EAEhEknC,EAAoBC,SAASjzB,UAC7BkzB,EAA4BF,EAAkB7jB,SAC9CgkB,EAAS,wBAKTJ,KAJO,SAIkBC,IAC3BnnC,EAAemnC,EALN,OAK+B,CACtC/pB,cAAc,EACd4G,IAAK,WACH,IACE,OAAOqjB,EAA0Bj8B,KAAK6B,MAAMgC,MAAMq4B,GAAQ,GAC1D,MAAO3sB,GACP,MAAO,Q,mCCjBf,iGAsIe4sB,IAhHA,SAAC,GAA6D,IAAD,YAA3DC,wBAA2D,SAC1E,OACA,0BACE99B,KAAG,GACDgH,gBAAiBC,IAAOC,OACxBC,MAAOF,IAAOG,MACda,WAAY,GACZ81B,cAAe,IAJd,EAMAv2B,IAAMw2B,KAAK,iBAAkB,CAC5B/1B,WAAY,IAPb,EASD,gBAAgB,CACd1B,QAAS,QAVV,IAaH,gBAAC,IAAD,KACE,uBACEvG,KAAG,GACDuG,QAAS,OACTC,cAAe,MACfy3B,SAAU,OACVr3B,eAAgB,iBAJf,EAOAY,IAAMC,QAAQ,QAAS,WAAY,CAClCy2B,aAAcJ,EAAmB,IAAM,MARxC,EAWAt2B,IAAMC,QAAQ,QAAS,kBAAmB,CACzCy2B,aAAcJ,EAAmB,IAAM,MAZxC,EAcAt2B,IAAMC,QAAQ,gBAAiB,gBAAgB,IAAQ,CACtDy2B,aAAcJ,EAAmB,IAAM,MAfxC,IAkBH,uBACE99B,KAAG,GACDi+B,SAAU,OACV13B,QAAS,OACTK,eAAgB,YAHf,EAKAY,IAAME,SAAS,UAAW,CACzB5H,MAAO,OACP8G,eAAgB,cAPjB,EASAY,IAAMM,YAAY,WAAY,CAC7BhI,MAAO,qBACP8Y,YAAa,IAXd,EAaApR,IAAMM,YAAY,iBAAkB,CACnChI,MAAO,qBACP8Y,YAAa,IAfd,IAmBH,gBAAC,IAAD,CAAWklB,iBAAkBA,GAC3B,gBAAC,IAAD,CAAchM,MAAOqM,IAAUC,QAAQ9+B,UAI3C,2BACEU,KAAG,GACDiI,WAAY,GACZ1B,QAAS,oBAFR,EAIAiB,IAAMM,YAAY,WAAY,CAC7BhI,MAAO,iBACPu+B,OAAQ,GANT,EAQA72B,IAAMM,YAAY,UAAW,CAC5Bu2B,OAAQ,EACRv+B,MAAOg+B,EAAmB,KAAO,kBAVlC,EAYAt2B,IAAME,SAAS,UAAW,CACzByR,UAAW,QACXrZ,MAAO,OACPmI,WAAY,IAfb,IAkBH,qBACEW,KAAK,yBACLvL,OAAO,SACPwL,IAAI,YACH,uBAAKX,MAAM,6BAA6BpI,MAAM,MAAMC,OAAO,KAAKF,QAAQ,cACrE,qBAAGI,KAAK,OAAOkI,SAAS,WAAU,wBAAMlI,KAAK,OAAOq+B,WAAW,kCAAkC3lB,SAAS,KAC1G4lB,WAAW,MAAMC,cAAc,OAC/B,yBAAO7+B,EAAE,IAAIC,EAAE,MAAf,oCAEA,wBAAMK,KAAK,OACXC,EAAE,stDAEF,wBAAMD,KAAK,OACXC,EAAE,67FAKR,qBACEF,IAAK,CACHmH,MAAOF,IAAOw3B,aACdx2B,WAAY,GACZ0Q,SAAU,KAJd,MAMQ,IAAIyD,MAAOsiB,cANnB,0C,0DCxHV,wCA+Ce,gBAAgB,CAC7BvgC,YAAa,cACbI,iBAAkB,SAA0BV,EAAOC,EAAaU,GAC9D,IAAI4F,EAAU,YAAW5F,EAAe,CACtCC,IAAKZ,EAAMa,aACXC,kBAAmBd,EAAMe,oBAG3B,IAAKwF,EACH,MAAO,CACL4S,KAAM,IAIV,IAAI2nB,EAAoB,YAAqBv6B,EAAQ4S,KAAM5S,EAAQlL,YAAakL,EAAQjL,MAExF,MAAO,CACL6d,KAFgC,YAAW2nB,EAAmBv6B,EAAQsd,WAiB1EziB,oBAAqB,SAA6BC,GAChD,OAAOA,M,mCChFX,sCA6Ce0/B,IA3BG,SAAC,GAAD,QAAE94B,EAAF,EAAEA,SAAF,EAAYiS,MAAZ,EAAmB+lB,iBAAnB,OAChB,uBACE99B,KAAG,GACDuG,QAAS,OACTC,cAAe,MACfK,WAAY,SAEZoB,WAAY,IALX,EAOAT,IAAMw2B,KAAK,iBAAkB,CAC5B/1B,WAAY,GARb,IAYH,uBACEjI,KAAG,GACDuG,QAAS,OACTC,cAAe,OAFd,EAGAgB,IAAME,SAAS,WAAY,CAC1BlB,cAAe,UAJhB,IAOFV,O,2CCxCP,IAAImf,EAAQ,EAAQ,QAIpBzuB,EAAOC,QAAU,SAAUooC,GACzB,OAAO5Z,GAAM,WACX,IAAI6Z,EAAO,GAAGD,GAAa,KAC3B,OAAOC,IAASA,EAAK5mB,eAAiB4mB,EAAK3mC,MAAM,KAAKD,OAAS,O,kCCPnE,gBAQe2lC,MAAf,G,kCCRA,gBAQe/2B,MAAf,G,oCCNAtQ,EAAOC,QAAU,SAAiB+rB,GAChC,OAAKtoB,MAAMC,QAAQqoB,GAIZA,EAAM7gB,OAAOyqB,SAHX,K,kCCJX,gBAQe2S,MAAf,G,qCCRA,sCAoCeC,IAnBG,SAAC,GAAD,MAAEl5B,EAAF,EAAEA,SAAF,OAChB,uBACE9F,KAAG,GACD4Y,YAAa,GACbslB,aAAc,GACd51B,WAAY,OACZX,YAAa,QAJZ,EAKAH,IAAMM,YAAY,WAAY,CAC7BhI,MAAO,OANR,EASA0H,IAAMw2B,KAAK,YAAa,CACvBiB,SAAU,MAVX,IAaFn5B,M,wDChCL,oEASA,IAAMid,EAAU,sBAEVmc,EAAW,0D,kCCXjB,gBAQeF,MAAf,G,kCCNA,IAAI7kC,EAAUD,MAAMC,QAChBglC,EAAUxlC,OAAOC,KACjBwlC,EAAUzlC,OAAO8Q,UAAUwW,eAC3Boe,EAAoC,oBAAZC,QAsE5B9oC,EAAOC,QAAU,SAAuBojB,EAAGyC,GACzC,IACE,OAtEJ,SAASijB,EAAM1lB,EAAGyC,GAEhB,GAAIzC,IAAMyC,EAAG,OAAO,EAEpB,GAAIzC,GAAKyC,GAAiB,iBAALzC,GAA6B,iBAALyC,EAAe,CAC1D,IAEI9X,EACAtM,EACAsb,EAJAgsB,EAAOrlC,EAAQ0f,GACf4lB,EAAOtlC,EAAQmiB,GAKnB,GAAIkjB,GAAQC,EAAM,CAEhB,IADAvnC,EAAS2hB,EAAE3hB,SACGokB,EAAEpkB,OAAQ,OAAO,EAE/B,IAAKsM,EAAItM,EAAgB,GAARsM,KACf,IAAK+6B,EAAM1lB,EAAErV,GAAI8X,EAAE9X,IAAK,OAAO,EAGjC,OAAO,EAGT,GAAIg7B,GAAQC,EAAM,OAAO,EACzB,IAAIC,EAAQ7lB,aAAauC,KACrBujB,EAAQrjB,aAAaF,KACzB,GAAIsjB,GAASC,EAAO,OAAO,EAC3B,GAAID,GAASC,EAAO,OAAO9lB,EAAE+lB,WAAatjB,EAAEsjB,UAC5C,IAAIC,EAAUhmB,aAAauL,OACvB0a,EAAUxjB,aAAa8I,OAC3B,GAAIya,GAAWC,EAAS,OAAO,EAC/B,GAAID,GAAWC,EAAS,OAAOjmB,EAAED,YAAc0C,EAAE1C,WACjD,IAAIhgB,EAAOulC,EAAQtlB,GAEnB,IADA3hB,EAAS0B,EAAK1B,UACCinC,EAAQ7iB,GAAGpkB,OAAQ,OAAO,EAEzC,IAAKsM,EAAItM,EAAgB,GAARsM,KACf,IAAK46B,EAAQ19B,KAAK4a,EAAG1iB,EAAK4K,IAAK,OAAO,EAMxC,GAAI66B,GAAkBxlB,aAAaylB,SAAWhjB,aAAagjB,QAAS,OAAOzlB,IAAMyC,EAEjF,IAAK9X,EAAItM,EAAgB,GAARsM,KAGf,KAAY,YAFZgP,EAAM5Z,EAAK4K,KAEaqV,EAAEkmB,UAQnBR,EAAM1lB,EAAErG,GAAM8I,EAAE9I,KAAO,OAAO,EAMvC,OAAO,EAGT,OAAOqG,GAAMA,GAAKyC,GAAMA,EAMfijB,CAAM1lB,EAAGyC,GAChB,MAAOrL,GACP,GAAIA,EAAM4L,SAAW5L,EAAM4L,QAAQtX,MAAM,sBAAyC,aAAlB0L,EAAM2gB,OAOpE,OADA3b,QAAQ+pB,KAAK,mEAAoE/uB,EAAMpV,KAAMoV,EAAM4L,UAC5F,EAIT,MAAM5L,K,qBC1FV,IAAIuE,EAAkB,EAAQ,QAE9B/e,EAAQF,EAAIif,G,kCCDZ,IAAIod,EAAI,EAAQ,QACZ5uB,EAAS,EAAQ,QACjBi8B,EAAa,EAAQ,QACrBC,EAAU,EAAQ,QAClB1C,EAAc,EAAQ,QACtB2C,EAAgB,EAAQ,QACxBC,EAAoB,EAAQ,QAC5Bnb,EAAQ,EAAQ,QAChB7uB,EAAM,EAAQ,QACd+D,EAAU,EAAQ,QAClBmb,EAAW,EAAQ,QACnBnT,EAAW,EAAQ,QACnB7B,EAAW,EAAQ,QACnB+/B,EAAkB,EAAQ,QAC1BC,EAAc,EAAQ,QACtBC,EAA2B,EAAQ,QACnCC,EAAqB,EAAQ,QAC7BC,EAAa,EAAQ,QACrBC,EAA4B,EAAQ,QACpCC,EAA8B,EAAQ,QACtCC,EAA8B,EAAQ,QACtCC,EAAiC,EAAQ,QACzCC,EAAuB,EAAQ,QAC/BC,EAA6B,EAAQ,QACrCC,EAA8B,EAAQ,QACtChc,EAAW,EAAQ,QACnBic,EAAS,EAAQ,QACjBC,EAAY,EAAQ,QACpBC,EAAa,EAAQ,QACrBC,EAAM,EAAQ,QACd5rB,EAAkB,EAAQ,QAC1Bnf,EAA+B,EAAQ,QACvCmyB,EAAwB,EAAQ,QAChC6Y,EAAiB,EAAQ,QACzBC,EAAsB,EAAQ,QAC9BC,EAAW,EAAQ,QAAgC/pC,QAEnDgqC,EAASN,EAAU,UAGnBO,EAAejsB,EAAgB,eAC/BksB,EAAmBJ,EAAoB1mB,IACvC+mB,EAAmBL,EAAoBM,UAJ9B,UAKTC,EAAkBloC,OAAgB,UAClCmoC,EAAU99B,EAAOrN,OACjBorC,EAAa9B,EAAW,OAAQ,aAChC+B,EAAiCnB,EAA+BtqC,EAChE0rC,EAAuBnB,EAAqBvqC,EAC5C2rC,EAA4BvB,EAA4BpqC,EACxD4rC,EAA6BpB,EAA2BxqC,EACxD6rC,EAAanB,EAAO,WACpBoB,EAAyBpB,EAAO,cAChCqB,EAAyBrB,EAAO,6BAChCsB,EAAyBtB,EAAO,6BAChCuB,GAAwBvB,EAAO,OAC/BwB,GAAUz+B,EAAOy+B,QAEjBC,IAAcD,KAAYA,GAAiB,YAAMA,GAAiB,UAAEE,UAGpEC,GAAsBpF,GAAevY,GAAM,WAC7C,OAES,GAFFub,EAAmByB,EAAqB,GAAI,IAAK,CACtD3nB,IAAK,WAAc,OAAO2nB,EAAqB1+B,KAAM,IAAK,CAAE3M,MAAO,IAAKijB,MACtEA,KACD,SAAUvY,EAAGmb,EAAGomB,GACnB,IAAIC,EAA4Bd,EAA+BH,EAAiBplB,GAC5EqmB,UAAkCjB,EAAgBplB,GACtDwlB,EAAqB3gC,EAAGmb,EAAGomB,GACvBC,GAA6BxhC,IAAMugC,GACrCI,EAAqBJ,EAAiBplB,EAAGqmB,IAEzCb,EAEAc,GAAO,SAAU71B,EAAKiZ,GACxB,IAAI6c,EAASZ,EAAWl1B,GAAOszB,EAAmBsB,EAAiB,WAOnE,OANAJ,EAAiBsB,EAAQ,CACvB78B,KAtCS,SAuCT+G,IAAKA,EACLiZ,YAAaA,IAEVqX,IAAawF,EAAO7c,YAAcA,GAChC6c,GAGLC,GAAW7C,EAAoB,SAAU/7B,GAC3C,MAAoB,iBAANA,GACZ,SAAUA,GACZ,OAAO1K,OAAO0K,aAAey9B,GAG3BoB,GAAkB,SAAwB5hC,EAAGmb,EAAGomB,GAC9CvhC,IAAMugC,GAAiBqB,GAAgBb,EAAwB5lB,EAAGomB,GACtE1gC,EAASb,GACT,IAAIkS,EAAM8sB,EAAY7jB,GAAG,GAEzB,OADAta,EAAS0gC,GACLzsC,EAAIgsC,EAAY5uB,IACbqvB,EAAWpvB,YAIVrd,EAAIkL,EAAGkgC,IAAWlgC,EAAEkgC,GAAQhuB,KAAMlS,EAAEkgC,GAAQhuB,IAAO,GACvDqvB,EAAarC,EAAmBqC,EAAY,CAAEpvB,WAAY8sB,EAAyB,GAAG,OAJjFnqC,EAAIkL,EAAGkgC,IAASS,EAAqB3gC,EAAGkgC,EAAQjB,EAAyB,EAAG,KACjFj/B,EAAEkgC,GAAQhuB,IAAO,GAIVovB,GAAoBthC,EAAGkS,EAAKqvB,IAC9BZ,EAAqB3gC,EAAGkS,EAAKqvB,IAGpCM,GAAoB,SAA0B7hC,EAAG8hC,GACnDjhC,EAASb,GACT,IAAI+hC,EAAahD,EAAgB+C,GAC7BxpC,EAAO6mC,EAAW4C,GAAYhrC,OAAOirC,GAAuBD,IAIhE,OAHA9B,EAAS3nC,GAAM,SAAU4Z,GAClBgqB,IAAe+F,GAAsB7hC,KAAK2hC,EAAY7vB,IAAM0vB,GAAgB5hC,EAAGkS,EAAK6vB,EAAW7vB,OAE/FlS,GAOLiiC,GAAwB,SAA8BC,GACxD,IAAI/mB,EAAI6jB,EAAYkD,GAAG,GACnB/vB,EAAa0uB,EAA2BzgC,KAAK6B,KAAMkZ,GACvD,QAAIlZ,OAASs+B,GAAmBzrC,EAAIgsC,EAAY3lB,KAAOrmB,EAAIisC,EAAwB5lB,QAC5EhJ,IAAerd,EAAImN,KAAMkZ,KAAOrmB,EAAIgsC,EAAY3lB,IAAMrmB,EAAImN,KAAMi+B,IAAWj+B,KAAKi+B,GAAQ/kB,KAAKhJ,IAGlGgwB,GAA4B,SAAkCniC,EAAGmb,GACnE,IAAIpY,EAAKg8B,EAAgB/+B,GACrBkS,EAAM8sB,EAAY7jB,GAAG,GACzB,GAAIpY,IAAOw9B,IAAmBzrC,EAAIgsC,EAAY5uB,IAASpd,EAAIisC,EAAwB7uB,GAAnF,CACA,IAAI4f,EAAa4O,EAA+B39B,EAAImP,GAIpD,OAHI4f,IAAch9B,EAAIgsC,EAAY5uB,IAAUpd,EAAIiO,EAAIm9B,IAAWn9B,EAAGm9B,GAAQhuB,KACxE4f,EAAW3f,YAAa,GAEnB2f,IAGLsQ,GAAuB,SAA6BpiC,GACtD,IAAIqiC,EAAQzB,EAA0B7B,EAAgB/+B,IAClDD,EAAS,GAIb,OAHAkgC,EAASoC,GAAO,SAAUnwB,GACnBpd,EAAIgsC,EAAY5uB,IAASpd,EAAI+qC,EAAY3tB,IAAMnS,EAAOlK,KAAKqc,MAE3DnS,GAGLiiC,GAAyB,SAA+BhiC,GAC1D,IAAIsiC,EAAsBtiC,IAAMugC,EAC5B8B,EAAQzB,EAA0B0B,EAAsBvB,EAAyBhC,EAAgB/+B,IACjGD,EAAS,GAMb,OALAkgC,EAASoC,GAAO,SAAUnwB,IACpBpd,EAAIgsC,EAAY5uB,IAAUowB,IAAuBxtC,EAAIyrC,EAAiBruB,IACxEnS,EAAOlK,KAAKirC,EAAW5uB,OAGpBnS,IAKJ8+B,IAcHnb,GAbA8c,EAAU,WACR,GAAIv+B,gBAAgBu+B,EAAS,MAAMhlC,UAAU,+BAC7C,IAAIqpB,EAAe1Z,UAAUvU,aAA2B8C,IAAjByR,UAAU,GAA+BhJ,OAAOgJ,UAAU,SAA7BzR,EAChEkS,EAAMk0B,EAAIjb,GACV0d,EAAS,SAAUjtC,GACjB2M,OAASs+B,GAAiBgC,EAAOniC,KAAK2gC,EAAwBzrC,GAC9DR,EAAImN,KAAMi+B,IAAWprC,EAAImN,KAAKi+B,GAASt0B,KAAM3J,KAAKi+B,GAAQt0B,IAAO,GACrE01B,GAAoBr/B,KAAM2J,EAAKqzB,EAAyB,EAAG3pC,KAG7D,OADI4mC,GAAekF,IAAYE,GAAoBf,EAAiB30B,EAAK,CAAEwG,cAAc,EAAMkH,IAAKipB,IAC7Fd,GAAK71B,EAAKiZ,KAGO,UAAG,YAAY,WACvC,OAAOwb,EAAiBp+B,MAAM2J,OAGhC8X,EAAS8c,EAAS,iBAAiB,SAAU3b,GAC3C,OAAO4c,GAAK3B,EAAIjb,GAAcA,MAGhC4a,EAA2BxqC,EAAIgtC,GAC/BzC,EAAqBvqC,EAAI2sC,GACzBrC,EAA+BtqC,EAAIktC,GACnC/C,EAA0BnqC,EAAIoqC,EAA4BpqC,EAAImtC,GAC9D9C,EAA4BrqC,EAAI+sC,GAEhCjtC,EAA6BE,EAAI,SAAUsF,GACzC,OAAOknC,GAAKvtB,EAAgB3Z,GAAOA,IAGjC2hC,IAEFyE,EAAqBH,EAAiB,UAAG,cAAe,CACtDpuB,cAAc,EACd4G,IAAK,WACH,OAAOqnB,EAAiBp+B,MAAM4iB,eAG7B+Z,GACHlb,EAAS6c,EAAiB,uBAAwB0B,GAAuB,CAAE7d,QAAQ,MAKzFkN,EAAE,CAAE5uB,QAAQ,EAAM++B,MAAM,EAAMjQ,QAASqN,EAAe2D,MAAO3D,GAAiB,CAC5ExpC,OAAQmrC,IAGVP,EAASd,EAAW+B,KAAwB,SAAU3mC,GACpD2sB,EAAsB3sB,MAGxB+2B,EAAE,CAAEv1B,OAjLS,SAiLOw1B,MAAM,EAAMC,QAASqN,GAAiB,CAGxD,IAAO,SAAU3sB,GACf,IAAIlV,EAASmF,OAAO+P,GACpB,GAAIpd,EAAIksC,EAAwBhkC,GAAS,OAAOgkC,EAAuBhkC,GACvE,IAAI0kC,EAASlB,EAAQxjC,GAGrB,OAFAgkC,EAAuBhkC,GAAU0kC,EACjCT,EAAuBS,GAAU1kC,EAC1B0kC,GAITe,OAAQ,SAAgB1d,GACtB,IAAK4c,GAAS5c,GAAM,MAAMvpB,UAAUupB,EAAM,oBAC1C,GAAIjwB,EAAImsC,EAAwBlc,GAAM,OAAOkc,EAAuBlc,IAEtE2d,UAAW,WAActB,IAAa,GACtCuB,UAAW,WAAcvB,IAAa,KAGxC9P,EAAE,CAAEv1B,OAAQ,SAAUw1B,MAAM,EAAMC,QAASqN,EAAe2D,MAAOtG,GAAe,CAG9E/7B,OA3HY,SAAgBH,EAAG8hC,GAC/B,YAAsBpoC,IAAfooC,EAA2B5C,EAAmBl/B,GAAK6hC,GAAkB3C,EAAmBl/B,GAAI8hC,IA6HnG9sC,eAAgB4sC,GAGhBxpB,iBAAkBypB,GAGlB5pB,yBAA0BkqB,KAG5B7Q,EAAE,CAAEv1B,OAAQ,SAAUw1B,MAAM,EAAMC,QAASqN,GAAiB,CAG1D+D,oBAAqBR,GAGrBpqB,sBAAuBgqB,KAKzB1Q,EAAE,CAAEv1B,OAAQ,SAAUw1B,MAAM,EAAMC,OAAQ7N,GAAM,WAAc2b,EAA4BrqC,EAAE,OAAU,CACpG+iB,sBAAuB,SAA+BjV,GACpD,OAAOu8B,EAA4BrqC,EAAE+J,EAAS+D,OAM9C09B,IAWFnP,EAAE,CAAEv1B,OAAQ,OAAQw1B,MAAM,EAAMC,QAVHqN,GAAiBlb,GAAM,WAClD,IAAI+d,EAASlB,IAEb,MAA+B,UAAxBC,EAAW,CAACiB,KAEe,MAA7BjB,EAAW,CAAEloB,EAAGmpB,KAEc,MAA9BjB,EAAWpoC,OAAOqpC,QAGwC,CAE/DtoB,UAAW,SAAmBrW,EAAIb,EAAU2gC,GAI1C,IAHA,IAEIC,EAFA/a,EAAO,CAAChlB,GACRrN,EAAQ,EAELyV,UAAUvU,OAASlB,GAAOqyB,EAAKlyB,KAAKsV,UAAUzV,MAErD,GADAotC,EAAY5gC,GACP8R,EAAS9R,SAAoBxI,IAAPqJ,KAAoB4+B,GAAS5+B,GAMxD,OALKlK,EAAQqJ,KAAWA,EAAW,SAAUgQ,EAAK5c,GAEhD,GADwB,mBAAbwtC,IAAyBxtC,EAAQwtC,EAAU1iC,KAAK6B,KAAMiQ,EAAK5c,KACjEqsC,GAASrsC,GAAQ,OAAOA,IAE/ByyB,EAAK,GAAK7lB,EACHu+B,EAAW98B,MAAM,KAAMokB,MAO/ByY,EAAiB,UAAEL,IACtBT,EAA4Bc,EAAiB,UAAGL,EAAcK,EAAiB,UAAEuC,SAInFhD,EAAeS,EA7QF,UA+QbX,EAAWK,IAAU,G,kCCrTrB,IAAIlB,EAAc,EAAQ,QACtBQ,EAAuB,EAAQ,QAC/BP,EAA2B,EAAQ,QAEvC/pC,EAAOC,QAAU,SAAU4qB,EAAQ7N,EAAK5c,GACtC,IAAI0tC,EAAchE,EAAY9sB,GAC1B8wB,KAAejjB,EAAQyf,EAAqBvqC,EAAE8qB,EAAQijB,EAAa/D,EAAyB,EAAG3pC,IAC9FyqB,EAAOijB,GAAe1tC,I,kCCc7B,IAII2tC,EAJA/e,EAAuB,iBAAZgf,QAAuBA,QAAU,KAC5CC,EAAejf,GAAwB,mBAAZA,EAAEvgB,MAAuBugB,EAAEvgB,MAAQ,SAAsB5H,EAAQqnC,EAAUrb,GACxG,OAAOqU,SAASjzB,UAAUxF,MAAMvD,KAAKrE,EAAQqnC,EAAUrb,IAKvDkb,EADE/e,GAA0B,mBAAdA,EAAEmf,QACCnf,EAAEmf,QACVhrC,OAAO2f,sBACC,SAAwBjc,GACvC,OAAO1D,OAAOuqC,oBAAoB7mC,GAAQhF,OAAOsB,OAAO2f,sBAAsBjc,KAG/D,SAAwBA,GACvC,OAAO1D,OAAOuqC,oBAAoB7mC,IAQtC,IAAIunC,EAAcC,OAAOpM,OAAS,SAAqB7hC,GACrD,OAAOA,GAAUA,GAGnB,SAAS4T,IACPA,EAAas6B,KAAKpjC,KAAK6B,MAGzB/M,EAAOC,QAAU+T,EACjBhU,EAAOC,QAAQsuC,KA4Wf,SAAcC,EAASnpC,GACrB,OAAO,IAAI2e,SAAQ,SAAUC,EAAS0E,GACpC,SAAS8lB,SACejqC,IAAlBkqC,GACFF,EAAQG,eAAe,QAASD,GAGlCzqB,EAAQ,GAAGnf,MAAMoG,KAAK+K,YAIxB,IAAIy4B,EAOS,UAATrpC,IACFqpC,EAAgB,SAAuBz5B,GACrCu5B,EAAQG,eAAetpC,EAAMopC,GAC7B9lB,EAAO1T,IAGTu5B,EAAQD,KAAK,QAASG,IAGxBF,EAAQD,KAAKlpC,EAAMopC,OArYvBz6B,EAAaA,aAAeA,EAC5BA,EAAaC,UAAU26B,aAAUpqC,EACjCwP,EAAaC,UAAU46B,aAAe,EACtC76B,EAAaC,UAAU66B,mBAAgBtqC,EAGvC,IAAIuqC,EAAsB,GAE1B,SAASC,EAAc5W,GACrB,GAAwB,mBAAbA,EACT,MAAM,IAAI9xB,UAAU,0EAA4E8xB,GAsCpG,SAAS6W,EAAiBtkC,GACxB,YAA2BnG,IAAvBmG,EAAKmkC,cAAoC96B,EAAa+6B,oBACnDpkC,EAAKmkC,cAmDd,SAASI,EAAaroC,EAAQ8I,EAAMyoB,EAAU+W,GAC5C,IAAItgC,EACAtI,EACA6oC,EAvHsBC,EA2I1B,GAnBAL,EAAc5W,QAGC5zB,KAFf+B,EAASM,EAAO+nC,UAGdroC,EAASM,EAAO+nC,QAAUzrC,OAAO8H,OAAO,MACxCpE,EAAOgoC,aAAe,SAIKrqC,IAAvB+B,EAAO+oC,cACTzoC,EAAO8N,KAAK,cAAehF,EAAMyoB,EAASA,SAAWA,EAASA,SAAWA,GAGzE7xB,EAASM,EAAO+nC,SAGlBQ,EAAW7oC,EAAOoJ,SAGHnL,IAAb4qC,EAEFA,EAAW7oC,EAAOoJ,GAAQyoB,IACxBvxB,EAAOgoC,kBAcT,GAZwB,mBAAbO,EAETA,EAAW7oC,EAAOoJ,GAAQw/B,EAAU,CAAC/W,EAAUgX,GAAY,CAACA,EAAUhX,GAC7D+W,EACTC,EAASG,QAAQnX,GAEjBgX,EAASzuC,KAAKy3B,IAIhBvpB,EAAIogC,EAAiBpoC,IAEb,GAAKuoC,EAAS1tC,OAASmN,IAAMugC,EAASI,OAAQ,CACpDJ,EAASI,QAAS,EAGlB,IAAIhpB,EAAI,IAAI7S,MAAM,+CAAiDy7B,EAAS1tC,OAAS,IAAMuL,OAAO0C,GAAhF,qEAClB6W,EAAEnhB,KAAO,8BACTmhB,EAAEgoB,QAAU3nC,EACZ2f,EAAE7W,KAAOA,EACT6W,EAAEqU,MAAQuU,EAAS1tC,OApKG2tC,EAqKH7oB,EApKnB/G,SAAWA,QAAQ+pB,MAAM/pB,QAAQ+pB,KAAK6F,GAwK1C,OAAOxoC,EAaT,SAAS4oC,IACP,IAAK1iC,KAAK2iC,MAGR,OAFA3iC,KAAKlG,OAAO8nC,eAAe5hC,KAAK4C,KAAM5C,KAAK4iC,QAC3C5iC,KAAK2iC,OAAQ,EACY,IAArBz5B,UAAUvU,OAAqBqL,KAAKqrB,SAASltB,KAAK6B,KAAKlG,QACpDkG,KAAKqrB,SAAS3pB,MAAM1B,KAAKlG,OAAQoP,WAI5C,SAAS25B,EAAU/oC,EAAQ8I,EAAMyoB,GAC/B,IAAI33B,EAAQ,CACVivC,OAAO,EACPC,YAAQnrC,EACRqC,OAAQA,EACR8I,KAAMA,EACNyoB,SAAUA,GAERyX,EAAUJ,EAAY7lC,KAAKnJ,GAG/B,OAFAovC,EAAQzX,SAAWA,EACnB33B,EAAMkvC,OAASE,EACRA,EAoGT,SAASC,EAAWjpC,EAAQ8I,EAAMogC,GAChC,IAAIxpC,EAASM,EAAO+nC,QACpB,QAAepqC,IAAX+B,EAAsB,MAAO,GACjC,IAAIypC,EAAazpC,EAAOoJ,GACxB,YAAmBnL,IAAfwrC,EAAiC,GACX,mBAAfA,EAAkCD,EAAS,CAACC,EAAW5X,UAAY4X,GAAc,CAACA,GACtFD,EA2DT,SAAyBE,GAGvB,IAFA,IAAIjjB,EAAM,IAAItpB,MAAMusC,EAAIvuC,QAEfsM,EAAI,EAAGA,EAAIgf,EAAItrB,SAAUsM,EAChCgf,EAAIhf,GAAKiiC,EAAIjiC,GAAGoqB,UAAY6X,EAAIjiC,GAGlC,OAAOgf,EAlESkjB,CAAgBF,GAAcG,EAAWH,EAAYA,EAAWtuC,QAqBlF,SAAS0uC,EAAczgC,GACrB,IAAIpJ,EAASwG,KAAK6hC,QAElB,QAAepqC,IAAX+B,EAAsB,CACxB,IAAIypC,EAAazpC,EAAOoJ,GAExB,GAA0B,mBAAfqgC,EACT,OAAO,EACF,QAAmBxrC,IAAfwrC,EACT,OAAOA,EAAWtuC,OAItB,OAAO,EAOT,SAASyuC,EAAWF,EAAK9gC,GAGvB,IAFA,IAAIkhC,EAAO,IAAI3sC,MAAMyL,GAEZnB,EAAI,EAAGA,EAAImB,IAAKnB,EACvBqiC,EAAKriC,GAAKiiC,EAAIjiC,GAGhB,OAAOqiC,EAvUTltC,OAAOrD,eAAekU,EAAc,sBAAuB,CACzDiJ,YAAY,EACZ6G,IAAK,WACH,OAAOirB,GAET3qB,IAAK,SAAa3Y,GAChB,GAAmB,iBAARA,GAAoBA,EAAM,GAAK2iC,EAAY3iC,GACpD,MAAM,IAAI6kC,WAAW,kGAAoG7kC,EAAM,KAGjIsjC,EAAsBtjC,KAI1BuI,EAAas6B,KAAO,gBACG9pC,IAAjBuI,KAAK6hC,SAAyB7hC,KAAK6hC,UAAYzrC,OAAOotC,eAAexjC,MAAM6hC,UAC7E7hC,KAAK6hC,QAAUzrC,OAAO8H,OAAO,MAC7B8B,KAAK8hC,aAAe,GAGtB9hC,KAAK+hC,cAAgB/hC,KAAK+hC,oBAAiBtqC,GAK7CwP,EAAaC,UAAUu8B,gBAAkB,SAAyBrhC,GAChE,GAAiB,iBAANA,GAAkBA,EAAI,GAAKi/B,EAAYj/B,GAChD,MAAM,IAAImhC,WAAW,gFAAkFnhC,EAAI,KAI7G,OADApC,KAAK+hC,cAAgB3/B,EACdpC,MAQTiH,EAAaC,UAAUw8B,gBAAkB,WACvC,OAAOxB,EAAiBliC,OAG1BiH,EAAaC,UAAUU,KAAO,SAAchF,GAG1C,IAFA,IAAIkjB,EAAO,GAEF7kB,EAAI,EAAGA,EAAIiI,UAAUvU,OAAQsM,IACpC6kB,EAAKlyB,KAAKsV,UAAUjI,IAGtB,IAAI0iC,EAAmB,UAAT/gC,EACVpJ,EAASwG,KAAK6hC,QAClB,QAAepqC,IAAX+B,EAAsBmqC,EAAUA,QAA4BlsC,IAAjB+B,EAAOkU,WAAyB,IAAKi2B,EAAS,OAAO,EAEpG,GAAIA,EAAS,CACX,IAAIC,EAGJ,GAFI9d,EAAKnxB,OAAS,IAAGivC,EAAK9d,EAAK,IAE3B8d,aAAch9B,MAGhB,MAAMg9B,EAIR,IAAI17B,EAAM,IAAItB,MAAM,oBAAsBg9B,EAAK,KAAOA,EAAGtqB,QAAU,IAAM,KAEzE,MADApR,EAAI1N,QAAUopC,EACR17B,EAGR,IAAI27B,EAAUrqC,EAAOoJ,GACrB,QAAgBnL,IAAZosC,EAAuB,OAAO,EAElC,GAAuB,mBAAZA,EACT3C,EAAa2C,EAAS7jC,KAAM8lB,OAE5B,KAAIge,EAAMD,EAAQlvC,OACdy2B,EAAYgY,EAAWS,EAASC,GAEpC,IAAS7iC,EAAI,EAAGA,EAAI6iC,IAAO7iC,EACzBigC,EAAa9V,EAAUnqB,GAAIjB,KAAM8lB,GAIrC,OAAO,GA2DT7e,EAAaC,UAAU68B,YAAc,SAAqBnhC,EAAMyoB,GAC9D,OAAO8W,EAAaniC,KAAM4C,EAAMyoB,GAAU,IAG5CpkB,EAAaC,UAAU0iB,GAAK3iB,EAAaC,UAAU68B,YAEnD98B,EAAaC,UAAU88B,gBAAkB,SAAyBphC,EAAMyoB,GACtE,OAAO8W,EAAaniC,KAAM4C,EAAMyoB,GAAU,IA0B5CpkB,EAAaC,UAAUs6B,KAAO,SAAc5+B,EAAMyoB,GAGhD,OAFA4W,EAAc5W,GACdrrB,KAAK4pB,GAAGhnB,EAAMigC,EAAU7iC,KAAM4C,EAAMyoB,IAC7BrrB,MAGTiH,EAAaC,UAAU+8B,oBAAsB,SAA6BrhC,EAAMyoB,GAG9E,OAFA4W,EAAc5W,GACdrrB,KAAKgkC,gBAAgBphC,EAAMigC,EAAU7iC,KAAM4C,EAAMyoB,IAC1CrrB,MAITiH,EAAaC,UAAU06B,eAAiB,SAAwBh/B,EAAMyoB,GACpE,IAAI6Y,EAAM1qC,EAAQ2H,EAAUF,EAAGkjC,EAG/B,GAFAlC,EAAc5W,QAEC5zB,KADf+B,EAASwG,KAAK6hC,SACY,OAAO7hC,KAEjC,QAAavI,KADbysC,EAAO1qC,EAAOoJ,IACU,OAAO5C,KAE/B,GAAIkkC,IAAS7Y,GAAY6Y,EAAK7Y,WAAaA,EACb,KAAtBrrB,KAAK8hC,aAAoB9hC,KAAK6hC,QAAUzrC,OAAO8H,OAAO,cACnD1E,EAAOoJ,GACVpJ,EAAOooC,gBAAgB5hC,KAAK4H,KAAK,iBAAkBhF,EAAMshC,EAAK7Y,UAAYA,SAE3E,GAAoB,mBAAT6Y,EAAqB,CAGrC,IAFA/iC,GAAY,EAEPF,EAAIijC,EAAKvvC,OAAS,EAAGsM,GAAK,EAAGA,IAChC,GAAIijC,EAAKjjC,KAAOoqB,GAAY6Y,EAAKjjC,GAAGoqB,WAAaA,EAAU,CACzD8Y,EAAmBD,EAAKjjC,GAAGoqB,SAC3BlqB,EAAWF,EACX,MAIJ,GAAIE,EAAW,EAAG,OAAOnB,KACR,IAAbmB,EAAgB+iC,EAAKvsB,QAoH7B,SAAmBusB,EAAMzwC,GACvB,KAAOA,EAAQ,EAAIywC,EAAKvvC,OAAQlB,IAC9BywC,EAAKzwC,GAASywC,EAAKzwC,EAAQ,GAG7BywC,EAAK7qB,MAxHD+qB,CAAUF,EAAM/iC,GAEE,IAAhB+iC,EAAKvvC,SAAc6E,EAAOoJ,GAAQshC,EAAK,SACbzsC,IAA1B+B,EAAOooC,gBAA8B5hC,KAAK4H,KAAK,iBAAkBhF,EAAMuhC,GAAoB9Y,GAGjG,OAAOrrB,MAGTiH,EAAaC,UAAUm9B,IAAMp9B,EAAaC,UAAU06B,eAEpD36B,EAAaC,UAAUmd,mBAAqB,SAA4BzhB,GACtE,IAAIwoB,EAAW5xB,EAAQyH,EAEvB,QAAexJ,KADf+B,EAASwG,KAAK6hC,SACY,OAAO7hC,KAEjC,QAA8BvI,IAA1B+B,EAAOooC,eAQT,OAPyB,IAArB14B,UAAUvU,QACZqL,KAAK6hC,QAAUzrC,OAAO8H,OAAO,MAC7B8B,KAAK8hC,aAAe,QACMrqC,IAAjB+B,EAAOoJ,KACY,KAAtB5C,KAAK8hC,aAAoB9hC,KAAK6hC,QAAUzrC,OAAO8H,OAAO,aAAkB1E,EAAOoJ,IAGhF5C,KAIT,GAAyB,IAArBkJ,UAAUvU,OAAc,CAC1B,IACIsb,EADA5Z,EAAOD,OAAOC,KAAKmD,GAGvB,IAAKyH,EAAI,EAAGA,EAAI5K,EAAK1B,SAAUsM,EAEjB,oBADZgP,EAAM5Z,EAAK4K,KAEXjB,KAAKqkB,mBAAmBpU,GAM1B,OAHAjQ,KAAKqkB,mBAAmB,kBACxBrkB,KAAK6hC,QAAUzrC,OAAO8H,OAAO,MAC7B8B,KAAK8hC,aAAe,EACb9hC,KAKT,GAAyB,mBAFzBorB,EAAY5xB,EAAOoJ,IAGjB5C,KAAK4hC,eAAeh/B,EAAMwoB,QACrB,QAAkB3zB,IAAd2zB,EAET,IAAKnqB,EAAImqB,EAAUz2B,OAAS,EAAGsM,GAAK,EAAGA,IACrCjB,KAAK4hC,eAAeh/B,EAAMwoB,EAAUnqB,IAIxC,OAAOjB,MAYTiH,EAAaC,UAAUkkB,UAAY,SAAmBxoB,GACpD,OAAOmgC,EAAW/iC,KAAM4C,GAAM,IAGhCqE,EAAaC,UAAUo9B,aAAe,SAAsB1hC,GAC1D,OAAOmgC,EAAW/iC,KAAM4C,GAAM,IAGhCqE,EAAao8B,cAAgB,SAAU5B,EAAS7+B,GAC9C,MAAqC,mBAA1B6+B,EAAQ4B,cACV5B,EAAQ4B,cAAczgC,GAEtBygC,EAAcllC,KAAKsjC,EAAS7+B,IAIvCqE,EAAaC,UAAUm8B,cAAgBA,EAkBvCp8B,EAAaC,UAAUq9B,WAAa,WAClC,OAAOvkC,KAAK8hC,aAAe,EAAId,EAAehhC,KAAK6hC,SAAW,K,kCClYjD,SAAS2C,EAAgBvuB,GAItC,OAHAuuB,EAAkBpuC,OAAO0tB,eAAiB1tB,OAAOotC,eAAiB,SAAyBvtB,GACzF,OAAOA,EAAE/E,WAAa9a,OAAOotC,eAAevtB,KAEvBA,GAJzB,mC,qBCAAhjB,EAAOC,QAAU,IAA0B,sD,oCCM3CD,EAAOC,QAJP,SAAuB8c,GACrB,OAAOA,GAAO5Z,OAAOC,KAAK2Z,GAAKrb,OAAS,I,qBCH1CzB,EAAQw8B,YAAa,EACCx8B,EAAQuxC,gBAAkB,CAC9CvS,KAAM,iBACNE,KAAM,iBACNJ,MAAO,mBAHT,IAKId,EAAYh+B,EAAQg+B,UAAY,CAClCwT,KAAM,OACNxS,KAAM,OACNyS,KAAM,OACNvS,KAAM,OACNY,KAAM,OACNC,KAAM,OACN7B,SAAU,WACVD,OAAQ,SACRG,MAAO,QACPU,MAAO,SAiBL4S,GAfkB1xC,EAAQ2xC,gBAAkBzuC,OAAOC,KAAK66B,GAAWp6B,KAAI,SAAUwB,GACnF,OAAO44B,EAAU54B,MAEEpF,EAAQ4xC,eAAiB,CAC5CC,QAAS,UACTC,SAAU,UACVC,KAAM,OACNC,UAAW,aACXC,WAAY,YACZC,UAAW,WACXjyC,KAAM,OACNkyC,SAAU,WACVC,IAAK,MACLC,IAAK,OAEaryC,EAAQ0xC,cAAgB,CAC1CY,UAAW,YACXC,QAAS,UACTC,MAAO,YACPC,gBAAiB,kBACjBC,YAAa,cACb,aAAc,YACdC,SAAU,WACVC,SAAU,aAEO5yC,EAAQ6yC,aAAe,CACxCC,cAAe,eACfC,MAAO,QACPC,0BAA2B,0BAC3BC,uBAAwB,sBACxBC,eAAgB,iBAEClzC,EAAQmzC,aAAejwC,OAAOC,KAAKuuC,GAAezsC,QAAO,SAAU6X,EAAKC,GAEzF,OADAD,EAAI40B,EAAc30B,IAAQA,EACnBD,IACN,IACqB9c,EAAQozC,kBAAoB,CAACpV,EAAUE,SAAUF,EAAUC,OAAQD,EAAUI,OAC9Ep+B,EAAQqzC,iBAAmB,qB,kCCtDlD,IAAIlX,EAAI,EAAQ,QACZmX,EAAa,EAAQ,QAKzBnX,EAAE,CAAEv1B,OAAQ,SAAU2sC,OAAO,EAAMlX,OAJN,EAAQ,OAIMmX,CAAuB,UAAY,CAC5ExhC,MAAO,WACL,OAAOshC,EAAWxmC,KAAM,QAAS,GAAI,Q,kCCTzC,8DAEe,SAASwwB,EAA2BxyB,EAAMG,GACvD,OAAIA,GAA2B,WAAlB,YAAQA,IAAsC,mBAATA,EAI3C,YAAsBH,GAHpBG,I,kCCDXlL,EAAOC,QAAU,WACf,IAAIyzC,EAAUhwC,MAAMuQ,UAAUnP,MAAMoG,KAAK+K,WACzC,OAAOy9B,EAAQC,aAAY,SAAU9b,EAAKxM,GAaxC,OAZAloB,OAAOC,KAAKD,OAAOkoB,IAASrqB,SAAQ,SAAUgc,QACxBxY,IAAhB6mB,EAAOrO,UAIMxY,IAAbqzB,EAAI7a,WAEC6a,EAAI7a,GAGb6a,EAAI7a,GAAOqO,EAAOrO,OAEb6a,IACN,M,kCCjBL73B,EAAOC,QAQP,SAAuBQ,GACrB,OAAO,SAAkBmzC,EAAyBC,GAChD,IAAIzyC,EAAoBX,EAAMwE,mBAAmB4uC,GAC7CC,EAA8BrzC,EAAM8D,8BAA8BnD,EAAkBiE,OAAS5E,EAAM8D,8BAA8BnD,EAAkBiE,MAAM,IAAM,GAE/J0uC,EAAwBtzC,EAAMgB,+BAA+BL,GAE7D4yC,EAAuBvzC,EAAMmE,yBAAyBxD,GAEtD6yC,EAA8BxzC,EAAMwkC,gCAAgC7jC,GAEpE0e,EAASo0B,EAA+BzzC,EAAMukC,4BAA4B5jC,IAC1E+yC,EAAiBP,EAAwBvoC,OAAM,SAAU+oC,GAC3D,OAAOA,EAAYC,cAEjBC,EAqBR,SAAkCx0B,EAAQi0B,EAAuBC,EAAsBC,EAA6B3yC,GAClH,OAAO,SAAsBizC,EAAkBX,EAAyBY,GACtE,IAAIC,EAASF,EAEb,GAAIC,EAA2B,EAAG,CAChC,IAAIlvC,EAAQ,EAGZ,IAFAmvC,EAASF,EAEFjvC,EAAQkvC,GAA0B,CAIvC,IAAIvvB,EAAOwvB,GAAU/wC,MAAMC,QAAQ8wC,EAAOxvB,MAAQwvB,EAAOxvB,KAAO,GAChEwvB,EAASnpC,EAAK2Z,GAAM,SAAUyvB,GAC5B,OAAOA,EAAQj/B,aAEjBnQ,KAKJ,GAAImvC,EAAQ,CAWV,IAAIE,EAASxxC,OAAOC,KAAKwwC,EAAwB3uB,MAAMphB,KAAI,SAAUK,GACnE,MAAO,CAACA,EAAY0vC,EAAwB3uB,KAAK/gB,OAChDiH,QAAO,SAAUypC,GAElB,OAaR,SAA0B1wC,EAAY2wC,EAAYvzC,EAAmByyC,EAAuBC,EAAsBC,GAEhH,GAAID,IAAsE,IAA7C9vC,EAAWW,QAAQmvC,IAA+BA,IAAyB9vC,GACtG,OAAO,EAIT,OAAQ8vC,IAAuE,IAA/C9vC,EAAWW,QAAQkvC,IACnDC,GAAwB9vC,EAAWvC,MAAMoyC,GAAuBryC,OAASsyC,EAAqBryC,MAAMoyC,GAAuBryC,QAAW,IAEvF,IAA/CwC,EAAWW,QAAQkvC,KAAuF,IAAtDzyC,EAAkBuD,QAAQkvC,IACpC,IAA1CzyC,EAAkBuD,QAAQX,IACiC,IAA3DA,EAAWW,QAAQgwC,EAAad,KAAiCE,GAAyE,IAA1C/vC,EAAWW,QAAQvD,IAzBtGwzC,CADUF,EAAM,GACaH,EAAO90C,MAAQq0C,EAAsB1yC,EAAmByyC,EAAuBC,EAAsBC,MAE3IQ,EAAOxvB,KAAO8vB,EAAQJ,EAAO9wC,KAAI,SAAU+wC,GACzC,IAAI1wC,EAAa0wC,EAAM,GAEvB,OAuBR,SAAgBI,EAAY9wC,EAAY6vC,EAAuBzyC,EAAmB+yC,GAChF,IAAIhO,EAAQniC,EAAWvC,MAAMoyC,GAC7B,MAAO,CACL1uC,KAAMghC,EAAMA,EAAM3kC,OAAS,GAAG4jC,OAC9B3lC,KAAMuE,EACN22B,MAAOma,EACPv/B,UAAWnU,IAAsB4C,GAAgF,IAAlE5C,EAAkBuD,QAAQX,EAAa6vC,GACtFM,WAAYA,EACZpvB,KAAM,MA/BKmR,CADUwe,EAAM,GACG1wC,EAAY6vC,EAAuBzyC,EAAmBsyC,EAAwBS,eACtGv0B,EAAO,GAAIA,EAAO,IAGxB,OAAOy0B,GAlEcU,CAAyBn1B,EAAQi0B,EAAuBC,EAAsBC,EAA6BH,GAC5HlmC,EAAUgmC,EAMd,OAJII,IACFpmC,EAAUgmC,EAAwB9uC,MAAMkvC,EAAqBryC,MAAMoyC,GAAuBryC,SAGrFkM,EAAQ1I,OAAOovC,EAAgB,CACpCjvC,KAAM5E,EAAMwE,mBAAmB4uC,GAAwBxuC,KACvDw1B,MAAO,KAEPplB,WAAW,EAEX9V,KAAM,KAEN00C,WAAYF,EACZlvB,KAAM,SArCZ,IAAI8vB,EAAU,EAAQ,QAElBzpC,EAAO,EAAQ,QAEf4oC,EAAiC,EAAQ,S,kCCM7Cl0C,EAAOC,QAZP,SAASmhC,EAAYt9B,GACnB,GAAiB,iBAANA,EACT,OAAOA,EACF,GAAiB,iBAANA,EAChB,OAAOk+B,WAAWl+B,GACb,GAAIJ,MAAMC,QAAQG,GACvB,OAAOA,EAAED,IAAIu9B,GAGf,MAAM,IAAIztB,MAAM,2E,kCCTlB3T,EAAOC,QAAU,SAAc+rB,EAAOC,GACpC,IAAKvoB,MAAMC,QAAQqoB,GACjB,OAAQ,EAGV,IAAK,IAAIhe,EAAI,EAAGA,EAAIge,EAAMtqB,OAAQsM,IAChC,GAAIie,EAAWD,EAAMhe,IACnB,OAAOA,EAIX,OAAQ,I,qBCbV,IAAI67B,EAAkB,EAAQ,QAC1B6B,EAA4B,EAAQ,QAA8C3rC,EAElFqjB,EAAW,GAAGA,SAEd8xB,EAA+B,iBAAV73B,QAAsBA,QAAUla,OAAOuqC,oBAC5DvqC,OAAOuqC,oBAAoBrwB,QAAU,GAWzCrd,EAAOC,QAAQF,EAAI,SAA6B8N,GAC9C,OAAOqnC,GAAoC,mBAArB9xB,EAASlY,KAAK2C,GAVjB,SAAUA,GAC7B,IACE,OAAO69B,EAA0B79B,GACjC,MAAO4M,GACP,OAAOy6B,EAAYpwC,SAOjBqwC,CAAetnC,GACf69B,EAA0B7B,EAAgBh8B,M,kCCFhD7N,EAAOC,QAhBP,SAAuCorB,EAAQC,GAC7C,GAAe,OAAXD,EAAiB,MAAO,GAC5B,IAEIrO,EACAhP,EAHAnH,EAAS,GACT0kB,EAAapoB,OAAOC,KAAKioB,GAI7B,IAAKrd,EAAI,EAAGA,EAAIud,EAAW7pB,OAAQsM,IACjCgP,EAAMuO,EAAWvd,GACbsd,EAASzmB,QAAQmY,IAAQ,IAC7BnW,EAAOmW,GAAOqO,EAAOrO,IAGvB,OAAOnW,I,kCCfM,SAASiW,EAAgBC,EAAKC,EAAK5c,GAYhD,OAXI4c,KAAOD,EACT5Z,OAAOrD,eAAeid,EAAKC,EAAK,CAC9B5c,MAAOA,EACP6c,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZJ,EAAIC,GAAO5c,EAGN2c,EAZT,mC,kCCAA,sHAEIq4B,EAAiB,wBAAc,CACjCtiB,sBAAuB,aAGvBO,mBAAoB,WAClB,MAAO,KAETI,uBAAwB,aAGxB1B,oBAAqB,aAGrB2B,mBAAoB,aAGpBX,MAAO,GACPiB,eAAgB,GAChBqG,kBAAmB,KAEjBgb,EAAwBD,EAAeE,SACvCC,EAAwBH,EAAeI,SAIvCC,EAAkB,6BAAcjxC,GAChCkxC,EAAgBD,EAAgBH,SAChBG,EAAgBD,U,kCC3BpC,IAAIn1C,EAAQ,EAAQ,QAEhBgtB,EAAe,EAAQ,QAEvB0nB,EAAU,EAAQ,QAElBY,EAAU,EAAQ,QAElBrqC,EAAO,EAAQ,QAEfC,EAAY,EAAQ,QAEpBqqC,EAAa,EAAQ,QAErBX,EAA2B,EAAQ,QA+CvC,SAASY,EAAW7wC,GAClB,IAAI4M,EAAU,GAId,OAHA5M,EAAWhE,SAAQ,SAAUoiC,EAAKlW,GAChCtb,EAAQwxB,GAAOlW,KAEVtb,EAGT,SAASkkC,EAAiBC,EAAMC,EAAYh5B,GACtCg5B,GAAcA,EAAWh5B,KAC3B+4B,EAAKE,MAAQD,EAAWh5B,IA6J5B,SAASvK,EAAchS,EAAOmN,GAC5B,IAAIsoC,EAAkBtoC,EAAQ,GAC9Bb,KAAKopC,YAAcvoC,EACnB,IAAI7C,EAAOgC,KAEX5J,OAAOC,KAAK8yC,GAAiBl1C,SAAQ,SAAUgc,GAC7CjS,EAAKiS,GAAOk5B,EAAgBl5B,MA4J9BjQ,KAAKqpC,iBAAmBxoC,EAAQ1I,QAAO,SAAUmxC,EAAKxrC,GACpD,YAAmCrG,IAA5BqG,EAAOurC,iBAAiCC,EAAMA,EAAMxrC,EAAOurC,mBACjE,GAMHrpC,KAAKjL,kBAAoB,GAMzBiL,KAAK9H,mBAAqBxE,EAAMwE,mBAAmBpB,KAAI,WACrD,MAAO,MAOTkJ,KAAKnL,OAAS,GACd,IAAIE,EAAoBrB,EAAMM,8BAC1Bu1C,EAAgBT,EAAWp1C,EAAMmB,QACjC20C,EAA2BV,EAAWp1C,EAAMqB,mBAC5C00C,EAAwB,EAGxBC,EAAaP,EAAgBt0C,QAAU,GAC3CuB,OAAOC,KAAKqzC,GAAYz1C,SAAQ,SAAU01C,GACxC,IA/UoDzxC,EAAoB0xC,EA+UpEC,EAAmBH,EAAWC,GAC9Bt1C,GAhVgD6D,EAgVmBxE,EAAMwE,mBAhVL0xC,EAgVyBD,EA/U5FprC,EAAKrG,GAAoB,SAAkC7D,GAEhE,OADiBA,EAAkB4D,YAAc,IAC/BH,QAAQ8xC,IAA8B,MA+UxD,GAAIv1C,EAAmB,CAGrB,IAAIy1C,EAAaz1C,EAAkB4D,WAAWH,QAAQ6xC,GAClDI,EAAmBvrC,EAAU9K,EAAMwE,oBAAoB,SAAUlF,GACnE,OAAOA,EAAEsF,OAASjE,EAAkBiE,QAEtC0F,EAAK9F,mBAAmB6xC,GAAkBD,GAAc,CACtDvzC,UAAWozC,EACXzxB,KAAM2xB,EACNvC,WAAY6B,EAAgBa,2BAEzB,CACL,IAEI7oC,EAFA8oC,GAAoE,IAA/Cv2C,EAAMqB,kBAAkB+C,QAAQ6xC,GACrDO,GAAyD,IAApCx2C,EAAMmB,OAAOiD,QAAQ6xC,GAG1CM,IACF9oC,EAAWqoC,EAAyBG,GACpC3rC,EAAKjJ,kBAAkBoM,GAAY,CACjC7I,KAAMqxC,EACNzxB,KAAM2xB,EACNvC,WAAY6B,EAAgBa,uBAE9BjB,EAAiB/qC,EAAKjJ,kBAAkBoM,GAAWgoC,EAAgBgB,aAAcR,IAG/EO,IACF/oC,EAAWooC,EAAcI,GACzB3rC,EAAKnJ,OAAOsM,GAAY,CACtB7I,KAAMqxC,EACNzxB,KAAM2xB,EACNvC,WAAY6B,EAAgBa,uBAE9BjB,EAAiB/qC,EAAKnJ,OAAOsM,GAAWgoC,EAAgBgB,aAAcR,QAK5E3pC,KAAK9H,mBAAqB0wC,EAAQ5oC,KAAK9H,oBAEvCnD,EAAkBd,SAAQ,SAAUm2C,GAClC,IAAItsC,EAAS+C,EAAQ4oC,GACjB50C,EAASiJ,GAAUA,EAAOjJ,OAASiJ,EAAOjJ,OAAS,GACnDR,EAAoBX,EAAMY,2BAA2B81C,GAEzDh0C,OAAOC,KAAKxB,GAAQZ,SAAQ,SAAUo2C,GACpC,IACIlpC,EADAmpC,EAAez1C,EAAOw1C,GAG1B,GAAIh2C,EAAmB,CACrB8M,EAAW3C,EAAU9K,EAAMwE,oBAAoB,SAAUlF,GACvD,OAAOA,EAAEsF,OAASjE,EAAkBiE,QAEtC,IAAII,EAAiB8F,EAAUR,EAAK9F,mBAAmBiJ,IAAW,SAAUnO,GAC1E,OAAOA,EAAEuD,YAAc8zC,KAGzB,IAAwB,IAApB3xC,EACF,OAGFsF,EAAK9F,mBAAmBiJ,GAAUzI,GAAgBwf,KAAO5kB,EAAM,GAAI0K,EAAK9F,mBAAmBiJ,GAAUzI,GAAgBwf,KAAMoyB,OACtH,CACLnpC,EAAWqoC,EAAyBa,GACpC,IAAIE,EAAsBpB,EAAgBt0C,QAAUs0C,EAAgBt0C,OAAOw1C,IAAW,GACtFrsC,EAAKjJ,kBAAkBoM,GAAY,CACjC7I,KAAM+xC,EACNnyB,KAAMoI,EAAa,GAAIgqB,EAAcC,GACrCjD,WAAYxpC,EAAOksC,uBAErBjB,EAAiB/qC,EAAKjJ,kBAAkBoM,GAAWrD,EAAOqsC,aAAcE,GAEpE32C,EAAM2D,6BAA6BgzC,IACrC32C,EAAM2D,6BAA6BgzC,GAAQp2C,SAAQ,SAAUmtB,IAEtDpjB,EAAKjJ,kBAAkBoM,GAAU+W,KAAKkJ,IAAoB1tB,EAAM2D,6BAA6BgzC,GAAQvyC,QAAQspB,IAAoB,IACpIpjB,EAAKjJ,kBAAkBoM,GAAU+W,KAAKkJ,GAAmB,UAMnEqoB,OAGF/1C,EAAMU,+BAA+BH,SAAQ,SAAUC,GACrD,IAAIG,EAAoBX,EAAMY,2BAA2BJ,GAErDO,EAAYf,EAAMgB,+BAA+BL,GAEjDE,EAAoBb,EAAMc,0BAA0BN,GAGxD,KAAiC,IAA7BK,EAAkBI,QAAgBJ,EAAkB,GAAGK,MAAMH,GAAWE,OAAS,GAArF,CAIA,IAAImJ,EAAS+C,EAAQ4oC,GACjB50C,EAASiJ,GAAUA,EAAOjJ,OAASiJ,EAAOjJ,OAAS,GACvDuB,OAAOC,KAAKxB,GAAQZ,SAAQ,SAAUo2C,GACpC,IAAIC,EAAez1C,EAAOw1C,GACtBlpC,EAAW3C,EAAU9K,EAAMwE,oBAAoB,SAAUlF,GAC3D,OAAOA,EAAEsF,OAASjE,EAAkBiE,QAElCI,EAAiB8F,EAAUR,EAAK9F,mBAAmBiJ,IAAW,SAAUnO,GAC1E,OAAOA,EAAEuD,YAAc8zC,KAGzB,IAAwB,IAApB3xC,EAAJ,CAYA,IAAI8xC,EAAc,GAElB,GAAIj2C,EAAkBI,OAAS,EAAG,CAChC,IAAI81C,EAAOl2C,EAAkB,GAAGK,MAAMH,GAAW,GACjD+1C,EAAYC,GAAQzsC,EAAK9F,mBAAmBiJ,GAAUzI,GAAgBwf,KAAKuyB,GAG7EzsC,EAAK9F,mBAAmBiJ,GAAUzI,GAAgBwf,KAAOoI,EAAakqB,EAAaF,EAActsC,EAAK9F,mBAAmBiJ,GAAUzI,GAAgBwf,UAErJuxB,QAGFrzC,OAAOC,KAAK3C,EAAM0D,gBAAgBnD,SAAQ,SAAUkC,GAClD,IAAIu0C,EAAWh3C,EAAM0D,eAAejB,GAChCgL,EAAWooC,EAAcpzC,GAC7B6H,EAAKnJ,OAAOsM,GAAY,CACtB7I,KAAMnC,EACN+hB,KAAMixB,EAAgBt0C,OAAOsB,GAC7BmxC,WAAY6B,EAAgBa,uBAE9BU,EAASz2C,SAAQ,SAAUkD,GACzB6G,EAAKnJ,OAAOsM,GAAYnD,EAAKnJ,OAAOsM,IAAa,CAC/C7I,KAAMnC,GAER6H,EAAKnJ,OAAOsM,GAAU+W,KAAOla,EAAKnJ,OAAOsM,GAAU+W,MAAQ,GAC3Dla,EAAKnJ,OAAOsM,GAAU+W,KAAK/gB,GAAc,QAO7C6I,KAAK9H,mBAAqB8H,KAAK9H,mBAAmBpB,IAAIoxC,EAAyBx0C,IAK/EsM,KAAKnL,OAAS+zC,EAAQ5oC,KAAKnL,QAK3BmL,KAAKjL,kBAAoB6zC,EAAQ5oC,KAAKjL,mBACtCiL,KAAK2qC,OAASj3C,EA+DhB,SAASk3C,EAAQC,EAAQzc,GACvB,IAAKA,EAAKlW,MAA6B,IAArBkW,EAAKlW,KAAKvjB,OAC1B,OAAOy5B,EAGT,IAAI7rB,EAAW6rB,EAAKlW,KAAKphB,KAAI,SAAUg0C,GACrC,OAAOF,EAAQC,EAAQC,MAErBC,EAAiBF,EAAOtoC,GAI5B,OAHcjP,EAAM,GAAI86B,EAAM,CAC5BlW,KAAM6yB,IAwHV,SAASC,EAAyB7pB,EAAWhrB,GAC3C,IAAI+hB,EAAO3Z,EAAK4iB,GAAW,SAAU1rB,GACnC,OAAOA,EAAM6C,OAASnC,KAExB,OAAO+hB,GAAQA,EAAKgxB,MA+EtB,SAAS+B,EAAcv3C,EAAOkP,EAAM22B,EAAejhC,EAAM4yC,GACvD,IAAIz1C,EAAQ8I,EAAK2sC,GAAe,SAAUl4C,GACxC,OAAOA,EAAEsF,OAASihC,KAEhBzL,EAAQr4B,GAASA,EAAMyiB,MAAQziB,EAAMyiB,KAAK5f,GAAQ7C,EAAMyiB,KAAK5f,GAAQ,EACrEgvC,EAAa7xC,GAASA,EAAM6xC,aAAc,EAC9C,MAAO,CACL1kC,KAAMA,EACN22B,cAAeA,EACfjhC,KAAMA,EACNw1B,MAAOA,EACPwZ,WAAYA,GArRhB5hC,EAAcwB,UAAUilB,eAAiB,SAAU7zB,GACjD,SAAS6yC,EAAU11C,GACjB,OAAOA,EAAM6C,OAASA,EAGxB,OAAOiG,EAAKyB,KAAKnL,OAAQs2C,IAAc5sC,EAAKyB,KAAKjL,kBAAmBo2C,IAAc5sC,EAAKyB,KAAK9H,mBAAoBizC,IA+DlHzlC,EAAc0lC,aAAe,CAAC,iBAAkB,aAAc,YAoD9D1lC,EAAcwB,UAAUmkC,eAAiB,SAAU90C,EAAW6P,GAC5D,IAAI9O,EAzGN,SAAsCuJ,EAAStK,GAC7C,SAAS40C,EAAU11C,GACjB,OAAOA,EAAM6C,OAAS/B,EAGxB,GAAIsK,EAAQ8pC,OAAOj/B,mBAAmBnV,GAAY,CAChD,IAAId,EAAQ8I,EAAKsC,EAAQhM,OAAQs2C,GACjC,OAAK11C,EACEW,OAAOC,KAAKZ,EAAMyiB,MAAMphB,KAAI,SAAUwB,GAC3C,MAAO,CACLA,KAAMA,EACNw1B,MAAOr4B,EAAMyiB,KAAK5f,GAClBoQ,UAAW7H,EAAQ8pC,OAAO/hC,eAAerS,EAAW+B,GACpDuT,WAAYhL,EAAQ8pC,OAAO7+B,iBAAiBvV,EAAW+B,OANxC,GASd,GAAIuI,EAAQ8pC,OAAO3xC,mBAAmBzC,GAAY,CACvD,IAAI6zC,EAAmB7rC,EAAKsC,EAAQ9L,kBAAmBo2C,GACvD,OAAKf,EACEh0C,OAAOC,KAAK+zC,EAAiBlyB,MAAMphB,KAAI,SAAUwB,GACtD,MAAO,CACLA,KAAMA,EACNw1B,MAAOsc,EAAiBlyB,KAAK5f,GAC7BoQ,UAAW7H,EAAQ8pC,OAAOhiC,0BAA0BpS,EAAW+B,OALrC,GAQzB,GAAIuI,EAAQ8pC,OAAOh/B,oBAAoBpV,GAC5C,OAAOgI,EAAKsC,EAAQ3I,mBAAoBizC,GA8ExBG,CAA6BtrC,KAAMzJ,GAErD,GAAKe,EAAL,CAIA,IAAI2O,EAAUqa,EAAa,GAAIla,EAAM,CACnC2M,OAAQrN,EAAc0lC,eAGxB,GAAIz0C,MAAMC,QAAQqP,EAAQ8M,QAAS,CACjC,IAAI+nB,EAAQ+N,EAAW5iC,EAAQ8M,OAAQrN,EAAc0lC,cAErD,OAAIz0C,MAAMC,QAAQU,GACT0wC,EAAQ1wC,EAAawjC,EAAM,GAAIA,EAAM,IAIvC8P,GAAQ,SAAUW,GACvB,OAAOvD,EAAQuD,EAAyBzQ,EAAM,GAAIA,EAAM,MACvDxjC,GACE,GAA8B,mBAAnB2O,EAAQ8M,OACxB,OAAIpc,MAAMC,QAAQU,GACTA,EAAY4b,KAAKjN,EAAQ8M,QAI3B63B,GAAQ,SAAU1yB,GACvB,OA/EN,SAAuB4iB,EAAO5iB,GAC5B,OAAOA,EAAKhF,KAAK4nB,GA8EN0Q,CAAcvlC,EAAQ8M,OAAQmF,KACpC5gB,GAGL,MAAM,IAAIsP,MAAM,uHAUlBlB,EAAcwB,UAAUukC,cAAgB,SAAUl1C,GAChD,OAAIyJ,KAAK2qC,OAAOj/B,mBAAmBnV,GAC1By0C,EAAyBhrC,KAAKnL,OAAQ0B,GACpCyJ,KAAK2qC,OAAO3xC,mBAAmBzC,GACjCy0C,EAAyBhrC,KAAKjL,kBAAmBwB,QADnD,GAqCTmP,EAAcwB,UAAUoF,eAAiB,WACvC,IAAI5Y,EAAQsM,KAAK2qC,OACb9pC,EAAUb,KACVI,EAAM,GA0CV,OAzCAhK,OAAOC,KAAK3C,EAAMwD,mBAAmBjD,SAAQ,SAAUslC,GACrD7lC,EAAMwD,kBAAkBqiC,GAAetlC,SAAQ,SAAUqE,GACvD8H,EAAIxM,KAAKq3C,EAAcv3C,EAAO,QAAS6lC,EAAejhC,EAAMuI,EAAQhM,eAGxEuB,OAAOC,KAAK3C,EAAM0D,gBAAgBnD,SAAQ,SAAUslC,GAClD7lC,EAAM0D,eAAemiC,GAAetlC,SAAQ,SAAUqE,GACpD8H,EAAIxM,KAAKq3C,EAAcv3C,EAAO,UAAW6lC,EAAejhC,EAAMuI,EAAQhM,eAG1EuB,OAAOC,KAAK3C,EAAM2D,8BAA8BpD,SAAQ,SAAUslC,GAChE7lC,EAAM2D,6BAA6BkiC,GAAetlC,SAAQ,SAAUqE,GAClE8H,EAAIxM,KAAKq3C,EAAcv3C,EAAO,cAAe6lC,EAAejhC,EAAMuI,EAAQ9L,0BAG9EqB,OAAOC,KAAK3C,EAAM8D,+BAA+BvD,SAAQ,SAAUslC,GACjE7lC,EAAM8D,8BAA8B+hC,GAAetlC,SAAQ,SAAUqE,GACnE8H,EAAIxM,KAgEV,SAAmCF,EAAO6lC,EAAejhC,EAAM4yC,GAC7D,IAAIQ,EAAmBh4C,EAAMY,2BAA2BilC,GAEpD9kC,EAAYf,EAAMgB,+BAA+Bg3C,GAEjD92C,EAAQ0D,EAAK1D,MAAMH,GACnBk3C,EAAYptC,EAAK2sC,GAAe,SAAUz1C,GAC5C,OAAOA,EAAM6C,OAASihC,KAEpB9jC,EAAQb,EAAMuD,QAAO,SAAUyzC,EAAmBtT,GACpD,IAAIuT,EAAWD,GAAqBrtC,EAAKqtC,EAAkB1zB,MAAM,SAAUllB,GACzE,OAAOA,EAAEsF,OAASggC,KAEpB,YAAoB7gC,IAAbo0C,EAAyBA,EAAWD,IAC1CD,GACC7d,EAAQr4B,GAASA,EAAMq4B,OAAS,EAChCwZ,EAAa7xC,GAASA,EAAM6xC,aAAc,EAC1C10C,EAAO6C,GAASA,EAAM7C,MAAQ,GAClC,MAAO,CACLgQ,KAAM,eACN22B,cAAeA,EACfjhC,KAAM1F,EACNk7B,MAAOA,EACPwZ,WAAYA,GAvFD9yC,CAA0Bd,EAAO6lC,EAAejhC,EAAMuI,EAAQ3I,2BAG3E9B,OAAOC,KAAK3C,EAAM4C,oBAAoBrC,SAAQ,SAAUslC,GACtD,IAAI/iC,EAAY9C,EAAM4C,mBAAmBijC,GACzCnjC,OAAOC,KAAKG,GAAWvC,SAAQ,SAAUwC,GACvCD,EAAUC,GAAUxC,SAAQ,SAAUZ,GACpC+M,EAAIxM,KAAK,CACPgP,KAAM,UACN22B,cAAeA,EACfjhC,KAAMjF,EACNy4C,aAAcz4C,EACdoD,SAAUA,aAKlB/C,EAAMsD,eAAe/C,SAAQ,SAAUqE,GACrC8H,EAAIxM,KAAK,CACPgP,KAAM,MACN22B,cAAe,QACfjhC,KAAMA,OAGH8H,GAmETnN,EAAOC,QAAUwS,G,sBCn5BjB,YAAAxS,EAAA,cACAA,EAAQupC,KAAOvpC,EAAQ64C,sBAAwB74C,EAAQqd,mBAAqBrd,EAAQud,iBAAmBvd,EAAQ09B,wBAA0B19B,EAAQ6/B,uCAAoCt7B,EAErL,IAAIihC,EAA4B,mBAAXtlC,QAAoD,iBAApBA,OAAOgjB,SAAwB,SAAUpG,GAC5F,cAAcA,GACZ,SAAUA,GACZ,OAAOA,GAAyB,mBAAX5c,QAAyB4c,EAAIiB,cAAgB7d,QAAU4c,IAAQ5c,OAAO8T,UAAY,gBAAkB8I,GAGvHmV,EAAW/uB,OAAOgvB,QAAU,SAAUtrB,GACxC,IAAK,IAAImH,EAAI,EAAGA,EAAIiI,UAAUvU,OAAQsM,IAAK,CACzC,IAAIqd,EAASpV,UAAUjI,GAEvB,IAAK,IAAIgP,KAAOqO,EACVloB,OAAO8Q,UAAUwW,eAAevf,KAAKmgB,EAAQrO,KAC/CnW,EAAOmW,GAAOqO,EAAOrO,IAK3B,OAAOnW,GAKLk2B,EAAUC,EAFD,EAAQ,SAMjB+b,EAAiB/b,EAFD,EAAQ,SAIxBK,EAAmB,EAAQ,QAE/B,SAASL,EAAuBjgB,GAC9B,OAAOA,GAAOA,EAAI0f,WAAa1f,EAAM,CACnCugB,QAASvgB,GAIb,IAoKMi8B,EApKF3Y,EAA0B,SAAiC1xB,GAC7D,IAAI0nB,IAASpgB,UAAUvU,OAAS,QAAsB8C,IAAjByR,UAAU,KAAmBA,UAAU,GAE5E,OAAe,IAAXogB,EACKppB,OAAO0B,GAGT1B,OAAO0B,GAAK8S,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,UAAUA,QAAQ,KAAM,WAG1Hw3B,EAAwB,SAA+BC,GACzD,IAAIC,EAAiBC,EAAqBF,EAAW7b,EAAiBY,UAAUc,OAC5Esa,EAAoBD,EAAqBF,EAAW7b,EAAiByV,aAAaK,gBAEtF,GAAIkG,GAAqBF,EAEvB,OAAOE,EAAkB53B,QAAQ,OAAO,WACtC,OAAO03B,KAIX,IAAIG,EAAwBF,EAAqBF,EAAW7b,EAAiByV,aAAaC,eAC1F,OAAOoG,GAAkBG,QAAyB90C,GAGhD+0C,EAAyB,SAAgCL,GAC3D,OAAOE,EAAqBF,EAAW7b,EAAiByV,aAAaI,yBAA2B,cAG9FsG,EAA6B,SAAoCC,EAASP,GAC5E,OAAOA,EAAU/tC,QAAO,SAAU9D,GAChC,YAAiC,IAAnBA,EAAMoyC,MACnB51C,KAAI,SAAUwD,GACf,OAAOA,EAAMoyC,MACZv0C,QAAO,SAAUw0C,EAAU5yC,GAC5B,OAAOorB,EAAS,GAAIwnB,EAAU5yC,KAC7B,KAGD6yC,EAA0B,SAAiCC,EAAmBV,GAChF,OAAOA,EAAU/tC,QAAO,SAAU9D,GAChC,YAAyD,IAA3CA,EAAMg2B,EAAiBY,UAAUwT,SAC9C5tC,KAAI,SAAUwD,GACf,OAAOA,EAAMg2B,EAAiBY,UAAUwT,SACvC5pB,UAAU3iB,QAAO,SAAU20C,EAAkBnjC,GAC9C,IAAKmjC,EAAiBn4C,OAGpB,IAFA,IAAI0B,EAAOD,OAAOC,KAAKsT,GAEd1I,EAAI,EAAGA,EAAI5K,EAAK1B,OAAQsM,IAAK,CACpC,IACI8rC,EADe12C,EAAK4K,GACiB0T,cAEzC,IAA0D,IAAtDk4B,EAAkB/0C,QAAQi1C,IAAiCpjC,EAAIojC,GACjE,OAAOD,EAAiBh4C,OAAO6U,GAKrC,OAAOmjC,IACN,KAGDE,EAAuB,SAA8BC,EAASJ,EAAmBV,GAEnF,IAAIe,EAAmB,GACvB,OAAOf,EAAU/tC,QAAO,SAAU9D,GAChC,QAAI3D,MAAMC,QAAQ0D,EAAM2yC,WAIM,IAAnB3yC,EAAM2yC,IACfxQ,EAAK,WAAawQ,EAAU,mDAAwDvU,EAAQp+B,EAAM2yC,IAAY,MAGzG,MACNn2C,KAAI,SAAUwD,GACf,OAAOA,EAAM2yC,MACZnyB,UAAU3iB,QAAO,SAAUg1C,EAAcC,GAC1C,IAAIC,EAAmB,GACvBD,EAAahvC,QAAO,SAAUuL,GAI5B,IAHA,IAAI2jC,OAAsB,EACtBj3C,EAAOD,OAAOC,KAAKsT,GAEd1I,EAAI,EAAGA,EAAI5K,EAAK1B,OAAQsM,IAAK,CACpC,IAAIssC,EAAel3C,EAAK4K,GACpB8rC,EAAwBQ,EAAa54B,eAEiB,IAAtDk4B,EAAkB/0C,QAAQi1C,IAAmCO,IAAwBhd,EAAiBwU,eAAeQ,KAAkD,cAA3C37B,EAAI2jC,GAAqB34B,eAAoCo4B,IAA0Bzc,EAAiBwU,eAAeQ,KAAoD,eAA7C37B,EAAIojC,GAAuBp4B,gBACvR24B,EAAsBP,IAIyB,IAA7CF,EAAkB/0C,QAAQy1C,IAAyBA,IAAiBjd,EAAiBwU,eAAeK,YAAcoI,IAAiBjd,EAAiBwU,eAAeE,UAAYuI,IAAiBjd,EAAiBwU,eAAeM,YAClOkI,EAAsBC,GAI1B,IAAKD,IAAwB3jC,EAAI2jC,GAC/B,OAAO,EAGT,IAAIj6C,EAAQsW,EAAI2jC,GAAqB34B,cAUrC,OARKu4B,EAAiBI,KACpBJ,EAAiBI,GAAuB,IAGrCD,EAAiBC,KACpBD,EAAiBC,GAAuB,KAGrCJ,EAAiBI,GAAqBj6C,KACzCg6C,EAAiBC,GAAqBj6C,IAAS,GACxC,MAIRynB,UAAU7mB,SAAQ,SAAU0V,GAC7B,OAAOwjC,EAAav5C,KAAK+V,MAK3B,IAFA,IAAItT,EAAOD,OAAOC,KAAKg3C,GAEdpsC,EAAI,EAAGA,EAAI5K,EAAK1B,OAAQsM,IAAK,CACpC,IAAIssC,EAAel3C,EAAK4K,GACpBusC,GAAW,EAAIxB,EAAezb,SAAS,GAAI2c,EAAiBK,GAAeF,EAAiBE,IAChGL,EAAiBK,GAAgBC,EAGnC,OAAOL,IACN,IAAIryB,WAGLuxB,EAAuB,SAA8BF,EAAWxsB,GAClE,IAAK,IAAI1e,EAAIkrC,EAAUx3C,OAAS,EAAGsM,GAAK,EAAGA,IAAK,CAC9C,IAAI3G,EAAQ6xC,EAAUlrC,GAEtB,GAAI3G,EAAMojB,eAAeiC,GACvB,OAAOrlB,EAAMqlB,GAIjB,OAAO,MAqBL8tB,GACExB,EAAQpzB,KAAKC,MACV,SAAU40B,GACf,IAAIC,EAAc90B,KAAKC,MAEnB60B,EAAc1B,EAAQ,IACxBA,EAAQ0B,EACRD,EAASC,IAETx+B,YAAW,WACTs+B,EAAYC,KACX,KAKLE,EAAc,SAAqB9xC,GACrC,OAAOghB,aAAahhB,IAGlBiwC,EAA0C,oBAAXz7B,OAAyBA,OAAOy7B,uBAAyBz7B,OAAOu9B,6BAA+Bv9B,OAAOw9B,0BAA4BL,EAAchtC,EAAOsrC,uBAAyB0B,EAC/MM,EAAyC,oBAAXz9B,OAAyBA,OAAOy9B,sBAAwBz9B,OAAO09B,4BAA8B19B,OAAO29B,yBAA2BL,EAAcntC,EAAOstC,sBAAwBH,EAE1MnR,EAAO,SAAcyR,GACvB,OAAOx7B,SAAmC,mBAAjBA,QAAQ+pB,MAAuB/pB,QAAQ+pB,KAAKyR,IAGnEC,EAAkB,KAmBlBC,EAAmB,SAA0B9iC,EAAU7D,GACzD,IAAIosB,EAAUvoB,EAASuoB,QACnB1B,EAAiB7mB,EAAS6mB,eAC1BE,EAAiB/mB,EAAS+mB,eAC1ByB,EAAWxoB,EAASwoB,SACpBC,EAAWzoB,EAASyoB,SACpBC,EAAe1oB,EAAS0oB,aACxBP,EAAsBnoB,EAASmoB,oBAC/BQ,EAAa3oB,EAAS2oB,WACtBC,EAAY5oB,EAAS4oB,UACrB1f,EAAQlJ,EAASkJ,MACjByd,EAAkB3mB,EAAS2mB,gBAC/Boc,EAAiB/d,EAAiBY,UAAUgB,KAAMC,GAClDkc,EAAiB/d,EAAiBY,UAAUkB,KAAMC,GAClDic,EAAY95B,EAAOyd,GACnB,IAAIsc,EAAa,CACf1a,QAAS2a,EAAWle,EAAiBY,UAAUwT,KAAM7Q,GACrDC,SAAU0a,EAAWle,EAAiBY,UAAU8B,KAAMc,GACtDC,SAAUya,EAAWle,EAAiBY,UAAU+B,KAAMc,GACtDC,aAAcwa,EAAWle,EAAiBY,UAAUE,SAAU4C,GAC9DC,WAAYua,EAAWle,EAAiBY,UAAUC,OAAQ8C,GAC1DC,UAAWsa,EAAWle,EAAiBY,UAAUI,MAAO4C,IAEtDua,EAAY,GACZC,EAAc,GAClBt4C,OAAOC,KAAKk4C,GAAYt6C,SAAQ,SAAUy4C,GACxC,IAAIiC,EAAsBJ,EAAW7B,GACjCkC,EAAUD,EAAoBC,QAC9BC,EAAUF,EAAoBE,QAE9BD,EAAQj6C,SACV85C,EAAU/B,GAAWkC,GAGnBC,EAAQl6C,SACV+5C,EAAYhC,GAAW6B,EAAW7B,GAASmC,YAG/CpnC,GAAMA,IACNgsB,EAAoBnoB,EAAUmjC,EAAWC,IAGvCI,EAAe,SAAsBC,GACvC,OAAOp4C,MAAMC,QAAQm4C,GAAiBA,EAAc93C,KAAK,IAAM83C,GAG7DT,EAAc,SAAqB95B,EAAOvc,QACvB,IAAVuc,GAAyBta,SAASsa,QAAUA,IACrDta,SAASsa,MAAQs6B,EAAat6B,IAGhC65B,EAAiB/d,EAAiBY,UAAUc,MAAO/5B,IAGjDo2C,EAAmB,SAA0BpB,EAASh1C,GACxD,IAAI+2C,EAAa90C,SAAS+0C,qBAAqBhC,GAAS,GAExD,GAAK+B,EAAL,CASA,IALA,IAAIE,EAAwBF,EAAWG,aAAa7e,EAAiBiW,kBACjE6I,EAAmBF,EAAwBA,EAAsBt6C,MAAM,KAAO,GAC9Ey6C,EAAqB,GAAGv6C,OAAOs6C,GAC/BE,EAAgBl5C,OAAOC,KAAK4B,GAEvBgJ,EAAI,EAAGA,EAAIquC,EAAc36C,OAAQsM,IAAK,CAC7C,IAAI1K,EAAY+4C,EAAcruC,GAC1B5N,EAAQ4E,EAAW1B,IAAc,GAEjCy4C,EAAWG,aAAa54C,KAAelD,GACzC27C,EAAWO,aAAah5C,EAAWlD,IAGQ,IAAzC+7C,EAAiBt3C,QAAQvB,IAC3B64C,EAAiBx7C,KAAK2C,GAGxB,IAAIi5C,EAAcH,EAAmBv3C,QAAQvB,IAExB,IAAjBi5C,GACFH,EAAmBxhC,OAAO2hC,EAAa,GAI3C,IAAK,IAAIC,EAAKJ,EAAmB16C,OAAS,EAAG86C,GAAM,EAAGA,IACpDT,EAAWU,gBAAgBL,EAAmBI,IAG5CL,EAAiBz6C,SAAW06C,EAAmB16C,OACjDq6C,EAAWU,gBAAgBpf,EAAiBiW,kBACnCyI,EAAWG,aAAa7e,EAAiBiW,oBAAsB+I,EAAcr4C,KAAK,MAC3F+3C,EAAWO,aAAajf,EAAiBiW,iBAAkB+I,EAAcr4C,KAAK,QAI9Eu3C,EAAa,SAAoB5rC,EAAM+sC,GACzC,IAAIC,EAAc11C,SAAS21C,MAAQ31C,SAAS41C,cAAcxf,EAAiBY,UAAUyT,MACjFoL,EAAWH,EAAYI,iBAAiBptC,EAAO,IAAM0tB,EAAiBiW,iBAAmB,KACzFsI,EAAUl4C,MAAMuQ,UAAUnP,MAAMoG,KAAK4xC,GACrCnB,EAAU,GACVqB,OAAgB,EA0CpB,OAxCIN,GAAQA,EAAKh7C,QACfg7C,EAAK17C,SAAQ,SAAU0V,GACrB,IAAIumC,EAAah2C,SAAS6I,cAAcH,GAExC,IAAK,IAAIrM,KAAaoT,EACpB,GAAIA,EAAI+T,eAAennB,GACrB,GAAIA,IAAc+5B,EAAiBwU,eAAeK,WAChD+K,EAAW7e,UAAY1nB,EAAI0nB,eACtB,GAAI96B,IAAc+5B,EAAiBwU,eAAeE,SACnDkL,EAAWC,WACbD,EAAWC,WAAW5e,QAAU5nB,EAAI4nB,QAEpC2e,EAAWE,YAAYl2C,SAASm2C,eAAe1mC,EAAI4nB,cAEhD,CACL,IAAIl+B,OAAkC,IAAnBsW,EAAIpT,GAA6B,GAAKoT,EAAIpT,GAC7D25C,EAAWX,aAAah5C,EAAWlD,GAKzC68C,EAAWX,aAAajf,EAAiBiW,iBAAkB,QAEvDsI,EAAQxwC,MAAK,SAAUiyC,EAAa78C,GAEtC,OADAw8C,EAAgBx8C,EACTy8C,EAAWK,YAAYD,MAE9BzB,EAAQhhC,OAAOoiC,EAAe,GAE9BrB,EAAQh7C,KAAKs8C,MAKnBrB,EAAQ56C,SAAQ,SAAU0V,GACxB,OAAOA,EAAI8I,WAAWF,YAAY5I,MAEpCilC,EAAQ36C,SAAQ,SAAU0V,GACxB,OAAOimC,EAAYQ,YAAYzmC,MAE1B,CACLklC,QAASA,EACTD,QAASA,IAIT4B,EAAoC,SAA2Cv4C,GACjF,OAAO7B,OAAOC,KAAK4B,GAAYE,QAAO,SAAUyJ,EAAKqO,GACnD,IAAIwgC,OAAkC,IAApBx4C,EAAWgY,GAAuBA,EAAM,KAAQhY,EAAWgY,GAAO,IAAO,GAAKA,EAChG,OAAOrO,EAAMA,EAAM,IAAM6uC,EAAOA,IAC/B,KAuBDC,EAAuC,SAA8Cz4C,GACvF,IAAI04C,EAAYznC,UAAUvU,OAAS,QAAsB8C,IAAjByR,UAAU,GAAmBA,UAAU,GAAK,GACpF,OAAO9S,OAAOC,KAAK4B,GAAYE,QAAO,SAAU6X,EAAKC,GAEnD,OADAD,EAAIsgB,EAAiBsU,cAAc30B,IAAQA,GAAOhY,EAAWgY,GACtDD,IACN2gC,IA6CDC,EAAmB,SAA0BhuC,EAAM+sC,EAAMrmB,GAC3D,OAAQ1mB,GACN,KAAK0tB,EAAiBY,UAAUc,MAC9B,MAAO,CACL6e,YAAa,WACX,OAvCuEr8B,EAuC5Bm7B,EAAKn7B,MAvC8Bvc,EAuCvB03C,EAAK1d,iBAnCnD6e,EAAa,CAC5B7gC,IAAKuE,IACO8b,EAAiBiW,mBAAoB,EAC/CjsC,EAAQo2C,EAAqCz4C,EADQ64C,GAElD,CAAC9gB,EAAQO,QAAQxtB,cAAcutB,EAAiBY,UAAUc,MAAO13B,EAAOka,IAR7C,IAA6CA,EAAOvc,EAClF64C,EAMAx2C,GAkCE+b,SAAU,WACR,OA9EkB,SAA+BzT,EAAM4R,EAAOvc,EAAYqxB,GAClF,IAAIynB,EAAkBP,EAAkCv4C,GACpD+4C,EAAiBlC,EAAat6B,GAClC,OAAOu8B,EAAkB,IAAMnuC,EAAO,IAAM0tB,EAAiBiW,iBAAmB,WAAewK,EAAkB,IAAMzd,EAAwB0d,EAAgB1nB,GAAU,KAAO1mB,EAAO,IAAM,IAAMA,EAAO,IAAM0tB,EAAiBiW,iBAAmB,WAAejT,EAAwB0d,EAAgB1nB,GAAU,KAAO1mB,EAAO,IA2EpTquC,CAAsBruC,EAAM+sC,EAAKn7B,MAAOm7B,EAAK1d,gBAAiB3I,KAI3E,KAAKgH,EAAiBmU,gBAAgBvS,KACtC,KAAK5B,EAAiBmU,gBAAgBrS,KACpC,MAAO,CACLye,YAAa,WACX,OAAOH,EAAqCf,IAE9Ct5B,SAAU,WACR,OAAOm6B,EAAkCb,KAI/C,QACE,MAAO,CACLkB,YAAa,WACX,OAjDyB,SAAsCjuC,EAAM+sC,GAC7E,OAAOA,EAAK74C,KAAI,SAAU6S,EAAK1I,GAC7B,IAAIiwC,EAEAC,IAAaD,EAAa,CAC5BjhC,IAAKhP,IACOqvB,EAAiBiW,mBAAoB,EAAM2K,GAazD,OAZA96C,OAAOC,KAAKsT,GAAK1V,SAAQ,SAAUsC,GACjC,IAAI66C,EAAkB9gB,EAAiBsU,cAAcruC,IAAcA,EAEnE,GAAI66C,IAAoB9gB,EAAiBwU,eAAeK,YAAciM,IAAoB9gB,EAAiBwU,eAAeE,SAAU,CAClI,IAAIl9B,EAAU6B,EAAI0nB,WAAa1nB,EAAI4nB,QACnC4f,EAAUE,wBAA0B,CAClCC,OAAQxpC,QAGVqpC,EAAUC,GAAmBznC,EAAIpT,MAG9By5B,EAAQO,QAAQxtB,cAAcH,EAAMuuC,MA8B9BI,CAA6B3uC,EAAM+sC,IAE5Ct5B,SAAU,WACR,OA7FiB,SAA8BzT,EAAM+sC,EAAMrmB,GACnE,OAAOqmB,EAAKx3C,QAAO,SAAUyJ,EAAK+H,GAChC,IAAI6nC,EAAgBp7C,OAAOC,KAAKsT,GAAKvL,QAAO,SAAU7H,GACpD,QAASA,IAAc+5B,EAAiBwU,eAAeK,YAAc5uC,IAAc+5B,EAAiBwU,eAAeE,aAClH7sC,QAAO,SAAU4C,EAAQxE,GAC1B,IAAIk6C,OAAiC,IAAnB9mC,EAAIpT,GAA6BA,EAAYA,EAAY,KAAQ+8B,EAAwB3pB,EAAIpT,GAAY+yB,GAAU,IACrI,OAAOvuB,EAASA,EAAS,IAAM01C,EAAOA,IACrC,IACCgB,EAAa9nC,EAAI0nB,WAAa1nB,EAAI4nB,SAAW,GAC7CmgB,GAAsE,IAAtDphB,EAAiBgW,kBAAkBxuC,QAAQ8K,GAC/D,OAAOhB,EAAM,IAAMgB,EAAO,IAAM0tB,EAAiBiW,iBAAmB,WAAeiL,GAAiBE,EAAgB,KAAO,IAAMD,EAAa,KAAO7uC,EAAO,OAC3J,IAkFY+uC,CAAqB/uC,EAAM+sC,EAAMrmB,OAmClDp2B,EAAQ6/B,kCA1GgC,SAA2Cz4B,GACjF,IAAIs3C,EAAiB1oC,UAAUvU,OAAS,QAAsB8C,IAAjByR,UAAU,GAAmBA,UAAU,GAAK,GACzF,OAAO9S,OAAOC,KAAKiE,GAAOnC,QAAO,SAAU6X,EAAKC,GAE9C,OADAD,EAAIsgB,EAAiB+V,aAAap2B,IAAQA,GAAO3V,EAAM2V,GAChDD,IACN4hC,IAsGL1+C,EAAQ09B,wBApTsB,SAAiCtlB,GACzD6iC,GACFJ,EAAqBI,GAGnB7iC,EAASsS,MACXuwB,EAAkBpC,GAAsB,WACtCqC,EAAiB9iC,GAAU,WACzB6iC,EAAkB,YAItBC,EAAiB9iC,GACjB6iC,EAAkB,OAwStBj7C,EAAQud,iBA/Be,SAA0BmV,GAC/C,IAAIiO,EAAUjO,EAAKiO,QACf1B,EAAiBvM,EAAKuM,eACtB7I,EAAS1D,EAAK0D,OACd+I,EAAiBzM,EAAKyM,eACtByB,EAAWlO,EAAKkO,SAChBC,EAAWnO,EAAKmO,SAChBC,EAAepO,EAAKoO,aACpBC,EAAarO,EAAKqO,WAClBC,EAAYtO,EAAKsO,UACjB2d,EAAajsB,EAAKpR,MAClBA,OAAuB/c,IAAfo6C,EAA2B,GAAKA,EACxC5f,EAAkBrM,EAAKqM,gBAC3B,MAAO,CACLkB,KAAMyd,EAAiBtgB,EAAiBY,UAAUwT,KAAM7Q,EAASvK,GACjE6I,eAAgBye,EAAiBtgB,EAAiBmU,gBAAgBvS,KAAMC,EAAgB7I,GACxF+I,eAAgBue,EAAiBtgB,EAAiBmU,gBAAgBrS,KAAMC,EAAgB/I,GACxFiK,KAAMqd,EAAiBtgB,EAAiBY,UAAU8B,KAAMc,EAAUxK,GAClEkD,KAAMokB,EAAiBtgB,EAAiBY,UAAU+B,KAAMc,EAAUzK,GAClEkK,SAAUod,EAAiBtgB,EAAiBY,UAAUE,SAAU4C,EAAc1K,GAC9EoK,OAAQkd,EAAiBtgB,EAAiBY,UAAUC,OAAQ8C,EAAY3K,GACxEtU,MAAO47B,EAAiBtgB,EAAiBY,UAAUI,MAAO4C,EAAW5K,GACrE9U,MAAOo8B,EAAiBtgB,EAAiBY,UAAUc,MAAO,CACxDxd,MAAOA,EACPyd,gBAAiBA,GAChB3I,KAOPp2B,EAAQqd,mBArWiB,SAA4B47B,GACnD,MAAO,CACLtY,QAAS+Y,EAAwB,CAACtc,EAAiBwU,eAAeG,MAAOkH,GACzEha,eAAgBsa,EAA2Bnc,EAAiBmU,gBAAgBvS,KAAMia,GAClFvuB,MAAOyuB,EAAqBF,EAAW7b,EAAiByV,aAAaE,OACrE3c,OAAQ+iB,EAAqBF,EAAW7b,EAAiByV,aAAaG,2BACtE7T,eAAgBoa,EAA2Bnc,EAAiBmU,gBAAgBrS,KAAM+Z,GAClFrY,SAAUkZ,EAAqB1c,EAAiBY,UAAU8B,KAAM,CAAC1C,EAAiBwU,eAAeQ,IAAKhV,EAAiBwU,eAAeG,MAAOkH,GAC7IpY,SAAUiZ,EAAqB1c,EAAiBY,UAAU+B,KAAM,CAAC3C,EAAiBwU,eAAe3xC,KAAMm9B,EAAiBwU,eAAeC,QAASzU,EAAiBwU,eAAeI,UAAW5U,EAAiBwU,eAAeO,SAAU/U,EAAiBwU,eAAeM,WAAY+G,GACjRnY,aAAcgZ,EAAqB1c,EAAiBY,UAAUE,SAAU,CAACd,EAAiBwU,eAAeK,YAAagH,GACtH1Y,oBAAqB+Y,EAAuBL,GAC5ClY,WAAY+Y,EAAqB1c,EAAiBY,UAAUC,OAAQ,CAACb,EAAiBwU,eAAeS,IAAKjV,EAAiBwU,eAAeK,YAAagH,GACvJjY,UAAW8Y,EAAqB1c,EAAiBY,UAAUI,MAAO,CAAChB,EAAiBwU,eAAeE,UAAWmH,GAC9G33B,MAAO03B,EAAsBC,GAC7Bla,gBAAiBwa,EAA2Bnc,EAAiBmU,gBAAgBzS,MAAOma,KAwVxFj5C,EAAQ64C,sBAAwBA,EAChC74C,EAAQupC,KAAOA,I,wDC/hBf,kDACe,SAASqV,EAAch4C,GACpC,IAAK,IAAImH,EAAI,EAAGA,EAAIiI,UAAUvU,OAAQsM,IAAK,CACzC,IAAIqd,EAAyB,MAAhBpV,UAAUjI,GAAa7K,OAAO8S,UAAUjI,IAAM,GACvDmgC,EAAUhrC,OAAOC,KAAKioB,GAEkB,mBAAjCloB,OAAO2f,wBAChBqrB,EAAUA,EAAQtsC,OAAOsB,OAAO2f,sBAAsBuI,GAAQlgB,QAAO,SAAU0kB,GAC7E,OAAO1sB,OAAO4f,yBAAyBsI,EAAQwE,GAAK5S,gBAIxDkxB,EAAQntC,SAAQ,SAAUgc,GACxB,YAAenW,EAAQmW,EAAKqO,EAAOrO,OAIvC,OAAOnW,I,kCCjBT,SAASi4C,EAAkBj4C,EAAQQ,GACjC,IAAK,IAAI2G,EAAI,EAAGA,EAAI3G,EAAM3F,OAAQsM,IAAK,CACrC,IAAI4uB,EAAav1B,EAAM2G,GACvB4uB,EAAW3f,WAAa2f,EAAW3f,aAAc,EACjD2f,EAAW1f,cAAe,EACtB,UAAW0f,IAAYA,EAAWzf,UAAW,GACjDha,OAAOrD,eAAe+G,EAAQ+1B,EAAW5f,IAAK4f,IAInC,SAASD,EAAat2B,EAAaw2B,EAAYC,GAG5D,OAFID,GAAYiiB,EAAkBz4C,EAAY4N,UAAW4oB,GACrDC,GAAagiB,EAAkBz4C,EAAay2B,GACzCz2B,EAbT,mC,qBCAArG,EAAOC,QAAU,CAAC,QAAU,CAAC,MAAQ,CAAC,CAAC,MAAQ,iBAAiB,GAAK,qCAAqC,UAAW,GAAM,CAAC,MAAQ,gBAAgB,GAAK,qCAAqC,UAAW,GAAM,CAAC,MAAQ,mBAAmB,GAAK,mCAAmC,UAAW,O,kCCE9R,SAAS8+C,EAAiB3+C,EAAO4+C,GAC/B,GAAI5+C,IAAU4+C,EAAO,CACnB,IAAIC,OAAyBz6C,IAAVpE,EACf8+C,EAAsB,OAAV9+C,EACZ++C,OAAyB36C,IAAVw6C,EACfI,EAAsB,OAAVJ,EAEhB,IAAKI,GAAah/C,EAAQ4+C,GAASE,GAAaC,IAAiBF,EAC/D,OAAO,EAGT,IAAKC,GAAa9+C,EAAQ4+C,GAASI,GAAaH,IAAiBE,EAC/D,OAAQ,EAIZ,OAAO,EAuDTn/C,EAAOC,QA9CP,SAAiBo/C,EAAYC,EAAWC,GACtC,IAAK77C,MAAMC,QAAQ07C,GACjB,MAAO,GAGJ37C,MAAMC,QAAQ47C,KACjBA,EAAS,IAGX,IAAI10C,EAASw0C,EAAWx7C,KAAI,SAAUzD,EAAOI,GAC3C,MAAO,CACLg/C,SAAUF,EAAUz7C,KAAI,SAAU47C,GAChC,OAAOr/C,EAAMq/C,MAEfj/C,MAAOA,EACPJ,MAAOA,MA0BX,OAvBAyK,EAAOoV,MAAK,SAAkB4K,EAAQm0B,GAGpC,IAFA,IAAIx+C,GAAS,IAEJA,EAAQqqB,EAAO20B,SAAS99C,QAAQ,CACvC,IAAIyL,EAAM4xC,EAAiBl0B,EAAO20B,SAASh/C,GAAQw+C,EAAMQ,SAASh/C,IAElE,GAAI2M,EACF,OAAI3M,GAAS++C,EAAO79C,OACXyL,EAGa,SAAlBoyC,EAAO/+C,IACD2M,EAGHA,EAMX,OAAO0d,EAAOrqB,MAAQw+C,EAAMx+C,SAEvBqK,EAAOhH,KAAI,SAAUsJ,GAC1B,OAAOA,EAAI/M,W,0JCvDf+e,c,IAOMugC,E,0FACJ/gC,OAAA,WAAU,IAAD,IACsB5R,KAAK1F,MAA3BiI,EADA,EACAA,SAAUiB,EADV,EACUA,SAGb+2B,GAAmB,EASvB,OAPE/2B,EAASovC,SAAS5wC,MAChB,eAGFu4B,GAAmB,GAInB,uBACE99B,IAAK,CACHuG,QAAS,OACTC,cAAe,SACf4vC,UAAW,uBAEb,gBAAC,IAAD,CAAQrvC,SAAUA,IAClB,gBAAC,IAAD,CACEhB,UAAU,SACVG,OAAO,IACPF,KAAK,IACLI,OAAO,UACPpG,KAAG,GACD+H,KAAM,WACNqR,UAAW,IAFV,EAGA5R,IAAMC,QAAQ,SAAU,UAAW,CAClC2R,UAAW,IAJZ,EAMA5R,IAAME,SAAS,WAAY,CAC1B0R,UAAW,IAPZ,IAUFtT,GAEH,gBAAC,IAAD,CAAQg4B,iBAAkBA,M,GAvCX1oB,aA6CR8gC,Q,yDClEf,kDA4CeG,IAxBY,SAAC,GAAD,IAAEvwC,EAAF,EAAEA,SAAU8C,EAAZ,EAAYA,KAAMvL,EAAlB,EAAkBA,OAAQwL,EAA1B,EAA0BA,IAA1B,OACzB,qBACE7I,IAAK,CACH+kB,WAAY,EACZpd,YAAa,GACb,SAAU,CACRR,MAAOF,IAAOW,QAGlBgB,KAAMA,EACNvL,OAAQA,EACRwL,IAAKA,GACJ/C,EACD,gBAAC,IAAD,CACEpG,SAAU,CACRoJ,eAAgB,EAChBvC,QAAS,eACT+B,WAAY,EACZnB,MAAOF,IAAO8B,c","file":"commons-9d00205e550eb24289be.js","sourcesContent":["var path = require('../internals/path');\nvar has = require('../internals/has');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineProperty = require('../internals/object-define-property').f;\n\nmodule.exports = function (NAME) {\n  var Symbol = path.Symbol || (path.Symbol = {});\n  if (!has(Symbol, NAME)) defineProperty(Symbol, NAME, {\n    value: wrappedWellKnownSymbolModule.f(NAME)\n  });\n};\n","'use strict';\n\nvar merge = require('./functions/merge');\n\nvar requestBuilder = {\n  /**\n   * Get all the queries to send to the client, those queries can used directly\n   * with the Algolia client.\n   * @private\n   * @return {object[]} The queries\n   */\n  _getQueries: function getQueries(index, state) {\n    var queries = []; // One query for the hits\n\n    queries.push({\n      indexName: index,\n      params: requestBuilder._getHitsSearchParams(state)\n    }); // One for each disjunctive facets\n\n    state.getRefinedDisjunctiveFacets().forEach(function (refinedFacet) {\n      queries.push({\n        indexName: index,\n        params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet)\n      });\n    }); // maybe more to get the root level of hierarchical facets when activated\n\n    state.getRefinedHierarchicalFacets().forEach(function (refinedFacet) {\n      var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n      var currentRefinement = state.getHierarchicalRefinement(refinedFacet); // if we are deeper than level 0 (starting from `beer > IPA`)\n      // we want to get the root values\n\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n      if (currentRefinement.length > 0 && currentRefinement[0].split(separator).length > 1) {\n        queries.push({\n          indexName: index,\n          params: requestBuilder._getDisjunctiveFacetSearchParams(state, refinedFacet, true)\n        });\n      }\n    });\n    return queries;\n  },\n\n  /**\n   * Build search parameters used to fetch hits\n   * @private\n   * @return {object.<string, any>}\n   */\n  _getHitsSearchParams: function _getHitsSearchParams(state) {\n    var facets = state.facets.concat(state.disjunctiveFacets).concat(requestBuilder._getHitsHierarchicalFacetsAttributes(state));\n\n    var facetFilters = requestBuilder._getFacetFilters(state);\n\n    var numericFilters = requestBuilder._getNumericFilters(state);\n\n    var tagFilters = requestBuilder._getTagFilters(state);\n\n    var additionalParams = {\n      facets: facets,\n      tagFilters: tagFilters\n    };\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    return merge({}, state.getQueryParams(), additionalParams);\n  },\n\n  /**\n   * Build search parameters used to fetch a disjunctive facet\n   * @private\n   * @param  {string} facet the associated facet name\n   * @param  {boolean} hierarchicalRootLevel ?? FIXME\n   * @return {object}\n   */\n  _getDisjunctiveFacetSearchParams: function _getDisjunctiveFacetSearchParams(state, facet, hierarchicalRootLevel) {\n    var facetFilters = requestBuilder._getFacetFilters(state, facet, hierarchicalRootLevel);\n\n    var numericFilters = requestBuilder._getNumericFilters(state, facet);\n\n    var tagFilters = requestBuilder._getTagFilters(state);\n\n    var additionalParams = {\n      hitsPerPage: 1,\n      page: 0,\n      attributesToRetrieve: [],\n      attributesToHighlight: [],\n      attributesToSnippet: [],\n      tagFilters: tagFilters,\n      analytics: false,\n      clickAnalytics: false\n    };\n    var hierarchicalFacet = state.getHierarchicalFacetByName(facet);\n\n    if (hierarchicalFacet) {\n      additionalParams.facets = requestBuilder._getDisjunctiveHierarchicalFacetAttribute(state, hierarchicalFacet, hierarchicalRootLevel);\n    } else {\n      additionalParams.facets = facet;\n    }\n\n    if (numericFilters.length > 0) {\n      additionalParams.numericFilters = numericFilters;\n    }\n\n    if (facetFilters.length > 0) {\n      additionalParams.facetFilters = facetFilters;\n    }\n\n    return merge({}, state.getQueryParams(), additionalParams);\n  },\n\n  /**\n   * Return the numeric filters in an algolia request fashion\n   * @private\n   * @param {string} [facetName] the name of the attribute for which the filters should be excluded\n   * @return {string[]} the numeric filters in the algolia format\n   */\n  _getNumericFilters: function _getNumericFilters(state, facetName) {\n    if (state.numericFilters) {\n      return state.numericFilters;\n    }\n\n    var numericFilters = [];\n    Object.keys(state.numericRefinements).forEach(function (attribute) {\n      var operators = state.numericRefinements[attribute] || {};\n      Object.keys(operators).forEach(function (operator) {\n        var values = operators[operator] || [];\n\n        if (facetName !== attribute) {\n          values.forEach(function (value) {\n            if (Array.isArray(value)) {\n              var vs = value.map(function (v) {\n                return attribute + operator + v;\n              });\n              numericFilters.push(vs);\n            } else {\n              numericFilters.push(attribute + operator + value);\n            }\n          });\n        }\n      });\n    });\n    return numericFilters;\n  },\n\n  /**\n   * Return the tags filters depending\n   * @private\n   * @return {string}\n   */\n  _getTagFilters: function _getTagFilters(state) {\n    if (state.tagFilters) {\n      return state.tagFilters;\n    }\n\n    return state.tagRefinements.join(',');\n  },\n\n  /**\n   * Build facetFilters parameter based on current refinements. The array returned\n   * contains strings representing the facet filters in the algolia format.\n   * @private\n   * @param  {string} [facet] if set, the current disjunctive facet\n   * @return {array.<string>}\n   */\n  _getFacetFilters: function _getFacetFilters(state, facet, hierarchicalRootLevel) {\n    var facetFilters = [];\n    var facetsRefinements = state.facetsRefinements || {};\n    Object.keys(facetsRefinements).forEach(function (facetName) {\n      var facetValues = facetsRefinements[facetName] || [];\n      facetValues.forEach(function (facetValue) {\n        facetFilters.push(facetName + ':' + facetValue);\n      });\n    });\n    var facetsExcludes = state.facetsExcludes || {};\n    Object.keys(facetsExcludes).forEach(function (facetName) {\n      var facetValues = facetsExcludes[facetName] || [];\n      facetValues.forEach(function (facetValue) {\n        facetFilters.push(facetName + ':-' + facetValue);\n      });\n    });\n    var disjunctiveFacetsRefinements = state.disjunctiveFacetsRefinements || {};\n    Object.keys(disjunctiveFacetsRefinements).forEach(function (facetName) {\n      var facetValues = disjunctiveFacetsRefinements[facetName] || [];\n\n      if (facetName === facet || !facetValues || facetValues.length === 0) {\n        return;\n      }\n\n      var orFilters = [];\n      facetValues.forEach(function (facetValue) {\n        orFilters.push(facetName + ':' + facetValue);\n      });\n      facetFilters.push(orFilters);\n    });\n    var hierarchicalFacetsRefinements = state.hierarchicalFacetsRefinements || {};\n    Object.keys(hierarchicalFacetsRefinements).forEach(function (facetName) {\n      var facetValues = hierarchicalFacetsRefinements[facetName] || [];\n      var facetValue = facetValues[0];\n\n      if (facetValue === undefined) {\n        return;\n      }\n\n      var hierarchicalFacet = state.getHierarchicalFacetByName(facetName);\n\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n\n      var attributeToRefine;\n      var attributesIndex; // we ask for parent facet values only when the `facet` is the current hierarchical facet\n\n      if (facet === facetName) {\n        // if we are at the root level already, no need to ask for facet values, we get them from\n        // the hits query\n        if (facetValue.indexOf(separator) === -1 || !rootPath && hierarchicalRootLevel === true || rootPath && rootPath.split(separator).length === facetValue.split(separator).length) {\n          return;\n        }\n\n        if (!rootPath) {\n          attributesIndex = facetValue.split(separator).length - 2;\n          facetValue = facetValue.slice(0, facetValue.lastIndexOf(separator));\n        } else {\n          attributesIndex = rootPath.split(separator).length - 1;\n          facetValue = rootPath;\n        }\n\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      } else {\n        attributesIndex = facetValue.split(separator).length - 1;\n        attributeToRefine = hierarchicalFacet.attributes[attributesIndex];\n      }\n\n      if (attributeToRefine) {\n        facetFilters.push([attributeToRefine + ':' + facetValue]);\n      }\n    });\n    return facetFilters;\n  },\n  _getHitsHierarchicalFacetsAttributes: function _getHitsHierarchicalFacetsAttributes(state) {\n    var out = [];\n    return state.hierarchicalFacets.reduce( // ask for as much levels as there's hierarchical refinements\n    function getHitsAttributesForHierarchicalFacet(allAttributes, hierarchicalFacet) {\n      var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0]; // if no refinement, ask for root level\n\n      if (!hierarchicalRefinement) {\n        allAttributes.push(hierarchicalFacet.attributes[0]);\n        return allAttributes;\n      }\n\n      var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n      var level = hierarchicalRefinement.split(separator).length;\n      var newAttributes = hierarchicalFacet.attributes.slice(0, level + 1);\n      return allAttributes.concat(newAttributes);\n    }, out);\n  },\n  _getDisjunctiveHierarchicalFacetAttribute: function _getDisjunctiveHierarchicalFacetAttribute(state, hierarchicalFacet, rootLevel) {\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    if (rootLevel === true) {\n      var rootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n\n      var attributeIndex = 0;\n\n      if (rootPath) {\n        attributeIndex = rootPath.split(separator).length;\n      }\n\n      return [hierarchicalFacet.attributes[attributeIndex]];\n    }\n\n    var hierarchicalRefinement = state.getHierarchicalRefinement(hierarchicalFacet.name)[0] || ''; // if refinement is 'beers > IPA > Flying dog',\n    // then we want `facets: ['beers > IPA']` as disjunctive facet (parent level values)\n\n    var parentLevel = hierarchicalRefinement.split(separator).length - 1;\n    return hierarchicalFacet.attributes.slice(0, parentLevel + 1);\n  },\n  getSearchForFacetQuery: function getSearchForFacetQuery(facetName, query, maxFacetHits, state) {\n    var stateForSearchForFacetValues = state.isDisjunctiveFacet(facetName) ? state.clearRefinements(facetName) : state;\n    var searchForFacetSearchParameters = {\n      facetQuery: query,\n      facetName: facetName\n    };\n\n    if (typeof maxFacetHits === 'number') {\n      searchForFacetSearchParameters.maxFacetHits = maxFacetHits;\n    }\n\n    return merge({}, requestBuilder._getHitsSearchParams(stateForSearchForFacetValues), searchForFacetSearchParameters);\n  }\n};\nmodule.exports = requestBuilder;","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import { useEffect } from \"react\"\n\nconst events = [`mousedown`, `touchstart`]\n\nexport default (ref, onClickOutside) => {\n  const isOutside = element => !ref.current || !ref.current.contains(element)\n\n\n  const onClick = event => {\n    if (isOutside(event.target)) {\n      onClickOutside()\n    }\n  }\n\n  useEffect(() => {\n    for (const event of events) {\n      document.addEventListener(event, onClick)\n    }\n\n    return () => {\n      for (const event of events) document.removeEventListener(event, onClick)\n    }\n  })\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport PropTypes from 'prop-types';\nimport createConnector from '../core/createConnector';\nimport { cleanUpValue, refineValue, getCurrentRefinementValue, getIndexId } from '../core/indexUtils';\n\nfunction getId() {\n  return 'query';\n}\n\nfunction getCurrentRefinement(props, searchState, context) {\n  var id = getId(props);\n  var currentRefinement = getCurrentRefinementValue(props, searchState, context, id, '');\n\n  if (currentRefinement) {\n    return currentRefinement;\n  }\n\n  return '';\n}\n\nfunction _refine(props, searchState, nextRefinement, context) {\n  var id = getId();\n\n  var nextValue = _defineProperty({}, id, nextRefinement);\n\n  var resetPage = true;\n  return refineValue(searchState, nextValue, context, resetPage);\n}\n\nfunction _cleanUp(props, searchState, context) {\n  return cleanUpValue(searchState, context, getId());\n}\n/**\n * connectSearchBox connector provides the logic to build a widget that will\n * let the user search for a query\n * @name connectSearchBox\n * @kind connector\n * @propType {string} [defaultRefinement] - Provide a default value for the query\n * @providedPropType {function} refine - a function to change the current query\n * @providedPropType {string} currentRefinement - the current query used\n * @providedPropType {boolean} isSearchStalled - a flag that indicates if InstantSearch has detected that searches are stalled\n */\n\n\nexport default createConnector({\n  displayName: 'AlgoliaSearchBox',\n  propTypes: {\n    defaultRefinement: PropTypes.string\n  },\n  getProvidedProps: function getProvidedProps(props, searchState, searchResults) {\n    return {\n      currentRefinement: getCurrentRefinement(props, searchState, {\n        ais: props.contextValue,\n        multiIndexContext: props.indexContextValue\n      }),\n      isSearchStalled: searchResults.isSearchStalled\n    };\n  },\n  refine: function refine(props, searchState, nextRefinement) {\n    return _refine(props, searchState, nextRefinement, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  },\n  cleanUp: function cleanUp(props, searchState) {\n    return _cleanUp(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n  },\n  getSearchParameters: function getSearchParameters(searchParameters, props, searchState) {\n    return searchParameters.setQuery(getCurrentRefinement(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    }));\n  },\n  getMetadata: function getMetadata(props, searchState) {\n    var id = getId(props);\n    var currentRefinement = getCurrentRefinement(props, searchState, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n    return {\n      id: id,\n      index: getIndexId({\n        ais: props.contextValue,\n        multiIndexContext: props.indexContextValue\n      }),\n      items: currentRefinement === null ? [] : [{\n        label: \"\".concat(id, \": \").concat(currentRefinement),\n        value: function value(nextState) {\n          return _refine(props, nextState, '', {\n            ais: props.contextValue,\n            multiIndexContext: props.indexContextValue\n          });\n        },\n        currentRefinement: currentRefinement\n      }]\n    };\n  }\n});","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport React from 'react';\n\nconst ExternalLinkSvg = ({cssProps = {}}: {cssProps: Object}) => (\n  <svg\n    x=\"0px\"\n    y=\"0px\"\n    viewBox=\"0 0 100 100\"\n    width={15}\n    height={15}\n    css={cssProps}>\n    <path\n      fill=\"currentColor\"\n      d={`\n      M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,\n      0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z\n    `}\n    />\n    <polygon\n      fill=\"currentColor\"\n      points={`\n      45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,\n      14.9 62.8,22.9 71.5,22.9\n      `}\n    />\n  </svg>\n);\n\nexport default ExternalLinkSvg;\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","'use strict';\n\nmodule.exports = '3.2.2';","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport {createElement} from 'glamor/react';\n\nimport type {Node} from 'react';\n\ntype Props = {\n  basis: string,\n  children: Node,\n  direction: string,\n  grow: number,\n  halign: string,\n  shrink: number,\n  type: string,\n  valign: string,\n  rest: Array<any>,\n};\n\n/**\n * Convenience component for declaring a flexbox layout.\n */\nconst Flex = ({\n  basis = 'auto',\n  children,\n  direction = 'row',\n  grow = 0,\n  halign = 'flex-start',\n  shrink = 1,\n  type = 'div',\n  valign = 'flex-start',\n  ...rest\n}: Props) =>\n  createElement(\n    type,\n    {\n      css: {\n        display: 'flex',\n        flexDirection: direction,\n        flexGrow: grow,\n        flexShrink: shrink,\n        flexBasis: basis,\n        justifyContent: direction === 'row' ? halign : valign,\n        alignItems: direction === 'row' ? valign : halign,\n      },\n      ...rest,\n    },\n    children,\n  );\n\nexport default Flex;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport Flex from './Flex';\n\nexport default Flex;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport Container from 'components/Container';\n// import HeaderLink from './HeaderLink';\nimport {Link} from 'gatsby';\nimport React from 'react';\nimport {colors, fonts, media} from 'theme';\n// import {version} from 'site-constants';\nimport ExternalLinkSvg from 'templates/components/ExternalLinkSvg';\n// import DocSearch from './DocSearch';\nimport Search from './../Search/Search';\n\n// $FlowFixMe\n// import navHeader from '../../../content/headerNav.yml';\n\n// import logoSvg from 'icons/logo.png';\n\nconst Header = ({location}: {location: Location}) => (\n  <header\n    css={{\n      backgroundColor: colors.darker,\n      color: colors.white,\n      position: 'fixed',\n      zIndex: 1,\n      width: '100%',\n      top: 0,\n      left: 0,\n      '@media print': {\n        display: 'none',\n      },\n    }}>\n    <Container>\n      <div\n        css={{\n          display: 'flex',\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          height: 60,\n          [media.between('small', 'large')]: {\n            height: 50,\n          },\n          [media.lessThan('small')]: {\n            height: 40,\n          },\n        }}>\n        <Link\n          css={{\n            display: 'flex',\n            marginRight: 10,\n            height: '100%',\n            alignItems: 'center',\n            color: colors.brand,\n\n            ':focus': {\n              outline: 0,\n              color: colors.white,\n            },\n\n            [media.greaterThan('small')]: {\n              width: 'calc(100% / 6)',\n            },\n            [media.lessThan('small')]: {\n              flex: '0 0 auto',\n            },\n          }}\n          to=\"/\">\n          {/* <img src={logoSvg} alt=\"\" width=\"150\" /> */}\n          <div css={{paddingTop: 20}}>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"170\" height=\"100%\" viewBox=\"0 0 206 50\">\n                  <g fill=\"none\" fillRule=\"evenodd\">\n                  <path fill={colors.brand}\n                  d=\"M149.62 29.165c-.043-.098-.074-.2-.13-.288-1.283-1.975-2.568-3.945-3.851-5.918-.027-.04-.047-.085-.078-.144l4.036-11.133c1.506 2.667 2.978 5.272 4.494 7.959l6.383-17.502h6.185l5.889 17.366c.068.013.08.02.091.015.012-.002.023-.013.03-.023.034-.064.071-.128.102-.192l8.167-17.121c.004-.01.016-.02.039-.045h7.994c-.04.109-.066.208-.11.3-1.247 2.766-2.497 5.532-3.743 8.298-1.348 2.986-2.689 5.976-4.034 8.964-1.367 3.03-2.737 6.062-4.102 9.094-.054.119-.086.247-.126.37h-8.035c-.027-.138-.039-.282-.085-.415-.9-2.581-1.805-5.163-2.708-7.742-.67-1.911-1.338-3.822-2.005-5.733l-.606-1.73a.81.81 0 0 0-.22.34c-.356.974-.708 1.95-1.065 2.923-1.122 3.056-2.244 6.114-3.37 9.17-.392 1.064-.792 2.125-1.189 3.187h-7.953zM137.8 2.127c1.573.008 3.115.24 4.58.782 1.694.628 3.031 1.635 4.048 3.048-1.617 4.463-3.24 8.944-4.866 13.427-.447.171-.911.222-1.368.296-.898.146-1.808.169-2.718.169h-4.934c-.01.175-.023.315-.023.453v7.716c0 .38-.008.764-.01 1.147h-7.632c.004-.144.01-.286.01-.43l.001-13.08V2.13c.094-.006.156-.013.22-.013 4.23 0 8.463-.01 12.693.01zm-4.988 5.214c-.087 0-.175.02-.274.031v7.251c.127.014.204.03.282.03.885 0 1.77.019 2.652-.006.665-.022 1.331-.047 1.988-.185 1.243-.264 2.12-.896 2.518-1.99.373-1.029.387-2.069-.054-3.09-.348-.797-.963-1.368-1.86-1.683-.72-.249-1.476-.338-2.238-.352-1.004-.017-2.009-.006-3.014-.006zM196.78 29.165c-.026-.103-.035-.21-.076-.31-.591-1.48-1.188-2.964-1.785-4.445-.01-.022-.029-.04-.076-.098-.122-.006-.278-.017-.433-.017-3.28-.002-6.56-.002-9.839-.002-.157 0-.315-.006-.53-.01.777-1.765 1.533-3.482 2.301-5.22h6.694l-3.175-7.96 3.956-8.952.43 1.01c1.928 4.579 3.858 9.155 5.787 13.733 1.66 3.94 3.316 7.883 4.977 11.823.054.13.134.251.204.376-.014.025-.026.068-.041.07-.107.003-.214.002-.32.002h-8.074z\">\n                  </path>\n                  <path fill=\"#fff\"\n                  d=\"M3.088 3.463c1.915-1.363 4.35-2.044 7.308-2.044 3.522 0 6.543.72 9.063 2.16v6.555c-2.316-1.747-5.142-2.597-8.484-2.544-2.288.025-3.433.604-3.433 1.734 0 .54.348 1.022 1.042 1.446.694.426 1.561.785 2.603 1.079 1.04.297 2.166.694 3.373 1.197 1.209.5 2.335 1.06 3.375 1.676 1.042.618 1.909 1.497 2.603 2.642.694 1.145 1.042 2.461 1.042 3.954 0 5.5-3.6 8.25-10.797 8.25-3.935 0-7.393-.822-10.374-2.466v-6.75c2.955 2.031 6.233 3.046 9.833 3.046 1.439 0 2.467-.134 3.085-.404.617-.27.926-.739.926-1.408 0-.694-.482-1.298-1.447-1.811-.964-.516-2.134-.998-3.509-1.447a41.922 41.922 0 0 1-4.127-1.6c-1.374-.618-2.544-1.555-3.509-2.815-.964-1.26-1.446-2.776-1.446-4.55 0-2.57.958-4.538 2.873-5.9M26.757 12.448c2.096-1.722 4.61-2.584 7.539-2.584 2.031 0 3.933.424 5.707 1.274v5.59a9.249 9.249 0 0 0-4.704-1.273c-1.44 0-2.622.348-3.548 1.042-.925.694-1.39 1.773-1.39 3.239 0 1.388.465 2.442 1.39 3.16.926.722 2.069 1.082 3.431 1.082 1.904 0 3.573-.412 5.014-1.235v5.591c-1.98.825-4.1 1.235-6.363 1.235-2.828 0-5.239-.803-7.231-2.41-1.991-1.607-2.988-3.953-2.988-7.038 0-3.392 1.047-5.95 3.143-7.673M49.715 24.614c.41.348.95.521 1.62.521 1.156 0 2.173-.32 3.046-.964v-2.508c-.695-.23-1.478-.346-2.353-.346-1.953 0-2.93.669-2.93 2.004 0 .515.205.945.617 1.293m12.494.25c.257 0 .502-.038.733-.116v4.05c-.978.386-2.084.579-3.317.579-2.056 0-3.522-.68-4.397-2.045-1.901 1.493-4.05 2.237-6.438 2.237-1.826 0-3.356-.513-4.59-1.543-1.235-1.027-1.85-2.415-1.85-4.164 0-1.106.244-2.076.732-2.91.488-.836 1.137-1.474 1.948-1.91a10.167 10.167 0 0 1 2.545-.964c.886-.206 1.817-.309 2.795-.309 1.388 0 2.726.142 4.01.424v-.655c0-.694-.328-1.254-.983-1.678-.655-.424-1.614-.635-2.871-.635-1.954 0-4.114.476-6.48 1.426v-5.515c2.52-.822 4.922-1.232 7.21-1.232 3.163 0 5.566.655 7.213 1.965 1.644 1.312 2.467 3.534 2.467 6.672v5.167c0 .772.425 1.157 1.273 1.157M76.97 9.903c2.416 0 4.255.713 5.515 2.14 1.26 1.425 1.89 3.247 1.89 5.457v11.491h-6.556V18.387c0-.951-.258-1.672-.771-2.16-.516-.488-1.196-.733-2.046-.733-1.26 0-2.313.54-3.16 1.62V28.99h-6.556v-18.51h5.784v2.12c1.672-1.798 3.637-2.698 5.9-2.698M100.176 15.976c-.668-.449-1.427-.675-2.274-.675-1.287 0-2.269.438-2.951 1.31-.68.876-1.02 1.916-1.02 3.125s.34 2.249 1.02 3.124c.682.873 1.664 1.31 2.95 1.31.848 0 1.607-.224 2.275-.675.669-.449 1.157-.997 1.466-1.638v-4.242c-.309-.642-.797-1.19-1.466-1.639zm8.021-13.98v26.995h-5.783v-2.508c-.515.875-1.307 1.608-2.372 2.199-1.067.591-2.372.886-3.915.886-1.491 0-2.827-.281-4.01-.847-1.182-.566-2.12-1.324-2.815-2.275-.694-.952-1.221-2-1.58-3.143a11.82 11.82 0 0 1-.541-3.567c0-1.235.18-2.424.54-3.567.36-1.144.887-2.191 1.58-3.144.697-.95 1.634-1.709 2.815-2.274 1.184-.566 2.52-.848 4.01-.848 2.342 0 4.179.694 5.516 2.082V1.997h6.555zM112.161 28.99h6.555V10.48h-6.555v18.51zm5.957-22.038c-.706.605-1.6.908-2.68.908s-1.972-.303-2.68-.908c-.708-.604-1.06-1.51-1.06-2.717 0-1.184.36-2.077 1.08-2.681.719-.605 1.607-.906 2.66-.906 1.08 0 1.974.301 2.68.906.707.604 1.061 1.497 1.061 2.68 0 1.208-.354 2.114-1.061 2.718z\">\n                </path>\n                </g>\n            </svg>\n          </div>\n        </Link>\n\n        {/* <nav\n          css={{\n            flex: '1',\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'stretch',\n            overflowX: 'auto',\n            overflowY: 'hidden',\n            WebkitOverflowScrolling: 'touch',\n            height: '100%',\n\n            // Hide horizontal scrollbar\n            scrollbarWidth: 'none',\n            msOverflowStyle: 'none',\n            '::-webkit-scrollbar': {\n              display: 'none',\n            },\n\n            [media.size('xsmall')]: {\n              flexGrow: '1',\n              width: 'auto',\n            },\n            [media.greaterThan('xlarge')]: {\n              width: null,\n            },\n            [media.lessThan('small')]: {\n              maskImage:\n                'linear-gradient(to right, transparent, black 20px, black 90%, transparent)',\n            },\n          }}>\n          {navHeader.items.map(link => (\n            <HeaderLink\n              key={link.title}\n              isActive={location.pathname.includes(link.activeSelector)}\n              title={link.title}\n              to={link.to}\n            />\n          ))}\n        </nav> */}\n\n        \n\n        <div\n          css={{\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'flex-end',\n            width: 'auto',\n\n            [media.lessThan('medium')]: {\n            width: 'auto',\n            },\n            [media.greaterThan('large')]: {\n            width: 'calc(100% / 4)',\n            },\n          }}>\n            {/* <DocSearch /> */}\n            <Search indices={[{name: 'Pages'}]} />\n\n          {/* <Link\n            css={{\n              padding: '5px 10px',\n              whiteSpace: 'nowrap',\n              ...fonts.small,\n\n              ':hover': {\n                color: colors.brand,\n              },\n\n              ':focus': {\n                outline: 0,\n                backgroundColor: colors.lighter,\n                borderRadius: 15,\n              },\n\n              [media.lessThan('medium')]: {\n                display: 'none',\n              },\n            }}\n            to=\"/versions\">\n            v{version}\n          </Link> */}\n\n          <a\n            css={{ \n              padding: '5px 10px',\n              marginLeft: 10,\n              whiteSpace: 'nowrap',\n              ...fonts.small,\n\n              ':hover': {\n                color: colors.brand,\n              },\n\n              ':focus': {\n                outline: 0,\n                backgroundColor: colors.lighter,\n                borderRadius: 15,\n              },\n\n              // [media.lessThan('large')]: {\n              //   display: 'none',\n              // },\n            }}\n            href=\"https://github.com/scandipwa/docs.scandipwa.com/\"\n            target=\"_blank\"\n            rel=\"noopener\">\n            GitHub\n            <ExternalLinkSvg\n              cssProps={{\n                marginLeft: 5,\n                verticalAlign: -2,\n                color: colors.subtle,\n              }}\n            />\n          </a>\n        </div>\n      </div>\n    </Container>\n  </header>\n);\n\nexport default Header;\n","'use strict';\n\nvar SearchParameters = require('./SearchParameters');\n\nvar SearchResults = require('./SearchResults');\n\nvar DerivedHelper = require('./DerivedHelper');\n\nvar requestBuilder = require('./requestBuilder');\n\nvar events = require('events');\n\nvar inherits = require('./functions/inherits');\n\nvar objectHasKeys = require('./functions/objectHasKeys');\n\nvar version = require('./version');\n/**\n * Event triggered when a parameter is set or updated\n * @event AlgoliaSearchHelper#event:change\n * @property {object} event\n * @property {SearchParameters} event.state the current parameters with the latest changes applied\n * @property {SearchResults} event.results the previous results received from Algolia. `null` before the first request\n * @example\n * helper.on('change', function(event) {\n *   console.log('The parameters have changed');\n * });\n */\n\n/**\n * Event triggered when a main search is sent to Algolia\n * @event AlgoliaSearchHelper#event:search\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search\n * @property {SearchResults} event.results the results from the previous search. `null` if it is the first search.\n * @example\n * helper.on('search', function(event) {\n *   console.log('Search sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchForFacetValues` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchForFacetValues\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @property {string} event.facet the facet searched into\n * @property {string} event.query the query used to search in the facets\n * @example\n * helper.on('searchForFacetValues', function(event) {\n *   console.log('searchForFacetValues sent');\n * });\n */\n\n/**\n * Event triggered when a search using `searchOnce` is sent to Algolia\n * @event AlgoliaSearchHelper#event:searchOnce\n * @property {object} event\n * @property {SearchParameters} event.state the parameters used for this search it is the first search.\n * @example\n * helper.on('searchOnce', function(event) {\n *   console.log('searchOnce sent');\n * });\n */\n\n/**\n * Event triggered when the results are retrieved from Algolia\n * @event AlgoliaSearchHelper#event:result\n * @property {object} event\n * @property {SearchResults} event.results the results received from Algolia\n * @property {SearchParameters} event.state the parameters used to query Algolia. Those might be different from the one in the helper instance (for example if the network is unreliable).\n * @example\n * helper.on('result', function(event) {\n *   console.log('Search results received');\n * });\n */\n\n/**\n * Event triggered when Algolia sends back an error. For example, if an unknown parameter is\n * used, the error can be caught using this event.\n * @event AlgoliaSearchHelper#event:error\n * @property {object} event\n * @property {Error} event.error the error returned by the Algolia.\n * @example\n * helper.on('error', function(event) {\n *   console.log('Houston we got a problem.');\n * });\n */\n\n/**\n * Event triggered when the queue of queries have been depleted (with any result or outdated queries)\n * @event AlgoliaSearchHelper#event:searchQueueEmpty\n * @example\n * helper.on('searchQueueEmpty', function() {\n *   console.log('No more search pending');\n *   // This is received before the result event if we're not expecting new results\n * });\n *\n * helper.search();\n */\n\n/**\n * Initialize a new AlgoliaSearchHelper\n * @class\n * @classdesc The AlgoliaSearchHelper is a class that ease the management of the\n * search. It provides an event based interface for search callbacks:\n *  - change: when the internal search state is changed.\n *    This event contains a {@link SearchParameters} object and the\n *    {@link SearchResults} of the last result if any.\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n *  - error: when the response is an error. This event contains the error returned by the server.\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the index name to query\n * @param  {SearchParameters | object} options an object defining the initial\n * config of the search. It doesn't have to be a {SearchParameters},\n * just an object containing the properties you need from it.\n */\n\n\nfunction AlgoliaSearchHelper(client, index, options) {\n  if (typeof client.addAlgoliaAgent === 'function') {\n    client.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n\n  this.setClient(client);\n  var opts = options || {};\n  opts.index = index;\n  this.state = SearchParameters.make(opts);\n  this.lastResults = null;\n  this._queryId = 0;\n  this._lastQueryIdReceived = -1;\n  this.derivedHelpers = [];\n  this._currentNbQueries = 0;\n}\n\ninherits(AlgoliaSearchHelper, events.EventEmitter);\n/**\n * Start the search with the parameters set in the state. When the\n * method is called, it triggers a `search` event. The results will\n * be available through the `result` event. If an error occurs, an\n * `error` will be fired instead.\n * @return {AlgoliaSearchHelper}\n * @fires search\n * @fires result\n * @fires error\n * @chainable\n */\n\nAlgoliaSearchHelper.prototype.search = function () {\n  this._search({\n    onlyWithDerivedHelpers: false\n  });\n\n  return this;\n};\n\nAlgoliaSearchHelper.prototype.searchOnlyWithDerivedHelpers = function () {\n  this._search({\n    onlyWithDerivedHelpers: true\n  });\n\n  return this;\n};\n/**\n * Gets the search query parameters that would be sent to the Algolia Client\n * for the hits\n * @return {object} Query Parameters\n */\n\n\nAlgoliaSearchHelper.prototype.getQuery = function () {\n  var state = this.state;\n  return requestBuilder._getHitsSearchParams(state);\n};\n/**\n * Start a search using a modified version of the current state. This method does\n * not trigger the helper lifecycle and does not modify the state kept internally\n * by the helper. This second aspect means that the next search call will be the\n * same as a search call before calling searchOnce.\n * @param {object} options can contain all the parameters that can be set to SearchParameters\n * plus the index\n * @param {function} [callback] optional callback executed when the response from the\n * server is back.\n * @return {promise|undefined} if a callback is passed the method returns undefined\n * otherwise it returns a promise containing an object with two keys :\n *  - content with a SearchResults\n *  - state with the state used for the query as a SearchParameters\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the callback API\n * var state = helper.searchOnce({hitsPerPage: 1},\n *   function(error, content, state) {\n *     // if an error occurred it will be passed in error, otherwise its value is null\n *     // content contains the results formatted as a SearchResults\n *     // state is the instance of SearchParameters used for this search\n *   });\n * @example\n * // Changing the number of records returned per page to 1\n * // This example uses the promise API\n * var state1 = helper.searchOnce({hitsPerPage: 1})\n *                 .then(promiseHandler);\n *\n * function promiseHandler(res) {\n *   // res contains\n *   // {\n *   //   content : SearchResults\n *   //   state   : SearchParameters (the one used for this specific search)\n *   // }\n * }\n */\n\n\nAlgoliaSearchHelper.prototype.searchOnce = function (options, cb) {\n  var tempState = !options ? this.state : this.state.setQueryParameters(options);\n\n  var queries = requestBuilder._getQueries(tempState.index, tempState);\n\n  var self = this;\n  this._currentNbQueries++;\n  this.emit('searchOnce', {\n    state: tempState\n  });\n\n  if (cb) {\n    this.client.search(queries).then(function (content) {\n      self._currentNbQueries--;\n\n      if (self._currentNbQueries === 0) {\n        self.emit('searchQueueEmpty');\n      }\n\n      cb(null, new SearchResults(tempState, content.results), tempState);\n    }).catch(function (err) {\n      self._currentNbQueries--;\n\n      if (self._currentNbQueries === 0) {\n        self.emit('searchQueueEmpty');\n      }\n\n      cb(err, null, tempState);\n    });\n    return undefined;\n  }\n\n  return this.client.search(queries).then(function (content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    return {\n      content: new SearchResults(tempState, content.results),\n      state: tempState,\n      _originalResponse: content\n    };\n  }, function (e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n/**\n * Structure of each result when using\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * @typedef FacetSearchHit\n * @type {object}\n * @property {string} value the facet value\n * @property {string} highlighted the facet value highlighted with the query string\n * @property {number} count number of occurrence of this facet value\n * @property {boolean} isRefined true if the value is already refined\n */\n\n/**\n * Structure of the data resolved by the\n * [`searchForFacetValues()`](reference.html#AlgoliaSearchHelper#searchForFacetValues)\n * promise.\n * @typedef FacetSearchResult\n * @type {object}\n * @property {FacetSearchHit} facetHits the results for this search for facet values\n * @property {number} processingTimeMS time taken by the query inside the engine\n */\n\n/**\n * Search for facet values based on an query and the name of a faceted attribute. This\n * triggers a search and will return a promise. On top of using the query, it also sends\n * the parameters from the state so that the search is narrowed down to only the possible values.\n *\n * See the description of [FacetSearchResult](reference.html#FacetSearchResult)\n * @param {string} facet the name of the faceted attribute\n * @param {string} query the string query for the search\n * @param {number} [maxFacetHits] the maximum number values returned. Should be > 0 and <= 100\n * @param {object} [userState] the set of custom parameters to use on top of the current state. Setting a property to `undefined` removes\n * it in the generated query.\n * @return {promise.<FacetSearchResult>} the results of the search\n */\n\n\nAlgoliaSearchHelper.prototype.searchForFacetValues = function (facet, query, maxFacetHits, userState) {\n  var clientHasSFFV = typeof this.client.searchForFacetValues === 'function';\n\n  if (!clientHasSFFV && typeof this.client.initIndex !== 'function') {\n    throw new Error('search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues');\n  }\n\n  var state = this.state.setQueryParameters(userState || {});\n  var isDisjunctive = state.isDisjunctiveFacet(facet);\n  var algoliaQuery = requestBuilder.getSearchForFacetQuery(facet, query, maxFacetHits, state);\n  this._currentNbQueries++;\n  var self = this;\n  this.emit('searchForFacetValues', {\n    state: state,\n    facet: facet,\n    query: query\n  });\n  var searchForFacetValuesPromise = clientHasSFFV ? this.client.searchForFacetValues([{\n    indexName: state.index,\n    params: algoliaQuery\n  }]) : this.client.initIndex(state.index).searchForFacetValues(algoliaQuery);\n  return searchForFacetValuesPromise.then(function addIsRefined(content) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    content = Array.isArray(content) ? content[0] : content;\n    content.facetHits.forEach(function (f) {\n      f.isRefined = isDisjunctive ? state.isDisjunctiveFacetRefined(facet, f.value) : state.isFacetRefined(facet, f.value);\n    });\n    return content;\n  }, function (e) {\n    self._currentNbQueries--;\n    if (self._currentNbQueries === 0) self.emit('searchQueueEmpty');\n    throw e;\n  });\n};\n/**\n * Sets the text query used for the search.\n *\n * This method resets the current page to 0.\n * @param  {string} q the user query\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.setQuery = function (q) {\n  this._change({\n    state: this.state.resetPage().setQuery(q),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Remove all the types of refinements except tags. A string can be provided to remove\n * only the refinements of a specific attribute. For more advanced use case, you can\n * provide a function instead. This function should follow the\n * [clearCallback definition](#SearchParameters.clearCallback).\n *\n * This method resets the current page to 0.\n * @param {string} [name] optional name of the facet / attribute on which we want to remove all refinements\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * // Removing all the refinements\n * helper.clearRefinements().search();\n * @example\n * // Removing all the filters on a the category attribute.\n * helper.clearRefinements('category').search();\n * @example\n * // Removing only the exclude filters on the category facet.\n * helper.clearRefinements(function(value, attribute, type) {\n *   return type === 'exclude' && attribute === 'category';\n * }).search();\n */\n\n\nAlgoliaSearchHelper.prototype.clearRefinements = function (name) {\n  this._change({\n    state: this.state.resetPage().clearRefinements(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Remove all the tag filters.\n *\n * This method resets the current page to 0.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.clearTags = function () {\n  this._change({\n    state: this.state.resetPage().clearTags(),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Adds a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.addDisjunctiveFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().addDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addDisjunctiveFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.addDisjunctiveRefine = function () {\n  return this.addDisjunctiveFacetRefinement.apply(this, arguments);\n};\n/**\n * Adds a refinement on a hierarchical facet. It will throw\n * an exception if the facet is not defined or if the facet\n * is already refined.\n *\n * This method resets the current page to 0.\n * @param {string} facet the facet name\n * @param {string} path the hierarchical facet path\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is refined\n * @chainable\n * @fires change\n */\n\n\nAlgoliaSearchHelper.prototype.addHierarchicalFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().addHierarchicalFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Adds a an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} operator the operator of the filter\n * @param  {number} value the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.addNumericRefinement = function (attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().addNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Adds a filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.addFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().addFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.addRefine = function () {\n  return this.addFacetRefinement.apply(this, arguments);\n};\n/**\n * Adds a an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value (will be converted to string)\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.addFacetExclusion = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().addExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#addFacetExclusion}\n */\n\n\nAlgoliaSearchHelper.prototype.addExclude = function () {\n  return this.addFacetExclusion.apply(this, arguments);\n};\n/**\n * Adds a tag filter with the `tag` provided. If the\n * filter is already set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag the tag to add to the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.addTag = function (tag) {\n  this._change({\n    state: this.state.resetPage().addTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Removes an numeric filter to an attribute with the `operator` and `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * Some parameters are optional, triggering different behavior:\n *  - if the value is not provided, then all the numeric value will be removed for the\n *  specified attribute/operator couple.\n *  - if the operator is not provided either, then all the numeric filter on this attribute\n *  will be removed.\n *\n * This method resets the current page to 0.\n * @param  {string} attribute the attribute on which the numeric filter applies\n * @param  {string} [operator] the operator of the filter\n * @param  {number} [value] the value of the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeNumericRefinement = function (attribute, operator, value) {\n  this._change({\n    state: this.state.resetPage().removeNumericRefinement(attribute, operator, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Removes a disjunctive filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeDisjunctiveFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().removeDisjunctiveFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeDisjunctiveFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.removeDisjunctiveRefine = function () {\n  return this.removeDisjunctiveFacetRefinement.apply(this, arguments);\n};\n/**\n * Removes the refinement set on a hierarchical facet.\n * @param {string} facet the facet name\n * @return {AlgoliaSearchHelper}\n * @throws Error if the facet is not defined or if the facet is not refined\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeHierarchicalFacetRefinement = function (facet) {\n  this._change({\n    state: this.state.resetPage().removeHierarchicalFacetRefinement(facet),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Removes a filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().removeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.removeRefine = function () {\n  return this.removeFacetRefinement.apply(this, arguments);\n};\n/**\n * Removes an exclusion filter to a faceted attribute with the `value` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * If the value is omitted, then this method will remove all the filters for the\n * attribute.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} [value] the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeFacetExclusion = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().removeExcludeRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#removeFacetExclusion}\n */\n\n\nAlgoliaSearchHelper.prototype.removeExclude = function () {\n  return this.removeFacetExclusion.apply(this, arguments);\n};\n/**\n * Removes a tag filter with the `tag` provided. If the\n * filter is not set, it doesn't change the filters.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove from the filter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.removeTag = function (tag) {\n  this._change({\n    state: this.state.resetPage().removeTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Adds or removes an exclusion filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.toggleFacetExclusion = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleExcludeFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetExclusion}\n */\n\n\nAlgoliaSearchHelper.prototype.toggleExclude = function () {\n  return this.toggleFacetExclusion.apply(this, arguments);\n};\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n * @deprecated since version 2.19.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.toggleRefinement = function (facet, value) {\n  return this.toggleFacetRefinement(facet, value);\n};\n/**\n * Adds or removes a filter to a faceted attribute with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method can be used for conjunctive, disjunctive and hierarchical filters.\n *\n * This method resets the current page to 0.\n * @param  {string} facet the facet to refine\n * @param  {string} value the associated value\n * @return {AlgoliaSearchHelper}\n * @throws Error will throw an error if the facet is not declared in the settings of the helper\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.toggleFacetRefinement = function (facet, value) {\n  this._change({\n    state: this.state.resetPage().toggleFacetRefinement(facet, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * @deprecated since version 2.4.0, see {@link AlgoliaSearchHelper#toggleFacetRefinement}\n */\n\n\nAlgoliaSearchHelper.prototype.toggleRefine = function () {\n  return this.toggleFacetRefinement.apply(this, arguments);\n};\n/**\n * Adds or removes a tag filter with the `value` provided. If\n * the value is set then it removes it, otherwise it adds the filter.\n *\n * This method resets the current page to 0.\n * @param {string} tag tag to remove or add\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.toggleTag = function (tag) {\n  this._change({\n    state: this.state.resetPage().toggleTagRefinement(tag),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Increments the page number by one.\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setPage(0).nextPage().getPage();\n * // returns 1\n */\n\n\nAlgoliaSearchHelper.prototype.nextPage = function () {\n  var page = this.state.page || 0;\n  return this.setPage(page + 1);\n};\n/**\n * Decrements the page number by one.\n * @fires change\n * @return {AlgoliaSearchHelper}\n * @chainable\n * @example\n * helper.setPage(1).previousPage().getPage();\n * // returns 0\n */\n\n\nAlgoliaSearchHelper.prototype.previousPage = function () {\n  var page = this.state.page || 0;\n  return this.setPage(page - 1);\n};\n/**\n * @private\n */\n\n\nfunction setCurrentPage(page) {\n  if (page < 0) throw new Error('Page requested below 0.');\n\n  this._change({\n    state: this.state.setPage(page),\n    isPageReset: false\n  });\n\n  return this;\n}\n/**\n * Change the current page\n * @deprecated\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.setCurrentPage = setCurrentPage;\n/**\n * Updates the current page.\n * @function\n * @param  {number} page The page number\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\nAlgoliaSearchHelper.prototype.setPage = setCurrentPage;\n/**\n * Updates the name of the index that will be targeted by the query.\n *\n * This method resets the current page to 0.\n * @param {string} name the index name\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\nAlgoliaSearchHelper.prototype.setIndex = function (name) {\n  this._change({\n    state: this.state.resetPage().setIndex(name),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Update a parameter of the search. This method reset the page\n *\n * The complete list of parameters is available on the\n * [Algolia website](https://www.algolia.com/doc/rest#query-an-index).\n * The most commonly used parameters have their own [shortcuts](#query-parameters-shortcuts)\n * or benefit from higher-level APIs (all the kind of filters and facets have their own API)\n *\n * This method resets the current page to 0.\n * @param {string} parameter name of the parameter to update\n * @param {any} value new value of the parameter\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n * @example\n * helper.setQueryParameter('hitsPerPage', 20).search();\n */\n\n\nAlgoliaSearchHelper.prototype.setQueryParameter = function (parameter, value) {\n  this._change({\n    state: this.state.resetPage().setQueryParameter(parameter, value),\n    isPageReset: true\n  });\n\n  return this;\n};\n/**\n * Set the whole state (warning: will erase previous state)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @fires change\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.setState = function (newState) {\n  this._change({\n    state: SearchParameters.make(newState),\n    isPageReset: false\n  });\n\n  return this;\n};\n/**\n * Override the current state without triggering a change event.\n * Do not use this method unless you know what you are doing. (see the example\n * for a legit use case)\n * @param {SearchParameters} newState the whole new state\n * @return {AlgoliaSearchHelper}\n * @example\n *  helper.on('change', function(state){\n *    // In this function you might want to find a way to store the state in the url/history\n *    updateYourURL(state)\n *  })\n *  window.onpopstate = function(event){\n *    // This is naive though as you should check if the state is really defined etc.\n *    helper.overrideStateWithoutTriggeringChangeEvent(event.state).search()\n *  }\n * @chainable\n */\n\n\nAlgoliaSearchHelper.prototype.overrideStateWithoutTriggeringChangeEvent = function (newState) {\n  this.state = new SearchParameters(newState);\n  return this;\n};\n/**\n * Check if an attribute has any numeric, conjunctive, disjunctive or hierarchical filters.\n * @param {string} attribute the name of the attribute\n * @return {boolean} true if the attribute is filtered by at least one value\n * @example\n * // hasRefinements works with numeric, conjunctive, disjunctive and hierarchical filters\n * helper.hasRefinements('price'); // false\n * helper.addNumericRefinement('price', '>', 100);\n * helper.hasRefinements('price'); // true\n *\n * helper.hasRefinements('color'); // false\n * helper.addFacetRefinement('color', 'blue');\n * helper.hasRefinements('color'); // true\n *\n * helper.hasRefinements('material'); // false\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * helper.hasRefinements('material'); // true\n *\n * helper.hasRefinements('categories'); // false\n * helper.toggleFacetRefinement('categories', 'kitchen > knife');\n * helper.hasRefinements('categories'); // true\n *\n */\n\n\nAlgoliaSearchHelper.prototype.hasRefinements = function (attribute) {\n  if (objectHasKeys(this.state.getNumericRefinements(attribute))) {\n    return true;\n  } else if (this.state.isConjunctiveFacet(attribute)) {\n    return this.state.isFacetRefined(attribute);\n  } else if (this.state.isDisjunctiveFacet(attribute)) {\n    return this.state.isDisjunctiveFacetRefined(attribute);\n  } else if (this.state.isHierarchicalFacet(attribute)) {\n    return this.state.isHierarchicalFacetRefined(attribute);\n  } // there's currently no way to know that the user did call `addNumericRefinement` at some point\n  // thus we cannot distinguish if there once was a numeric refinement that was cleared\n  // so we will return false in every other situations to be consistent\n  // while what we should do here is throw because we did not find the attribute in any type\n  // of refinement\n\n\n  return false;\n};\n/**\n * Check if a value is excluded for a specific faceted attribute. If the value\n * is omitted then the function checks if there is any excluding refinements.\n *\n * @param  {string}  facet name of the attribute for used for faceting\n * @param  {string}  [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n * @return {boolean} true if refined\n * @example\n * helper.isExcludeRefined('color'); // false\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // false\n *\n * helper.addFacetExclusion('color', 'red');\n *\n * helper.isExcludeRefined('color'); // true\n * helper.isExcludeRefined('color', 'blue') // false\n * helper.isExcludeRefined('color', 'red') // true\n */\n\n\nAlgoliaSearchHelper.prototype.isExcluded = function (facet, value) {\n  return this.state.isExcludeRefined(facet, value);\n};\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasRefinements}\n */\n\n\nAlgoliaSearchHelper.prototype.isDisjunctiveRefined = function (facet, value) {\n  return this.state.isDisjunctiveFacetRefined(facet, value);\n};\n/**\n * Check if the string is a currently filtering tag.\n * @param {string} tag tag to check\n * @return {boolean}\n */\n\n\nAlgoliaSearchHelper.prototype.hasTag = function (tag) {\n  return this.state.isTagRefined(tag);\n};\n/**\n * @deprecated since 2.4.0, see {@link AlgoliaSearchHelper#hasTag}\n */\n\n\nAlgoliaSearchHelper.prototype.isTagRefined = function () {\n  return this.hasTagRefinements.apply(this, arguments);\n};\n/**\n * Get the name of the currently used index.\n * @return {string}\n * @example\n * helper.setIndex('highestPrice_products').getIndex();\n * // returns 'highestPrice_products'\n */\n\n\nAlgoliaSearchHelper.prototype.getIndex = function () {\n  return this.state.index;\n};\n\nfunction getCurrentPage() {\n  return this.state.page;\n}\n/**\n * Get the currently selected page\n * @deprecated\n * @return {number} the current page\n */\n\n\nAlgoliaSearchHelper.prototype.getCurrentPage = getCurrentPage;\n/**\n * Get the currently selected page\n * @function\n * @return {number} the current page\n */\n\nAlgoliaSearchHelper.prototype.getPage = getCurrentPage;\n/**\n * Get all the tags currently set to filters the results.\n *\n * @return {string[]} The list of tags currently set.\n */\n\nAlgoliaSearchHelper.prototype.getTags = function () {\n  return this.state.tagRefinements;\n};\n/**\n * Get the list of refinements for a given attribute. This method works with\n * conjunctive, disjunctive, excluding and numerical filters.\n *\n * See also SearchResults#getRefinements\n *\n * @param {string} facetName attribute name used for faceting\n * @return {Array.<FacetRefinement|NumericRefinement>} All Refinement are objects that contain a value, and\n * a type. Numeric also contains an operator.\n * @example\n * helper.addNumericRefinement('price', '>', 100);\n * helper.getRefinements('price');\n * // [\n * //   {\n * //     \"value\": [\n * //       100\n * //     ],\n * //     \"operator\": \">\",\n * //     \"type\": \"numeric\"\n * //   }\n * // ]\n * @example\n * helper.addFacetRefinement('color', 'blue');\n * helper.addFacetExclusion('color', 'red');\n * helper.getRefinements('color');\n * // [\n * //   {\n * //     \"value\": \"blue\",\n * //     \"type\": \"conjunctive\"\n * //   },\n * //   {\n * //     \"value\": \"red\",\n * //     \"type\": \"exclude\"\n * //   }\n * // ]\n * @example\n * helper.addDisjunctiveFacetRefinement('material', 'plastic');\n * // [\n * //   {\n * //     \"value\": \"plastic\",\n * //     \"type\": \"disjunctive\"\n * //   }\n * // ]\n */\n\n\nAlgoliaSearchHelper.prototype.getRefinements = function (facetName) {\n  var refinements = [];\n\n  if (this.state.isConjunctiveFacet(facetName)) {\n    var conjRefinements = this.state.getConjunctiveRefinements(facetName);\n    conjRefinements.forEach(function (r) {\n      refinements.push({\n        value: r,\n        type: 'conjunctive'\n      });\n    });\n    var excludeRefinements = this.state.getExcludeRefinements(facetName);\n    excludeRefinements.forEach(function (r) {\n      refinements.push({\n        value: r,\n        type: 'exclude'\n      });\n    });\n  } else if (this.state.isDisjunctiveFacet(facetName)) {\n    var disjRefinements = this.state.getDisjunctiveRefinements(facetName);\n    disjRefinements.forEach(function (r) {\n      refinements.push({\n        value: r,\n        type: 'disjunctive'\n      });\n    });\n  }\n\n  var numericRefinements = this.state.getNumericRefinements(facetName);\n  Object.keys(numericRefinements).forEach(function (operator) {\n    var value = numericRefinements[operator];\n    refinements.push({\n      value: value,\n      operator: operator,\n      type: 'numeric'\n    });\n  });\n  return refinements;\n};\n/**\n * Return the current refinement for the (attribute, operator)\n * @param {string} attribute attribute in the record\n * @param {string} operator operator applied on the refined values\n * @return {Array.<number|number[]>} refined values\n */\n\n\nAlgoliaSearchHelper.prototype.getNumericRefinement = function (attribute, operator) {\n  return this.state.getNumericRefinement(attribute, operator);\n};\n/**\n * Get the current breadcrumb for a hierarchical facet, as an array\n * @param  {string} facetName Hierarchical facet name\n * @return {array.<string>} the path as an array of string\n */\n\n\nAlgoliaSearchHelper.prototype.getHierarchicalFacetBreadcrumb = function (facetName) {\n  return this.state.getHierarchicalFacetBreadcrumb(facetName);\n}; // /////////// PRIVATE\n\n/**\n * Perform the underlying queries\n * @private\n * @return {undefined}\n * @fires search\n * @fires result\n * @fires error\n */\n\n\nAlgoliaSearchHelper.prototype._search = function (options) {\n  var state = this.state;\n  var states = [];\n  var mainQueries = [];\n\n  if (!options.onlyWithDerivedHelpers) {\n    mainQueries = requestBuilder._getQueries(state.index, state);\n    states.push({\n      state: state,\n      queriesCount: mainQueries.length,\n      helper: this\n    });\n    this.emit('search', {\n      state: state,\n      results: this.lastResults\n    });\n  }\n\n  var derivedQueries = this.derivedHelpers.map(function (derivedHelper) {\n    var derivedState = derivedHelper.getModifiedState(state);\n\n    var derivedStateQueries = requestBuilder._getQueries(derivedState.index, derivedState);\n\n    states.push({\n      state: derivedState,\n      queriesCount: derivedStateQueries.length,\n      helper: derivedHelper\n    });\n    derivedHelper.emit('search', {\n      state: derivedState,\n      results: derivedHelper.lastResults\n    });\n    return derivedStateQueries;\n  });\n  var queries = Array.prototype.concat.apply(mainQueries, derivedQueries);\n  var queryId = this._queryId++;\n  this._currentNbQueries++;\n\n  try {\n    this.client.search(queries).then(this._dispatchAlgoliaResponse.bind(this, states, queryId)).catch(this._dispatchAlgoliaError.bind(this, queryId));\n  } catch (error) {\n    // If we reach this part, we're in an internal error state\n    this.emit('error', {\n      error: error\n    });\n  }\n};\n/**\n * Transform the responses as sent by the server and transform them into a user\n * usable object that merge the results of all the batch requests. It will dispatch\n * over the different helper + derived helpers (when there are some).\n * @private\n * @param {array.<{SearchParameters, AlgoliaQueries, AlgoliaSearchHelper}>}\n *  state state used for to generate the request\n * @param {number} queryId id of the current request\n * @param {object} content content of the response\n * @return {undefined}\n */\n\n\nAlgoliaSearchHelper.prototype._dispatchAlgoliaResponse = function (states, queryId, content) {\n  // FIXME remove the number of outdated queries discarded instead of just one\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n  this._lastQueryIdReceived = queryId;\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n  var results = content.results.slice();\n  states.forEach(function (s) {\n    var state = s.state;\n    var queriesCount = s.queriesCount;\n    var helper = s.helper;\n    var specificResults = results.splice(0, queriesCount);\n    var formattedResponse = helper.lastResults = new SearchResults(state, specificResults);\n    helper.emit('result', {\n      results: formattedResponse,\n      state: state\n    });\n  });\n};\n\nAlgoliaSearchHelper.prototype._dispatchAlgoliaError = function (queryId, error) {\n  if (queryId < this._lastQueryIdReceived) {\n    // Outdated answer\n    return;\n  }\n\n  this._currentNbQueries -= queryId - this._lastQueryIdReceived;\n  this._lastQueryIdReceived = queryId;\n  this.emit('error', {\n    error: error\n  });\n  if (this._currentNbQueries === 0) this.emit('searchQueueEmpty');\n};\n\nAlgoliaSearchHelper.prototype.containsRefinement = function (query, facetFilters, numericFilters, tagFilters) {\n  return query || facetFilters.length !== 0 || numericFilters.length !== 0 || tagFilters.length !== 0;\n};\n/**\n * Test if there are some disjunctive refinements on the facet\n * @private\n * @param {string} facet the attribute to test\n * @return {boolean}\n */\n\n\nAlgoliaSearchHelper.prototype._hasDisjunctiveRefinements = function (facet) {\n  return this.state.disjunctiveRefinements[facet] && this.state.disjunctiveRefinements[facet].length > 0;\n};\n\nAlgoliaSearchHelper.prototype._change = function (event) {\n  var state = event.state;\n  var isPageReset = event.isPageReset;\n\n  if (state !== this.state) {\n    this.state = state;\n    this.emit('change', {\n      state: this.state,\n      results: this.lastResults,\n      isPageReset: isPageReset\n    });\n  }\n};\n/**\n * Clears the cache of the underlying Algolia client.\n * @return {AlgoliaSearchHelper}\n */\n\n\nAlgoliaSearchHelper.prototype.clearCache = function () {\n  this.client.clearCache && this.client.clearCache();\n  return this;\n};\n/**\n * Updates the internal client instance. If the reference of the clients\n * are equal then no update is actually done.\n * @param  {AlgoliaSearch} newClient an AlgoliaSearch client\n * @return {AlgoliaSearchHelper}\n */\n\n\nAlgoliaSearchHelper.prototype.setClient = function (newClient) {\n  if (this.client === newClient) return this;\n\n  if (typeof newClient.addAlgoliaAgent === 'function') {\n    newClient.addAlgoliaAgent('JS Helper (' + version + ')');\n  }\n\n  this.client = newClient;\n  return this;\n};\n/**\n * Gets the instance of the currently used client.\n * @return {AlgoliaSearch}\n */\n\n\nAlgoliaSearchHelper.prototype.getClient = function () {\n  return this.client;\n};\n/**\n * Creates an derived instance of the Helper. A derived helper\n * is a way to request other indices synchronised with the lifecycle\n * of the main Helper. This mechanism uses the multiqueries feature\n * of Algolia to aggregate all the requests in a single network call.\n *\n * This method takes a function that is used to create a new SearchParameter\n * that will be used to create requests to Algolia. Those new requests\n * are created just before the `search` event. The signature of the function\n * is `SearchParameters -> SearchParameters`.\n *\n * This method returns a new DerivedHelper which is an EventEmitter\n * that fires the same `search`, `result` and `error` events. Those\n * events, however, will receive data specific to this DerivedHelper\n * and the SearchParameters that is returned by the call of the\n * parameter function.\n * @param {function} fn SearchParameters -> SearchParameters\n * @return {DerivedHelper}\n */\n\n\nAlgoliaSearchHelper.prototype.derive = function (fn) {\n  var derivedHelper = new DerivedHelper(this, fn);\n  this.derivedHelpers.push(derivedHelper);\n  return derivedHelper;\n};\n/**\n * This method detaches a derived Helper from the main one. Prefer using the one from the\n * derived helper itself, to remove the event listeners too.\n * @private\n * @return {undefined}\n * @throws Error\n */\n\n\nAlgoliaSearchHelper.prototype.detachDerivedHelper = function (derivedHelper) {\n  var pos = this.derivedHelpers.indexOf(derivedHelper);\n  if (pos === -1) throw new Error('Derived helper already detached');\n  this.derivedHelpers.splice(pos, 1);\n};\n/**\n * This method returns true if there is currently at least one on-going search.\n * @return {boolean} true if there is a search pending\n */\n\n\nAlgoliaSearchHelper.prototype.hasPendingRequests = function () {\n  return this._currentNbQueries > 0;\n};\n/**\n * @typedef AlgoliaSearchHelper.NumericRefinement\n * @type {object}\n * @property {number[]} value the numbers that are used for filtering this attribute with\n * the operator specified.\n * @property {string} operator the faceting data: value, number of entries\n * @property {string} type will be 'numeric'\n */\n\n/**\n * @typedef AlgoliaSearchHelper.FacetRefinement\n * @type {object}\n * @property {string} value the string use to filter the attribute\n * @property {string} type the type of filter: 'conjunctive', 'disjunctive', 'exclude'\n */\n\n\nmodule.exports = AlgoliaSearchHelper;","import React, { useRef } from \"react\"\nimport { connectSearchBox } from \"react-instantsearch-dom\"\nimport './Search.css'\nimport search from \"./../../images/search.png\"\nimport { media } from 'theme'\n\n\n\nexport default connectSearchBox(\n    ({ refine, onFocus, setQuery, fieldValue, setFieldValue }) => {\n\n        const onChange = (e) => {\n            setFieldValue(e.target.value)\n            refine(e.target.value)\n        }\n\n        const inputRef = useRef();\n\n        const focusInput = () => {\n            inputRef.current.focus()\n        }\n\n        const cleanField = () => {\n            setTimeout(() => {\n                setQuery('')\n                setFieldValue('')\n            }, 300)\n        }\n\n        return (\n            <form className=\"searchForm\">\n                <input\n                    css={{\n                        [media.lessThan('expandedSearch')]: {\n                            width: 20,\n                            transition: 'width .2s ease-in',\n                            ':focus': {\n                                width: '160px'\n                            }\n                        }\n                    }}\n                    onBlur={cleanField}\n                    className=\"searchInput\"\n                    type=\"text\"\n                    placeholder=\"Search\"\n                    aria-label=\"Search\"\n                    onChange={onChange}\n                    value={fieldValue}\n                    ref={inputRef}\n                    onFocus={onFocus}\n                />\n                <span onClick={focusInput} css={{cursor: 'text'}} className=\"magGlass\">\n                    <img src={search} css={{ width: 15 }} />\n                </span>\n            </form>\n        )\n    }\n)","'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar React = require('react');\n\nvar React__default = _interopDefault(React);\n\nvar shallowEqual = _interopDefault(require('shallowequal'));\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient, mapStateOnServer) {\n  if (typeof reducePropsToState !== 'function') {\n    throw new Error('Expected reducePropsToState to be a function.');\n  }\n\n  if (typeof handleStateChangeOnClient !== 'function') {\n    throw new Error('Expected handleStateChangeOnClient to be a function.');\n  }\n\n  if (typeof mapStateOnServer !== 'undefined' && typeof mapStateOnServer !== 'function') {\n    throw new Error('Expected mapStateOnServer to either be undefined or a function.');\n  }\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n    if (typeof WrappedComponent !== 'function') {\n      throw new Error('Expected WrappedComponent to be a React component.');\n    }\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n\n      if (SideEffect.canUseDOM) {\n        handleStateChangeOnClient(state);\n      } else if (mapStateOnServer) {\n        state = mapStateOnServer(state);\n      }\n    }\n\n    var SideEffect = /*#__PURE__*/function (_Component) {\n      _inheritsLoose(SideEffect, _Component);\n\n      function SideEffect() {\n        return _Component.apply(this, arguments) || this;\n      } // Try to use displayName of wrapped component\n      // Expose canUseDOM so tests can monkeypatch it\n\n\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      SideEffect.rewind = function rewind() {\n        if (SideEffect.canUseDOM) {\n          throw new Error('You may only call rewind() on the server. Call peek() to read the current state.');\n        }\n\n        var recordedState = state;\n        state = undefined;\n        mountedInstances = [];\n        return recordedState;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n        return !shallowEqual(nextProps, this.props);\n      };\n\n      _proto.componentWillMount = function componentWillMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return React__default.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(React.Component);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    _defineProperty(SideEffect, \"canUseDOM\", canUseDOM);\n\n    return SideEffect;\n  };\n}\n\nmodule.exports = withSideEffect;","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\n// This is not pretty.\n// See https://github.com/facebook/react/issues/11538#issuecomment-417504600\n// We need this because we don't even offer official translations.\n// https://github.com/facebook/react/issues/12460\n\nexport default function patchDOMForGoogleTranslate() {\n  if (typeof Node !== 'function' || Node.prototype == null) {\n    return;\n  }\n\n  // $FlowFixMe Intentionally monkepatching.\n  const originalRemoveChild = Node.prototype.removeChild;\n  // $FlowFixMe Intentionally monkepatching.\n  Node.prototype.removeChild = function(child) {\n    if (child.parentNode !== this) {\n      if (typeof console !== 'undefined') {\n        console.error(\n          'Cannot remove a child from a different parent',\n          child,\n          this,\n        );\n      }\n      return child;\n    }\n    return originalRemoveChild.apply(this, arguments);\n  };\n\n  // $FlowFixMe Intentionally monkepatching.\n  const originalInsertBefore = Node.prototype.insertBefore;\n  // $FlowFixMe Intentionally monkepatching.\n  Node.prototype.insertBefore = function(newNode, referenceNode) {\n    if (referenceNode && referenceNode.parentNode !== this) {\n      if (typeof console !== 'undefined') {\n        console.error(\n          'Cannot insert before a reference node from a different parent',\n          referenceNode,\n          this,\n        );\n      }\n      return newNode;\n    }\n    return originalInsertBefore.apply(this, arguments);\n  };\n}\n","'use strict';\n\nvar find = require('./find');\n/**\n * Transform sort format from user friendly notation to lodash format\n * @param {string[]} sortBy array of predicate of the form \"attribute:order\"\n * @param {string[]} [defaults] array of predicate of the form \"attribute:order\"\n * @return {array.<string[]>} array containing 2 elements : attributes, orders\n */\n\n\nmodule.exports = function formatSort(sortBy, defaults) {\n  var defaultInstructions = (defaults || []).map(function (sort) {\n    return sort.split(':');\n  });\n  return sortBy.reduce(function preparePredicate(out, sort) {\n    var sortInstruction = sort.split(':');\n    var matchingDefault = find(defaultInstructions, function (defaultInstruction) {\n      return defaultInstruction[0] === sortInstruction[0];\n    });\n\n    if (sortInstruction.length > 1 || !matchingDefault) {\n      out[0].push(sortInstruction[0]);\n      out[1].push(sortInstruction[1]);\n      return out;\n    }\n\n    out[0].push(matchingDefault[0]);\n    out[1].push(matchingDefault[1]);\n    return out;\n  }, [[], []]);\n};","import { default as React, useEffect, useState } from \"react\"\nimport { media } from 'theme'\nimport { connectHits, Highlight } from \"react-instantsearch-dom\"\nimport './Search.css'\n\nconst ignoreStrings = ['Watch the tutorial', 'Watch an explanation video', 'Watch video', 'Watch the video tutorial']\n\nconst HitsInIndex = ({ query, hits }) => {\n\n    const [selected, setSelected] = useState(undefined);\n    const downPress = useKeyPress(\"ArrowDown\");\n    const upPress = useKeyPress(\"ArrowUp\");\n    const enterPress = useKeyPress(\"Enter\");\n    const [cursor, setCursor] = useState(0);\n    const [hovered, setHovered] = useState(undefined);\n\n    useEffect(() => {\n        if (hits.length && downPress) {\n            setCursor(prevState =>\n                prevState < hits.length - 1 ? prevState + 1 : prevState\n            );\n        }\n    }, [downPress]);\n    useEffect(() => {\n        if (hits.length && upPress) {\n            setCursor(prevState => (prevState > 0 ? prevState - 1 : prevState));\n        }\n    }, [upPress]);\n    useEffect(() => {\n        if (hits.length && enterPress) {\n            setSelected(hits[cursor]);\n        }\n    }, [cursor, enterPress]);\n    useEffect(() => {\n        if (hits.length && hovered) {\n            setCursor(hits.indexOf(hovered));\n        }\n    }, [hovered]);\n\n\n\n    return (\n        <>\n            {hits.map((hit, i) => {\n\n                const onLink = (url) => e => {\n                    e.preventDefault()\n                    window.location.href = url\n                }\n\n                const getLink = (title) => {\n                    return `${hit.slug}#${title.replace(/\\s/ig, '-').replace(/[\\?!.<>,’]/ig, '').toLowerCase()}`\n                }\n\n\n\n                const headings = hit.headings\n                    .filter(({ value }) => {\n                        if (!value || ignoreStrings.some(string => string.includes(value))) {\n                            return false\n                        }\n                        return value.toLowerCase().includes(query)\n                    })\n                    .map(({ value }, i) => {\n                        if (value.includes('<code class')) {\n                            value = value.split('>')[1].split('<')[0]\n                        }\n\n                        return (\n                            <a key={i} className=\"resultLink\" href={getLink(value)} onClick={onLink(getLink(value))}  >\n                                <h5\n                                    css={{\n                                        marginBottom: 10\n                                    }}>\n                                    {value}\n                                </h5>\n                            </a>\n                        )\n                    })\n                if (headings.length === 0) {\n                    headings.push(\n                        <a key={1} className=\"resultLink\" href={getLink(hit.title)} onClick={onLink(getLink(hit.title))} >\n                            <h5>{hit.title}</h5>\n                        </a>\n                    )\n                }\n\n                return (\n                    <div\n                        onClick={() => setSelected(item)}\n                        // onMouseEnter={() => setHovered(item)}\n                        // onMouseLeave={() => setHovered(undefined)}\n                        className={`resultHit ${i === cursor ? \"active\" : \"\"}`}\n                        style={{\n                            display: 'grid',\n                            gridTemplateColumns: '37% 61%',\n                            gridGap: '2%',\n                            margin: '10px 0',\n                        }}>\n                        <a href={getLink(hit.title)} onClick={onLink(getLink(hit.title))} >\n                            <div\n                                css={{\n                                    fontSize: 20,\n                                    color: '#777',\n                                    paddingLeft: 20,\n                                    // borderRight: '1px solid #999',\n                                    [media.lessThan('large')]: {\n                                        fontSize: 16,\n                                    },\n                                    [media.lessThan('medium')]: {\n                                        fontSize: 16,\n                                    },\n                                }}>\n                                {hit.title}\n                            </div>\n                        </a >\n                        <div css={{\n                            fontSize: 20,\n                            [media.lessThan('large')]: {\n                                fontSize: 16,\n                            },\n                            [media.lessThan('medium')]: {\n                                fontSize: 16,\n                            },\n                            'hover': {\n                                marginRight: '-3px'\n                            },\n                        }}>\n                            {headings}\n                        </div>\n                    </div>\n                )\n            })}\n        </>\n    )\n}\n\nconst useKeyPress = (targetKey) => {\n    const [keyPressed, setKeyPressed] = useState(false)\n\n    const downHandler = ({ key }) => {\n        if (key === targetKey) {\n            setKeyPressed(true)\n        }\n    }\n    const upHandler = ({ key }) => {\n        if (key === targetKey) {\n            setKeyPressed(false)\n        }\n    }\n\n    useEffect(() => {\n        window.addEventListener(\"keydown\", downHandler)\n        window.addEventListener(\"keyup\", upHandler)\n\n        return () => {\n            window.removeEventListener(\"keydown\", downHandler)\n            window.removeEventListener(\"keyup\", upHandler)\n        }\n    })\n\n    return keyPressed\n}\n\n\nconst HitsOrAbsence = ({ hits, index, query }) => {\n\n    return (\n        <>\n            {\n                !!hits[0]\n                    ? <HitsInIndex\n                        index={index}\n                        query={query}\n                        hits={hits}\n                        // pressedKey={pressedKey}\n                    />\n                    : <div css={{ textAlign: 'center', marginTop: 10 }}>No results found</div>\n            }\n        </>\n    )\n}\n\nconst AllHits = connectHits(HitsOrAbsence)\n\n\nconst SearchResult = ({ indices, show, query }) => {\n\n    if (!show) {\n        return null\n    }\n\n    return (\n        <div\n            className=\"searchResult\"\n            css={{\n                display: 'block',\n                right: 0,\n                width: 600,\n                maxHeight: 400,\n                overflow: 'scroll',\n                // position: 'absolute',\n                zIndex: 2,\n                borderRadius: 5,\n                boxShadow: 'inset 0 0 10px #ddd',\n                top: '100%',\n                backgroundColor: '#fff',\n                color: '#000',\n                [media.lessThan('large')]: {\n                    width: 450,\n                },\n                [media.lessThan('medium')]: {\n                    width: \"350\",\n                    // position: 'static',\n\n                },\n            }}\n        >\n            {indices.map(index => (\n                <React.Fragment key={index.name}>\n                    <AllHits\n                        // pressedKey={pressedKey}\n                        index={index}\n                        query={query} />\n                </React.Fragment>\n            ))}\n        </div>\n    )\n}\n\nexport default SearchResult","/*! algoliasearch-lite.umd.js | 4.4.0 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */\n!function (e, t) {\n  \"object\" == typeof exports && \"undefined\" != typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : (e = e || self).algoliasearch = t();\n}(this, function () {\n  \"use strict\";\n\n  function e(e, t, r) {\n    return t in e ? Object.defineProperty(e, t, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }) : e[t] = r, e;\n  }\n\n  function t(e, t) {\n    var r = Object.keys(e);\n\n    if (Object.getOwnPropertySymbols) {\n      var n = Object.getOwnPropertySymbols(e);\n      t && (n = n.filter(function (t) {\n        return Object.getOwnPropertyDescriptor(e, t).enumerable;\n      })), r.push.apply(r, n);\n    }\n\n    return r;\n  }\n\n  function r(r) {\n    for (var n = 1; n < arguments.length; n++) {\n      var o = null != arguments[n] ? arguments[n] : {};\n      n % 2 ? t(Object(o), !0).forEach(function (t) {\n        e(r, t, o[t]);\n      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(r, Object.getOwnPropertyDescriptors(o)) : t(Object(o)).forEach(function (e) {\n        Object.defineProperty(r, e, Object.getOwnPropertyDescriptor(o, e));\n      });\n    }\n\n    return r;\n  }\n\n  function n(e, t) {\n    if (null == e) return {};\n\n    var r,\n        n,\n        o = function (e, t) {\n      if (null == e) return {};\n      var r,\n          n,\n          o = {},\n          a = Object.keys(e);\n\n      for (n = 0; n < a.length; n++) {\n        r = a[n], t.indexOf(r) >= 0 || (o[r] = e[r]);\n      }\n\n      return o;\n    }(e, t);\n\n    if (Object.getOwnPropertySymbols) {\n      var a = Object.getOwnPropertySymbols(e);\n\n      for (n = 0; n < a.length; n++) {\n        r = a[n], t.indexOf(r) >= 0 || Object.prototype.propertyIsEnumerable.call(e, r) && (o[r] = e[r]);\n      }\n    }\n\n    return o;\n  }\n\n  function o(e, t) {\n    return function (e) {\n      if (Array.isArray(e)) return e;\n    }(e) || function (e, t) {\n      if (!(Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e))) return;\n      var r = [],\n          n = !0,\n          o = !1,\n          a = void 0;\n\n      try {\n        for (var u, i = e[Symbol.iterator](); !(n = (u = i.next()).done) && (r.push(u.value), !t || r.length !== t); n = !0) {\n          ;\n        }\n      } catch (e) {\n        o = !0, a = e;\n      } finally {\n        try {\n          n || null == i.return || i.return();\n        } finally {\n          if (o) throw a;\n        }\n      }\n\n      return r;\n    }(e, t) || function () {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }();\n  }\n\n  function a(e) {\n    return function (e) {\n      if (Array.isArray(e)) {\n        for (var t = 0, r = new Array(e.length); t < e.length; t++) {\n          r[t] = e[t];\n        }\n\n        return r;\n      }\n    }(e) || function (e) {\n      if (Symbol.iterator in Object(e) || \"[object Arguments]\" === Object.prototype.toString.call(e)) return Array.from(e);\n    }(e) || function () {\n      throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n    }();\n  }\n\n  function u(e) {\n    var t,\n        r = \"algoliasearch-client-js-\".concat(e.key),\n        n = function n() {\n      return void 0 === t && (t = e.localStorage || window.localStorage), t;\n    },\n        a = function a() {\n      return JSON.parse(n().getItem(r) || \"{}\");\n    };\n\n    return {\n      get: function get(e, t) {\n        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        };\n        return Promise.resolve().then(function () {\n          var r = JSON.stringify(e),\n              n = a()[r];\n          return Promise.all([n || t(), void 0 !== n]);\n        }).then(function (e) {\n          var t = o(e, 2),\n              n = t[0],\n              a = t[1];\n          return Promise.all([n, a || r.miss(n)]);\n        }).then(function (e) {\n          return o(e, 1)[0];\n        });\n      },\n      set: function set(e, t) {\n        return Promise.resolve().then(function () {\n          var o = a();\n          return o[JSON.stringify(e)] = t, n().setItem(r, JSON.stringify(o)), t;\n        });\n      },\n      delete: function _delete(e) {\n        return Promise.resolve().then(function () {\n          var t = a();\n          delete t[JSON.stringify(e)], n().setItem(r, JSON.stringify(t));\n        });\n      },\n      clear: function clear() {\n        return Promise.resolve().then(function () {\n          n().removeItem(r);\n        });\n      }\n    };\n  }\n\n  function i(e) {\n    var t = a(e.caches),\n        r = t.shift();\n    return void 0 === r ? {\n      get: function get(e, t) {\n        var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        },\n            n = t();\n        return n.then(function (e) {\n          return Promise.all([e, r.miss(e)]);\n        }).then(function (e) {\n          return o(e, 1)[0];\n        });\n      },\n      set: function set(e, t) {\n        return Promise.resolve(t);\n      },\n      delete: function _delete(e) {\n        return Promise.resolve();\n      },\n      clear: function clear() {\n        return Promise.resolve();\n      }\n    } : {\n      get: function get(e, n) {\n        var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        };\n        return r.get(e, n, o).catch(function () {\n          return i({\n            caches: t\n          }).get(e, n, o);\n        });\n      },\n      set: function set(e, n) {\n        return r.set(e, n).catch(function () {\n          return i({\n            caches: t\n          }).set(e, n);\n        });\n      },\n      delete: function _delete(e) {\n        return r.delete(e).catch(function () {\n          return i({\n            caches: t\n          }).delete(e);\n        });\n      },\n      clear: function clear() {\n        return r.clear().catch(function () {\n          return i({\n            caches: t\n          }).clear();\n        });\n      }\n    };\n  }\n\n  function s() {\n    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {\n      serializable: !0\n    },\n        t = {};\n    return {\n      get: function get(r, n) {\n        var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {\n          miss: function miss() {\n            return Promise.resolve();\n          }\n        },\n            a = JSON.stringify(r);\n        if (a in t) return Promise.resolve(e.serializable ? JSON.parse(t[a]) : t[a]);\n\n        var u = n(),\n            i = o && o.miss || function () {\n          return Promise.resolve();\n        };\n\n        return u.then(function (e) {\n          return i(e);\n        }).then(function () {\n          return u;\n        });\n      },\n      set: function set(r, n) {\n        return t[JSON.stringify(r)] = e.serializable ? JSON.stringify(n) : n, Promise.resolve(n);\n      },\n      delete: function _delete(e) {\n        return delete t[JSON.stringify(e)], Promise.resolve();\n      },\n      clear: function clear() {\n        return t = {}, Promise.resolve();\n      }\n    };\n  }\n\n  function c(e) {\n    for (var t = e.length - 1; t > 0; t--) {\n      var r = Math.floor(Math.random() * (t + 1)),\n          n = e[t];\n      e[t] = e[r], e[r] = n;\n    }\n\n    return e;\n  }\n\n  function l(e, t) {\n    return Object.keys(void 0 !== t ? t : {}).forEach(function (r) {\n      e[r] = t[r](e);\n    }), e;\n  }\n\n  function f(e) {\n    for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) {\n      r[n - 1] = arguments[n];\n    }\n\n    var o = 0;\n    return e.replace(/%s/g, function () {\n      return encodeURIComponent(r[o++]);\n    });\n  }\n\n  var h = {\n    WithinQueryParameters: 0,\n    WithinHeaders: 1\n  };\n\n  function d(e, t) {\n    var r = e || {},\n        n = r.data || {};\n    return Object.keys(r).forEach(function (e) {\n      -1 === [\"timeout\", \"headers\", \"queryParameters\", \"data\", \"cacheable\"].indexOf(e) && (n[e] = r[e]);\n    }), {\n      data: Object.entries(n).length > 0 ? n : void 0,\n      timeout: r.timeout || t,\n      headers: r.headers || {},\n      queryParameters: r.queryParameters || {},\n      cacheable: r.cacheable\n    };\n  }\n\n  var m = {\n    Read: 1,\n    Write: 2,\n    Any: 3\n  },\n      p = 1,\n      v = 2,\n      g = 3;\n\n  function y(e) {\n    var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : p;\n    return r({}, e, {\n      status: t,\n      lastUpdate: Date.now()\n    });\n  }\n\n  function b(e) {\n    return {\n      protocol: e.protocol || \"https\",\n      url: e.url,\n      accept: e.accept || m.Any\n    };\n  }\n\n  var O = \"GET\",\n      P = \"POST\";\n\n  function q(e, t) {\n    return Promise.all(t.map(function (t) {\n      return e.get(t, function () {\n        return Promise.resolve(y(t));\n      });\n    })).then(function (e) {\n      var r = e.filter(function (e) {\n        return function (e) {\n          return e.status === p || Date.now() - e.lastUpdate > 12e4;\n        }(e);\n      }),\n          n = e.filter(function (e) {\n        return function (e) {\n          return e.status === g && Date.now() - e.lastUpdate <= 12e4;\n        }(e);\n      }),\n          o = [].concat(a(r), a(n));\n      return {\n        getTimeout: function getTimeout(e, t) {\n          return (0 === n.length && 0 === e ? 1 : n.length + 3 + e) * t;\n        },\n        statelessHosts: o.length > 0 ? o.map(function (e) {\n          return b(e);\n        }) : t\n      };\n    });\n  }\n\n  function j(e, t, n, o) {\n    var u = [],\n        i = function (e, t) {\n      if (e.method === O || void 0 === e.data && void 0 === t.data) return;\n      var n = Array.isArray(e.data) ? e.data : r({}, e.data, {}, t.data);\n      return JSON.stringify(n);\n    }(n, o),\n        s = function (e, t) {\n      var n = r({}, e.headers, {}, t.headers),\n          o = {};\n      return Object.keys(n).forEach(function (e) {\n        var t = n[e];\n        o[e.toLowerCase()] = t;\n      }), o;\n    }(e, o),\n        c = n.method,\n        l = n.method !== O ? {} : r({}, n.data, {}, o.data),\n        f = r({\n      \"x-algolia-agent\": e.userAgent.value\n    }, e.queryParameters, {}, l, {}, o.queryParameters),\n        h = 0,\n        d = function t(r, a) {\n      var l = r.pop();\n      if (void 0 === l) throw {\n        name: \"RetryError\",\n        message: \"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.\",\n        transporterStackTrace: A(u)\n      };\n\n      var d = {\n        data: i,\n        headers: s,\n        method: c,\n        url: w(l, n.path, f),\n        connectTimeout: a(h, e.timeouts.connect),\n        responseTimeout: a(h, o.timeout)\n      },\n          m = function m(e) {\n        var t = {\n          request: d,\n          response: e,\n          host: l,\n          triesLeft: r.length\n        };\n        return u.push(t), t;\n      },\n          p = {\n        onSucess: function onSucess(e) {\n          return function (e) {\n            try {\n              return JSON.parse(e.content);\n            } catch (t) {\n              throw function (e, t) {\n                return {\n                  name: \"DeserializationError\",\n                  message: e,\n                  response: t\n                };\n              }(t.message, e);\n            }\n          }(e);\n        },\n        onRetry: function onRetry(n) {\n          var o = m(n);\n          return n.isTimedOut && h++, Promise.all([e.logger.info(\"Retryable failure\", x(o)), e.hostsCache.set(l, y(l, n.isTimedOut ? g : v))]).then(function () {\n            return t(r, a);\n          });\n        },\n        onFail: function onFail(e) {\n          throw m(e), function (e, t) {\n            var r = e.content,\n                n = e.status,\n                o = r;\n\n            try {\n              o = JSON.parse(r).message;\n            } catch (e) {}\n\n            return function (e, t, r) {\n              return {\n                name: \"ApiError\",\n                message: e,\n                status: t,\n                transporterStackTrace: r\n              };\n            }(o, n, t);\n          }(e, A(u));\n        }\n      };\n\n      return e.requester.send(d).then(function (e) {\n        return function (e, t) {\n          return function (e) {\n            var t = e.status;\n            return e.isTimedOut || function (e) {\n              var t = e.isTimedOut,\n                  r = e.status;\n              return !t && 0 == ~~r;\n            }(e) || 2 != ~~(t / 100) && 4 != ~~(t / 100);\n          }(e) ? t.onRetry(e) : 2 == ~~(e.status / 100) ? t.onSucess(e) : t.onFail(e);\n        }(e, p);\n      });\n    };\n\n    return q(e.hostsCache, t).then(function (e) {\n      return d(a(e.statelessHosts).reverse(), e.getTimeout);\n    });\n  }\n\n  function S(e) {\n    var t = {\n      value: \"Algolia for JavaScript (\".concat(e, \")\"),\n      add: function add(e) {\n        var r = \"; \".concat(e.segment).concat(void 0 !== e.version ? \" (\".concat(e.version, \")\") : \"\");\n        return -1 === t.value.indexOf(r) && (t.value = \"\".concat(t.value).concat(r)), t;\n      }\n    };\n    return t;\n  }\n\n  function w(e, t, r) {\n    var n = T(r),\n        o = \"\".concat(e.protocol, \"://\").concat(e.url, \"/\").concat(\"/\" === t.charAt(0) ? t.substr(1) : t);\n    return n.length && (o += \"?\".concat(n)), o;\n  }\n\n  function T(e) {\n    return Object.keys(e).map(function (t) {\n      return f(\"%s=%s\", t, (r = e[t], \"[object Object]\" === Object.prototype.toString.call(r) || \"[object Array]\" === Object.prototype.toString.call(r) ? JSON.stringify(e[t]) : e[t]));\n      var r;\n    }).join(\"&\");\n  }\n\n  function A(e) {\n    return e.map(function (e) {\n      return x(e);\n    });\n  }\n\n  function x(e) {\n    var t = e.request.headers[\"x-algolia-api-key\"] ? {\n      \"x-algolia-api-key\": \"*****\"\n    } : {};\n    return r({}, e, {\n      request: r({}, e.request, {\n        headers: r({}, e.request.headers, {}, t)\n      })\n    });\n  }\n\n  var C = function C(e) {\n    var t = e.appId,\n        n = function (e, t, r) {\n      var n = {\n        \"x-algolia-api-key\": r,\n        \"x-algolia-application-id\": t\n      };\n      return {\n        headers: function headers() {\n          return e === h.WithinHeaders ? n : {};\n        },\n        queryParameters: function queryParameters() {\n          return e === h.WithinQueryParameters ? n : {};\n        }\n      };\n    }(void 0 !== e.authMode ? e.authMode : h.WithinHeaders, t, e.apiKey),\n        a = function (e) {\n      var t = e.hostsCache,\n          r = e.logger,\n          n = e.requester,\n          a = e.requestsCache,\n          u = e.responsesCache,\n          i = e.timeouts,\n          s = e.userAgent,\n          c = e.hosts,\n          l = e.queryParameters,\n          f = {\n        hostsCache: t,\n        logger: r,\n        requester: n,\n        requestsCache: a,\n        responsesCache: u,\n        timeouts: i,\n        userAgent: s,\n        headers: e.headers,\n        queryParameters: l,\n        hosts: c.map(function (e) {\n          return b(e);\n        }),\n        read: function read(e, t) {\n          var r = d(t, f.timeouts.read),\n              n = function n() {\n            return j(f, f.hosts.filter(function (e) {\n              return 0 != (e.accept & m.Read);\n            }), e, r);\n          };\n\n          if (!0 !== (void 0 !== r.cacheable ? r.cacheable : e.cacheable)) return n();\n          var a = {\n            request: e,\n            mappedRequestOptions: r,\n            transporter: {\n              queryParameters: f.queryParameters,\n              headers: f.headers\n            }\n          };\n          return f.responsesCache.get(a, function () {\n            return f.requestsCache.get(a, function () {\n              return f.requestsCache.set(a, n()).then(function (e) {\n                return Promise.all([f.requestsCache.delete(a), e]);\n              }, function (e) {\n                return Promise.all([f.requestsCache.delete(a), Promise.reject(e)]);\n              }).then(function (e) {\n                var t = o(e, 2);\n                t[0];\n                return t[1];\n              });\n            });\n          }, {\n            miss: function miss(e) {\n              return f.responsesCache.set(a, e);\n            }\n          });\n        },\n        write: function write(e, t) {\n          return j(f, f.hosts.filter(function (e) {\n            return 0 != (e.accept & m.Write);\n          }), e, d(t, f.timeouts.write));\n        }\n      };\n      return f;\n    }(r({\n      hosts: [{\n        url: \"\".concat(t, \"-dsn.algolia.net\"),\n        accept: m.Read\n      }, {\n        url: \"\".concat(t, \".algolia.net\"),\n        accept: m.Write\n      }].concat(c([{\n        url: \"\".concat(t, \"-1.algolianet.com\")\n      }, {\n        url: \"\".concat(t, \"-2.algolianet.com\")\n      }, {\n        url: \"\".concat(t, \"-3.algolianet.com\")\n      }]))\n    }, e, {\n      headers: r({}, n.headers(), {}, {\n        \"content-type\": \"application/x-www-form-urlencoded\"\n      }, {}, e.headers),\n      queryParameters: r({}, n.queryParameters(), {}, e.queryParameters)\n    }));\n\n    return l({\n      transporter: a,\n      appId: t,\n      addAlgoliaAgent: function addAlgoliaAgent(e, t) {\n        a.userAgent.add({\n          segment: e,\n          version: t\n        });\n      },\n      clearCache: function clearCache() {\n        return Promise.all([a.requestsCache.clear(), a.responsesCache.clear()]).then(function () {});\n      }\n    }, e.methods);\n  },\n      N = function N(e) {\n    return function (t) {\n      var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n          n = {\n        transporter: e.transporter,\n        appId: e.appId,\n        indexName: t\n      };\n      return l(n, r.methods);\n    };\n  },\n      k = function k(e) {\n    return function (t, n) {\n      var o = t.map(function (e) {\n        return r({}, e, {\n          params: T(e.params || {})\n        });\n      });\n      return e.transporter.read({\n        method: P,\n        path: \"1/indexes/*/queries\",\n        data: {\n          requests: o\n        },\n        cacheable: !0\n      }, n);\n    };\n  },\n      J = function J(e) {\n    return function (t, o) {\n      return Promise.all(t.map(function (t) {\n        var a = t.params,\n            u = a.facetName,\n            i = a.facetQuery,\n            s = n(a, [\"facetName\", \"facetQuery\"]);\n        return N(e)(t.indexName, {\n          methods: {\n            searchForFacetValues: I\n          }\n        }).searchForFacetValues(u, i, r({}, o, {}, s));\n      }));\n    };\n  },\n      E = function E(e) {\n    return function (t, r) {\n      return e.transporter.read({\n        method: P,\n        path: f(\"1/indexes/%s/query\", e.indexName),\n        data: {\n          query: t\n        },\n        cacheable: !0\n      }, r);\n    };\n  },\n      I = function I(e) {\n    return function (t, r, n) {\n      return e.transporter.read({\n        method: P,\n        path: f(\"1/indexes/%s/facets/%s/query\", e.indexName, t),\n        data: {\n          facetQuery: r\n        },\n        cacheable: !0\n      }, n);\n    };\n  },\n      F = 1,\n      R = 2,\n      D = 3;\n\n  function W(e, t, n) {\n    var o,\n        a = {\n      appId: e,\n      apiKey: t,\n      timeouts: {\n        connect: 1,\n        read: 2,\n        write: 30\n      },\n      requester: {\n        send: function send(e) {\n          return new Promise(function (t) {\n            var r = new XMLHttpRequest();\n            r.open(e.method, e.url, !0), Object.keys(e.headers).forEach(function (t) {\n              return r.setRequestHeader(t, e.headers[t]);\n            });\n\n            var n,\n                o = function o(e, n) {\n              return setTimeout(function () {\n                r.abort(), t({\n                  status: 0,\n                  content: n,\n                  isTimedOut: !0\n                });\n              }, 1e3 * e);\n            },\n                a = o(e.connectTimeout, \"Connection timeout\");\n\n            r.onreadystatechange = function () {\n              r.readyState > r.OPENED && void 0 === n && (clearTimeout(a), n = o(e.responseTimeout, \"Socket timeout\"));\n            }, r.onerror = function () {\n              0 === r.status && (clearTimeout(a), clearTimeout(n), t({\n                content: r.responseText || \"Network request failed\",\n                status: r.status,\n                isTimedOut: !1\n              }));\n            }, r.onload = function () {\n              clearTimeout(a), clearTimeout(n), t({\n                content: r.responseText,\n                status: r.status,\n                isTimedOut: !1\n              });\n            }, r.send(e.data);\n          });\n        }\n      },\n      logger: (o = D, {\n        debug: function debug(e, t) {\n          return F >= o && console.debug(e, t), Promise.resolve();\n        },\n        info: function info(e, t) {\n          return R >= o && console.info(e, t), Promise.resolve();\n        },\n        error: function error(e, t) {\n          return console.error(e, t), Promise.resolve();\n        }\n      }),\n      responsesCache: s(),\n      requestsCache: s({\n        serializable: !1\n      }),\n      hostsCache: i({\n        caches: [u({\n          key: \"\".concat(\"4.4.0\", \"-\").concat(e)\n        }), s()]\n      }),\n      userAgent: S(\"4.4.0\").add({\n        segment: \"Browser\",\n        version: \"lite\"\n      }),\n      authMode: h.WithinQueryParameters\n    };\n    return C(r({}, a, {}, n, {\n      methods: {\n        search: k,\n        searchForFacetValues: J,\n        multipleQueries: k,\n        multipleSearchForFacetValues: J,\n        initIndex: function initIndex(e) {\n          return function (t) {\n            return N(e)(t, {\n              methods: {\n                search: E,\n                searchForFacetValues: I\n              }\n            });\n          };\n        }\n      }\n    }));\n  }\n\n  return W.version = \"4.4.0\", W;\n});","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\"; // From https://github.com/reactjs/react-redux/blob/master/src/utils/shallowEqual.js\n\nexport var shallowEqual = function shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  } // Test for A's keys different from B.\n\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n  }\n\n  return true;\n};\nexport var getDisplayName = function getDisplayName(Component) {\n  return Component.displayName || Component.name || 'UnknownComponent';\n};\nvar resolved = Promise.resolve();\nexport var defer = function defer(f) {\n  resolved.then(f);\n};\n\nvar isPlainObject = function isPlainObject(value) {\n  return _typeof(value) === 'object' && value !== null && !Array.isArray(value);\n};\n\nexport var removeEmptyKey = function removeEmptyKey(obj) {\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n\n    if (!isPlainObject(value)) {\n      return;\n    }\n\n    if (!objectHasKeys(value)) {\n      delete obj[key];\n    } else {\n      removeEmptyKey(value);\n    }\n  });\n  return obj;\n};\nexport var removeEmptyArraysFromObject = function removeEmptyArraysFromObject(obj) {\n  Object.keys(obj).forEach(function (key) {\n    var value = obj[key];\n\n    if (Array.isArray(value) && value.length === 0) {\n      delete obj[key];\n    }\n  });\n  return obj;\n};\nexport function addAbsolutePositions(hits, hitsPerPage, page) {\n  return hits.map(function (hit, index) {\n    return _objectSpread({}, hit, {\n      __position: hitsPerPage * page + index + 1\n    });\n  });\n}\nexport function addQueryID(hits, queryID) {\n  if (!queryID) {\n    return hits;\n  }\n\n  return hits.map(function (hit) {\n    return _objectSpread({}, hit, {\n      __queryID: queryID\n    });\n  });\n}\nexport function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n\n  return undefined;\n}\nexport function objectHasKeys(object) {\n  return object && Object.keys(object).length > 0;\n} // https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\n\nexport function omit(source, excluded) {\n  if (source === null || source === undefined) {\n    return {};\n  }\n\n  var target = {};\n  var sourceKeys = Object.keys(source);\n\n  for (var i = 0; i < sourceKeys.length; i++) {\n    var _key = sourceKeys[i];\n\n    if (excluded.indexOf(_key) >= 0) {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    target[_key] = source[_key];\n  }\n\n  return target;\n}\n/**\n * Retrieve the value at a path of the object:\n *\n * @example\n * getPropertyByPath(\n *   { test: { this: { function: [{ now: { everyone: true } }] } } },\n *   'test.this.function[0].now.everyone'\n * ); // true\n *\n * getPropertyByPath(\n *   { test: { this: { function: [{ now: { everyone: true } }] } } },\n *   ['test', 'this', 'function', 0, 'now', 'everyone']\n * ); // true\n *\n * @param object Source object to query\n * @param path either an array of properties, or a string form of the properties, separated by .\n */\n\nexport var getPropertyByPath = function getPropertyByPath(object, path) {\n  return (Array.isArray(path) ? path : path.replace(/\\[(\\d+)]/g, '.$1').split('.')).reduce(function (current, key) {\n    return current ? current[key] : undefined;\n  }, object);\n};\nexport function getObjectType(object) {\n  return Object.prototype.toString.call(object).slice(8, -1);\n}","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","'use strict';\n\nfunction clone(value) {\n  if (typeof value === 'object' && value !== null) {\n    return _merge(Array.isArray(value) ? [] : {}, value);\n  }\n\n  return value;\n}\n\nfunction isObjectOrArrayOrFunction(value) {\n  return typeof value === 'function' || Array.isArray(value) || Object.prototype.toString.call(value) === '[object Object]';\n}\n\nfunction _merge(target, source) {\n  if (target === source) {\n    return target;\n  }\n\n  for (var key in source) {\n    if (!Object.prototype.hasOwnProperty.call(source, key)) {\n      continue;\n    }\n\n    var sourceVal = source[key];\n    var targetVal = target[key];\n\n    if (typeof targetVal !== 'undefined' && typeof sourceVal === 'undefined') {\n      continue;\n    }\n\n    if (isObjectOrArrayOrFunction(targetVal) && isObjectOrArrayOrFunction(sourceVal)) {\n      target[key] = _merge(targetVal, sourceVal);\n    } else {\n      target[key] = clone(sourceVal);\n    }\n  }\n\n  return target;\n}\n/**\n * This method is like Object.assign, but recursively merges own and inherited\n * enumerable keyed properties of source objects into the destination object.\n *\n * NOTE: this behaves like lodash/merge, but:\n * - does mutate functions if they are a source\n * - treats non-plain objects as plain\n * - does not work for circular objects\n * - treats sparse arrays as sparse\n * - does not convert Array-like objects (Arguments, NodeLists, etc.) to arrays\n *\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n */\n\n\nfunction merge(target) {\n  if (!isObjectOrArrayOrFunction(target)) {\n    target = {};\n  }\n\n  for (var i = 1, l = arguments.length; i < l; i++) {\n    var source = arguments[i];\n\n    if (isObjectOrArrayOrFunction(source)) {\n      _merge(target, source);\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = merge;","'use strict'; // @MAJOR can be replaced by native Array#find when we change support\n\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return undefined;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return array[i];\n    }\n  }\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport Helmet from 'react-helmet';\nimport React from 'react';\nimport {urlRoot} from 'site-constants';\n// $FlowFixMe This is a valid path\nimport languages from '../../../content/languages.yml';\n\nconst defaultDescription = 'The fastest Open-Source theme for Magento 2';\n\ntype Props = {\n  title: string,\n  ogDescription: string,\n  canonicalUrl: string,\n};\n\n// only provide alternate links to pages in languages where 95-100% of core content has been translated\n// which is determined by status enum of 2\nconst completeLanguages = languages.filter(language => {\n  return language.status == 2;\n});\n\nconst alternatePages = canonicalUrl => {\n  return completeLanguages.map(language => (\n    <link\n      key={('alt-', language.code)}\n      rel=\"alternate\"\n      hreflang={language.code}\n      href={canonicalUrl.replace(\n        urlRoot,\n        `https://${\n          language.code === 'en' ? '' : `${language.code}.`\n        }reactjs.org`,\n      )}\n    />\n  ));\n};\n\nconst defaultPage = canonicalUrl => {\n  return canonicalUrl.replace(urlRoot, 'https://reactjs.org');\n};\n\nconst TitleAndMetaTags = ({title, ogDescription, canonicalUrl}: Props) => {\n  return (\n    <Helmet title={title}>\n      <meta property=\"og:title\" content={title} />\n      <meta property=\"og:type\" content=\"website\" />\n      {canonicalUrl && <meta property=\"og:url\" content={canonicalUrl} />}\n      <meta\n        property=\"og:description\"\n        content={ogDescription || defaultDescription}\n      />\n      <meta property=\"fb:app_id\" content=\"623268441017527\" />\n      {canonicalUrl && <link rel=\"canonical\" href={canonicalUrl} />}\n      {canonicalUrl && (\n        <link\n          rel=\"alternate\"\n          href={defaultPage(canonicalUrl)}\n          hreflang=\"x-default\"\n        />\n      )}\n      {canonicalUrl && alternatePages(canonicalUrl)}\n    </Helmet>\n  );\n};\n\nexport default TitleAndMetaTags;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport TitleAndMetaTags from './TitleAndMetaTags';\n\nexport default TitleAndMetaTags;\n","//\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || ret === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n};","'use strict';\n/**\n * Functions to manipulate refinement lists\n *\n * The RefinementList is not formally defined through a prototype but is based\n * on a specific structure.\n *\n * @module SearchParameters.refinementList\n *\n * @typedef {string[]} SearchParameters.refinementList.Refinements\n * @typedef {Object.<string, SearchParameters.refinementList.Refinements>} SearchParameters.refinementList.RefinementList\n */\n\nvar defaultsPure = require('../functions/defaultsPure');\n\nvar omit = require('../functions/omit');\n\nvar objectHasKeys = require('../functions/objectHasKeys');\n\nvar lib = {\n  /**\n   * Adds a refinement to a RefinementList\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement, if the value is not a string it will be converted\n   * @return {RefinementList} a new and updated refinement list\n   */\n  addRefinement: function addRefinement(refinementList, attribute, value) {\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return refinementList;\n    }\n\n    var valueAsString = '' + value;\n    var facetRefinement = !refinementList[attribute] ? [valueAsString] : refinementList[attribute].concat(valueAsString);\n    var mod = {};\n    mod[attribute] = facetRefinement;\n    return defaultsPure({}, mod, refinementList);\n  },\n\n  /**\n   * Removes refinement(s) for an attribute:\n   *  - if the value is specified removes the refinement for the value on the attribute\n   *  - if no value is specified removes all the refinements for this attribute\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} [value] the value of the refinement\n   * @return {RefinementList} a new and updated refinement lst\n   */\n  removeRefinement: function removeRefinement(refinementList, attribute, value) {\n    if (value === undefined) {\n      // we use the \"filter\" form of clearRefinement, since it leaves empty values as-is\n      // the form with a string will remove the attribute completely\n      return lib.clearRefinement(refinementList, function (v, f) {\n        return attribute === f;\n      });\n    }\n\n    var valueAsString = '' + value;\n    return lib.clearRefinement(refinementList, function (v, f) {\n      return attribute === f && valueAsString === v;\n    });\n  },\n\n  /**\n   * Toggles the refinement value for an attribute.\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} attribute the attribute to refine\n   * @param {string} value the value of the refinement\n   * @return {RefinementList} a new and updated list\n   */\n  toggleRefinement: function toggleRefinement(refinementList, attribute, value) {\n    if (value === undefined) throw new Error('toggleRefinement should be used with a value');\n\n    if (lib.isRefined(refinementList, attribute, value)) {\n      return lib.removeRefinement(refinementList, attribute, value);\n    }\n\n    return lib.addRefinement(refinementList, attribute, value);\n  },\n\n  /**\n   * Clear all or parts of a RefinementList. Depending on the arguments, three\n   * kinds of behavior can happen:\n   *  - if no attribute is provided: clears the whole list\n   *  - if an attribute is provided as a string: clears the list for the specific attribute\n   *  - if an attribute is provided as a function: discards the elements for which the function returns true\n   * @param {RefinementList} refinementList the initial list\n   * @param {string} [attribute] the attribute or function to discard\n   * @param {string} [refinementType] optional parameter to give more context to the attribute function\n   * @return {RefinementList} a new and updated refinement list\n   */\n  clearRefinement: function clearRefinement(refinementList, attribute, refinementType) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(refinementList)) {\n        return refinementList;\n      }\n\n      return {};\n    } else if (typeof attribute === 'string') {\n      return omit(refinementList, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n      var newRefinementList = Object.keys(refinementList).reduce(function (memo, key) {\n        var values = refinementList[key] || [];\n        var facetList = values.filter(function (value) {\n          return !attribute(value, key, refinementType);\n        });\n\n        if (facetList.length !== values.length) {\n          hasChanged = true;\n        }\n\n        memo[key] = facetList;\n        return memo;\n      }, {});\n      if (hasChanged) return newRefinementList;\n      return refinementList;\n    }\n  },\n\n  /**\n   * Test if the refinement value is used for the attribute. If no refinement value\n   * is provided, test if the refinementList contains any refinement for the\n   * given attribute.\n   * @param {RefinementList} refinementList the list of refinement\n   * @param {string} attribute name of the attribute\n   * @param {string} [refinementValue] value of the filter/refinement\n   * @return {boolean}\n   */\n  isRefined: function isRefined(refinementList, attribute, refinementValue) {\n    var containsRefinements = !!refinementList[attribute] && refinementList[attribute].length > 0;\n\n    if (refinementValue === undefined || !containsRefinements) {\n      return containsRefinements;\n    }\n\n    var refinementValueAsString = '' + refinementValue;\n    return refinementList[attribute].indexOf(refinementValueAsString) !== -1;\n  }\n};\nmodule.exports = lib;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport {Link} from 'gatsby';\nimport React from 'react';\nimport {colors, media} from 'theme';\n\nimport type {Node} from 'react';\n\ntype Props = {\n  children: Node,\n  target?: string,\n  to: string,\n};\n\nconst FooterLink = ({children, target, to}: Props) => (\n  <Link\n    css={{\n      lineHeight: 2,\n      marginRight: 20,\n      transition: 'color .1s ease',\n      [media.lessThan('large')]: {\n        marginBottom: 10,\n        marginRight: 0,\n      },\n      ':hover': {\n        color: colors.brand,\n      },\n    }}\n    to={to}\n    target={target}>\n    {children}\n  </Link>\n);\n\nexport default FooterLink;\n","'use strict';\nvar redefine = require('../internals/redefine');\nvar anObject = require('../internals/an-object');\nvar fails = require('../internals/fails');\nvar flags = require('../internals/regexp-flags');\n\nvar TO_STRING = 'toString';\nvar RegExpPrototype = RegExp.prototype;\nvar nativeToString = RegExpPrototype[TO_STRING];\n\nvar NOT_GENERIC = fails(function () { return nativeToString.call({ source: 'a', flags: 'b' }) != '/a/b'; });\n// FF44- RegExp#toString has a wrong name\nvar INCORRECT_NAME = nativeToString.name != TO_STRING;\n\n// `RegExp.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-regexp.prototype.tostring\nif (NOT_GENERIC || INCORRECT_NAME) {\n  redefine(RegExp.prototype, TO_STRING, function toString() {\n    var R = anObject(this);\n    var p = String(R.source);\n    var rf = R.flags;\n    var f = String(rf === undefined && R instanceof RegExp && !('flags' in RegExpPrototype) ? flags.call(R) : rf);\n    return '/' + p + '/' + f;\n  }, { unsafe: true });\n}\n","import { default as React, useEffect, useState } from \"react\"\nimport { media } from 'theme'\nimport { connectHits } from \"react-instantsearch-dom\"\nimport './Search.css'\n\n\nconst useKeyPress = (targetKey) => {\n    const [keyPressed, setKeyPressed] = useState(false);\n\n    const downHandler = (e) => {\n        if (e.key === \"Enter\" || e.key === \"Tab\") {\n            e.preventDefault()\n        }\n        if (e.key === targetKey) {\n            setKeyPressed(true)\n        }\n    }\n    const upHandler = (e) => {\n        if (e.key === \"Enter\" || e.key === \"Tab\") {\n            e.preventDefault()\n        }\n        if (e.key === targetKey) {\n            setKeyPressed(false)\n        }\n    }\n\n    useEffect(() => {\n        window.addEventListener(\"keydown\", downHandler)\n        window.addEventListener(\"keyup\", upHandler)\n\n        return () => {\n            window.removeEventListener(\"keydown\", downHandler)\n            window.removeEventListener(\"keyup\", upHandler)\n        }\n    })\n\n    return keyPressed\n}\n\nconst HitsInIndex = ({ hits }) => {\n\n    const downPress = useKeyPress(\"ArrowDown\");\n    const upPress = useKeyPress(\"ArrowUp\");\n    const enterPress = useKeyPress(\"Enter\");\n    const tabPress = useKeyPress(\"Tab\");\n    const [cursor, setCursor] = useState(5);\n    const [activeLinkUrl, setActiveLinkUrl] = useState('')\n    const [mouseIn, setMouseIn] = useState(false)\n    let quantity = null;\n\n    useEffect(() => {\n        if (hits.length && (downPress || tabPress)) {\n            setCursor(cursor < quantity ? cursor + 1 : 0);\n        }\n    }, [downPress]);\n\n    useEffect(() => {\n        if (hits.length && upPress) {\n            setCursor(cursor > 0 ? cursor - 1 : quantity);\n        }\n    }, [upPress]);\n\n    useEffect(() => {\n        if (activeLinkUrl && (enterPress || tabPress)) {\n            window.location.href = activeLinkUrl\n        }\n    }, [enterPress, tabPress])\n\n    const handleMouseEnter = () => {\n        setMouseIn(true)\n    }\n\n    const handleMouseLeave = () => {\n        setMouseIn(false)\n        setCursor(5)\n        setActiveLinkUrl('')\n    }\n\n\n\n    const getShortDescription = (description) => {\n        if (description.includes('<')) {\n            description = description.replace(/<\\S+>(.+?)<\\/\\S+>/gi, '$1')\n        }\n        if (description && description.split(' ').length > 11) {\n            const newDescription = description.split(' ').slice(0, 10).join(' ')\n            if ([',', '.'].some(sym => newDescription.endsWith(sym))) {\n                return newDescription.slice(0, -1) + '...'\n            }\n\n            else {\n                return newDescription + '...'\n            }\n        }\n        return description\n    }\n\n\n    return (\n        <>\n            <div className=\"FoundIn\">\n                <h2>\n                    Found in:\n                </h2>\n            </div>\n            <div>\n                <div\n                    onMouseEnter={handleMouseEnter}\n                    onMouseLeave={handleMouseLeave}\n                >\n                    {hits.filter((hit, i) => hit.title !== 'Page Not Found' && i < 5).map((hit, i) => {\n                        quantity = i + 1\n\n                        if (i === 0 && !activeLinkUrl) setActiveLinkUrl(hit.slug)\n                        else if (i === cursor && activeLinkUrl !== hit.slug) setActiveLinkUrl(hit.slug)\n\n                        return (\n                            <a key={i} href={hit.slug} >\n                                <div\n                                    className={`resultHit ${( i === cursor && !mouseIn ) ? \"active\" : \"\" }`}\n                                    style={{\n                                        display: 'grid',\n                                        gridTemplateColumns: '37% 61%',\n                                        gridGap: '2%',\n                                        margin: '10px 0',\n                                    }}>\n                                    <div\n                                        css={{\n                                            fontSize: 20,\n                                            color: '#777',\n                                            paddingLeft: 20,\n                                            [media.lessThan('large')]: {\n                                                fontSize: 16,\n                                            },\n                                            [media.lessThan('medium')]: {\n                                                fontSize: 16,\n                                            },\n                                        }}>\n                                        {hit.title}\n                                    </div>\n                                    <div css={{\n                                        fontSize: 20,\n                                        [media.lessThan('large')]: {\n                                            fontSize: 16,\n                                        },\n                                        [media.lessThan('medium')]: {\n                                            fontSize: 16,\n                                        },\n                                    }}>\n                                        {getShortDescription(hit.description)}\n                                    </div>\n                                </div>\n\n                            </a >\n                        )\n                    })}\n                </div>\n            </div>\n        </>\n    )\n}\n\n\n\nconst HitsOrAbsence = ({ hits, index, query }) => {\n\n    return (\n        <>\n            {\n                !!hits[0]\n                    ? <HitsInIndex\n                        index={index}\n                        query={query}\n                        hits={hits}\n                    />\n                    : <div css={{ textAlign: 'center', margin: '10px 0' }}>No results found</div>\n            }\n        </>\n    )\n}\n\nconst AllHits = connectHits(HitsOrAbsence)\n\n\nconst SearchResult = ({ indices, show, query }) => {\n\n    if (!show) {\n        return null\n    }\n\n    return (\n        <div\n            className=\"searchResult\"\n            css={{\n                display: 'block',\n                right: 0,\n                width: 600,\n                maxHeight: 600,\n                overflow: 'auto',\n                position: 'absolute',\n                zIndex: 2,\n                borderBottomRightRadius: 5,\n                borderBottomLeftRadius: 5,\n                boxShadow: 'inset 0 0 10px #ddd',\n                top: '100%',\n                backgroundColor: '#fff',\n                color: '#000',\n                [media.lessThan('large')]: {\n                    width: 450,\n                },\n                [media.lessThan('small')]: {\n                    position: 'fixed',\n                    top: '40px',\n                    width: '100%'\n                },\n            }}\n        >\n            {indices.map(index => (\n                <React.Fragment key={index.name}>\n                    <AllHits\n                        index={index}\n                        query={query} />\n                </React.Fragment>\n            ))}\n        </div>\n    )\n}\n\nexport default SearchResult","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\n\nvar events = require('events');\n\nvar inherits = require('../functions/inherits');\n/**\n * A DerivedHelper is a way to create sub requests to\n * Algolia from a main helper.\n * @class\n * @classdesc The DerivedHelper provides an event based interface for search callbacks:\n *  - search: when a search is triggered using the `search()` method.\n *  - result: when the response is retrieved from Algolia and is processed.\n *    This event contains a {@link SearchResults} object and the\n *    {@link SearchParameters} corresponding to this answer.\n */\n\n\nfunction DerivedHelper(mainHelper, fn) {\n  this.main = mainHelper;\n  this.fn = fn;\n  this.lastResults = null;\n}\n\ninherits(DerivedHelper, events.EventEmitter);\n/**\n * Detach this helper from the main helper\n * @return {undefined}\n * @throws Error if the derived helper is already detached\n */\n\nDerivedHelper.prototype.detach = function () {\n  this.removeAllListeners();\n  this.main.detachDerivedHelper(this);\n};\n\nDerivedHelper.prototype.getModifiedState = function (parameters) {\n  return this.fn(parameters);\n};\n\nmodule.exports = DerivedHelper;","import algoliasearch from \"algoliasearch/lite\"\nimport { createRef, default as React, useState } from \"react\"\nimport { InstantSearch } from \"react-instantsearch-dom\"\nimport SearchBox from \"./SearchBox\"\nimport SearchResult from \"./SearchResult\"\nimport SearchResultTitles from \"./SearchResultTitles\"\nimport useClickOutside from \"./useClickOutside\"\n\nexport default function Search({ indices }) {\n    const rootRef = createRef()\n    const [query, setQuery] = useState()\n    const [fieldValue, setFieldValue] = useState('')\n    const [hasFocus, setFocus] = useState(false)\n    const searchClient = algoliasearch(\n        process.env.GATSBY_ALGOLIA_APP_ID,\n        process.env.GATSBY_ALGOLIA_SEARCH_KEY\n    )\n\n    useClickOutside(rootRef, () => setFocus(false))\n\n    return (\n        <div\n            ref={rootRef}\n            css={{\n            position: 'relative',\n        }}>\n            <InstantSearch\n                searchClient={searchClient}\n                indexName={indices[0].name}\n                onSearchStateChange={({ query }) => setQuery(query)}\n            >\n                <SearchBox\n                    setQuery={setQuery}\n                    fieldValue={fieldValue}\n                    setFieldValue={setFieldValue}\n                    setFocus={setFocus}\n                    onFocus={() => setFocus(true)}\n                    hasFocus={hasFocus} />\n                <SearchResultTitles\n                    query={query}\n                    show={!!query}\n                    indices={indices}\n                />\n            </InstantSearch>\n        </div>\n    )\n}","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.asyncIterator` well-known symbol\n// https://tc39.github.io/ecma262/#sec-symbol.asynciterator\ndefineWellKnownSymbol('asyncIterator');\n","'use strict';\n\nvar AlgoliaSearchHelper = require('./src/algoliasearch.helper');\n\nvar SearchParameters = require('./src/SearchParameters');\n\nvar SearchResults = require('./src/SearchResults');\n/**\n * The algoliasearchHelper module is the function that will let its\n * contains everything needed to use the Algoliasearch\n * Helper. It is a also a function that instanciate the helper.\n * To use the helper, you also need the Algolia JS client v3.\n * @example\n * //using the UMD build\n * var client = algoliasearch('latency', '6be0576ff61c053d5f9a3225e2a90f76');\n * var helper = algoliasearchHelper(client, 'bestbuy', {\n *   facets: ['shipping'],\n *   disjunctiveFacets: ['category']\n * });\n * helper.on('result', function(event) {\n *   console.log(event.results);\n * });\n * helper\n *   .toggleFacetRefinement('category', 'Movies & TV Shows')\n *   .toggleFacetRefinement('shipping', 'Free shipping')\n *   .search();\n * @example\n * // The helper is an event emitter using the node API\n * helper.on('result', updateTheResults);\n * helper.once('result', updateTheResults);\n * helper.removeListener('result', updateTheResults);\n * helper.removeAllListeners('result');\n * @module algoliasearchHelper\n * @param  {AlgoliaSearch} client an AlgoliaSearch client\n * @param  {string} index the name of the index to query\n * @param  {SearchParameters|object} opts an object defining the initial config of the search. It doesn't have to be a {SearchParameters}, just an object containing the properties you need from it.\n * @return {AlgoliaSearchHelper}\n */\n\n\nfunction algoliasearchHelper(client, index, opts) {\n  return new AlgoliaSearchHelper(client, index, opts);\n}\n/**\n * The version currently used\n * @member module:algoliasearchHelper.version\n * @type {number}\n */\n\n\nalgoliasearchHelper.version = require('./src/version.js');\n/**\n * Constructor for the Helper.\n * @member module:algoliasearchHelper.AlgoliaSearchHelper\n * @type {AlgoliaSearchHelper}\n */\n\nalgoliasearchHelper.AlgoliaSearchHelper = AlgoliaSearchHelper;\n/**\n * Constructor for the object containing all the parameters of the search.\n * @member module:algoliasearchHelper.SearchParameters\n * @type {SearchParameters}\n */\n\nalgoliasearchHelper.SearchParameters = SearchParameters;\n/**\n * Constructor for the object containing the results of the search.\n * @member module:algoliasearchHelper.SearchResults\n * @type {SearchResults}\n */\n\nalgoliasearchHelper.SearchResults = SearchResults;\nmodule.exports = algoliasearchHelper;","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React, { Component } from 'react';\nimport isEqual from 'react-fast-compare';\nimport { shallowEqual, getDisplayName, removeEmptyKey } from './utils';\nimport { InstantSearchConsumer, IndexConsumer } from './context';\n/**\n * Connectors are the HOC used to transform React components\n * into InstantSearch widgets.\n * In order to simplify the construction of such connectors\n * `createConnector` takes a description and transform it into\n * a connector.\n * @param {ConnectorDescription} connectorDesc the description of the connector\n * @return {Connector} a function that wraps a component into\n * an instantsearch connected one.\n */\n\nexport function createConnectorWithoutContext(connectorDesc) {\n  if (!connectorDesc.displayName) {\n    throw new Error('`createConnector` requires you to provide a `displayName` property.');\n  }\n\n  var isWidget = typeof connectorDesc.getSearchParameters === 'function' || typeof connectorDesc.getMetadata === 'function' || typeof connectorDesc.transitionState === 'function';\n  return function (Composed) {\n    var Connector = /*#__PURE__*/function (_Component) {\n      _inherits(Connector, _Component);\n\n      function Connector(props) {\n        var _this;\n\n        _classCallCheck(this, Connector);\n\n        _this = _possibleConstructorReturn(this, _getPrototypeOf(Connector).call(this, props));\n\n        _defineProperty(_assertThisInitialized(_this), \"unsubscribe\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"unregisterWidget\", void 0);\n\n        _defineProperty(_assertThisInitialized(_this), \"isUnmounting\", false);\n\n        _defineProperty(_assertThisInitialized(_this), \"state\", {\n          providedProps: _this.getProvidedProps(_this.props)\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"refine\", function () {\n          var _ref;\n\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n\n          _this.props.contextValue.onInternalStateUpdate( // refine will always be defined here because the prop is only given conditionally\n          (_ref = connectorDesc.refine).call.apply(_ref, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"createURL\", function () {\n          var _ref2;\n\n          for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            args[_key2] = arguments[_key2];\n          }\n\n          return _this.props.contextValue.createHrefForState( // refine will always be defined here because the prop is only given conditionally\n          (_ref2 = connectorDesc.refine).call.apply(_ref2, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n\n        _defineProperty(_assertThisInitialized(_this), \"searchForFacetValues\", function () {\n          var _ref3;\n\n          for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n            args[_key3] = arguments[_key3];\n          }\n\n          _this.props.contextValue.onSearchForFacetValues( // searchForFacetValues will always be defined here because the prop is only given conditionally\n          (_ref3 = connectorDesc.searchForFacetValues).call.apply(_ref3, [_assertThisInitialized(_this), _this.props, _this.props.contextValue.store.getState().widgets].concat(args)));\n        });\n\n        if (connectorDesc.getSearchParameters) {\n          _this.props.contextValue.onSearchParameters(connectorDesc.getSearchParameters.bind(_assertThisInitialized(_this)), {\n            ais: _this.props.contextValue,\n            multiIndexContext: _this.props.indexContextValue\n          }, _this.props);\n        }\n\n        return _this;\n      }\n\n      _createClass(Connector, [{\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          var _this2 = this;\n\n          this.unsubscribe = this.props.contextValue.store.subscribe(function () {\n            if (!_this2.isUnmounting) {\n              _this2.setState({\n                providedProps: _this2.getProvidedProps(_this2.props)\n              });\n            }\n          });\n\n          if (isWidget) {\n            this.unregisterWidget = this.props.contextValue.widgetsManager.registerWidget(this);\n          }\n        }\n      }, {\n        key: \"shouldComponentUpdate\",\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          if (typeof connectorDesc.shouldComponentUpdate === 'function') {\n            return connectorDesc.shouldComponentUpdate.call(this, this.props, nextProps, this.state, nextState);\n          }\n\n          var propsEqual = shallowEqual(this.props, nextProps);\n\n          if (this.state.providedProps === null || nextState.providedProps === null) {\n            if (this.state.providedProps === nextState.providedProps) {\n              return !propsEqual;\n            }\n\n            return true;\n          }\n\n          return !propsEqual || !shallowEqual(this.state.providedProps, nextState.providedProps);\n        }\n      }, {\n        key: \"componentDidUpdate\",\n        value: function componentDidUpdate(prevProps) {\n          if (!isEqual(prevProps, this.props)) {\n            this.setState({\n              providedProps: this.getProvidedProps(this.props)\n            });\n\n            if (isWidget) {\n              this.props.contextValue.widgetsManager.update();\n\n              if (typeof connectorDesc.transitionState === 'function') {\n                this.props.contextValue.onSearchStateChange(connectorDesc.transitionState.call(this, this.props, this.props.contextValue.store.getState().widgets, this.props.contextValue.store.getState().widgets));\n              }\n            }\n          }\n        }\n      }, {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isUnmounting = true;\n\n          if (this.unsubscribe) {\n            this.unsubscribe();\n          }\n\n          if (this.unregisterWidget) {\n            this.unregisterWidget();\n\n            if (typeof connectorDesc.cleanUp === 'function') {\n              var nextState = connectorDesc.cleanUp.call(this, this.props, this.props.contextValue.store.getState().widgets);\n              this.props.contextValue.store.setState(_objectSpread({}, this.props.contextValue.store.getState(), {\n                widgets: nextState\n              }));\n              this.props.contextValue.onSearchStateChange(removeEmptyKey(nextState));\n            }\n          }\n        }\n      }, {\n        key: \"getProvidedProps\",\n        value: function getProvidedProps(props) {\n          var _this$props$contextVa = this.props.contextValue.store.getState(),\n              widgets = _this$props$contextVa.widgets,\n              results = _this$props$contextVa.results,\n              resultsFacetValues = _this$props$contextVa.resultsFacetValues,\n              searching = _this$props$contextVa.searching,\n              searchingForFacetValues = _this$props$contextVa.searchingForFacetValues,\n              isSearchStalled = _this$props$contextVa.isSearchStalled,\n              metadata = _this$props$contextVa.metadata,\n              error = _this$props$contextVa.error;\n\n          var searchResults = {\n            results: results,\n            searching: searching,\n            searchingForFacetValues: searchingForFacetValues,\n            isSearchStalled: isSearchStalled,\n            error: error\n          };\n          return connectorDesc.getProvidedProps.call(this, props, widgets, searchResults, metadata, // @MAJOR: move this attribute on the `searchResults` it doesn't\n          // makes sense to have it into a separate argument. The search\n          // flags are on the object why not the results?\n          resultsFacetValues);\n        }\n      }, {\n        key: \"getSearchParameters\",\n        value: function getSearchParameters(searchParameters) {\n          if (typeof connectorDesc.getSearchParameters === 'function') {\n            return connectorDesc.getSearchParameters.call(this, searchParameters, this.props, this.props.contextValue.store.getState().widgets);\n          }\n\n          return null;\n        }\n      }, {\n        key: \"getMetadata\",\n        value: function getMetadata(nextWidgetsState) {\n          if (typeof connectorDesc.getMetadata === 'function') {\n            return connectorDesc.getMetadata.call(this, this.props, nextWidgetsState);\n          }\n\n          return {};\n        }\n      }, {\n        key: \"transitionState\",\n        value: function transitionState(prevWidgetsState, nextWidgetsState) {\n          if (typeof connectorDesc.transitionState === 'function') {\n            return connectorDesc.transitionState.call(this, this.props, prevWidgetsState, nextWidgetsState);\n          }\n\n          return nextWidgetsState;\n        }\n      }, {\n        key: \"render\",\n        value: function render() {\n          var _this$props = this.props,\n              contextValue = _this$props.contextValue,\n              props = _objectWithoutProperties(_this$props, [\"contextValue\"]);\n\n          var providedProps = this.state.providedProps;\n\n          if (providedProps === null) {\n            return null;\n          }\n\n          var refineProps = typeof connectorDesc.refine === 'function' ? {\n            refine: this.refine,\n            createURL: this.createURL\n          } : {};\n          var searchForFacetValuesProps = typeof connectorDesc.searchForFacetValues === 'function' ? {\n            searchForItems: this.searchForFacetValues\n          } : {};\n          return React.createElement(Composed, _extends({}, props, providedProps, refineProps, searchForFacetValuesProps));\n        }\n      }]);\n\n      return Connector;\n    }(Component);\n\n    _defineProperty(Connector, \"displayName\", \"\".concat(connectorDesc.displayName, \"(\").concat(getDisplayName(Composed), \")\"));\n\n    _defineProperty(Connector, \"propTypes\", connectorDesc.propTypes);\n\n    _defineProperty(Connector, \"defaultProps\", connectorDesc.defaultProps);\n\n    return Connector;\n  };\n}\n\nvar createConnectorWithContext = function createConnectorWithContext(connectorDesc) {\n  return function (Composed) {\n    var Connector = createConnectorWithoutContext(connectorDesc)(Composed);\n\n    var ConnectorWrapper = function ConnectorWrapper(props) {\n      return React.createElement(InstantSearchConsumer, null, function (contextValue) {\n        return React.createElement(IndexConsumer, null, function (indexContextValue) {\n          return React.createElement(Connector, _extends({\n            contextValue: contextValue,\n            indexContextValue: indexContextValue\n          }, props));\n        });\n      });\n    };\n\n    return ConnectorWrapper;\n  };\n};\n\nexport default createConnectorWithContext;","import { getPropertyByPath } from './utils';\nexport var HIGHLIGHT_TAGS = {\n  highlightPreTag: \"<ais-highlight-0000000000>\",\n  highlightPostTag: \"</ais-highlight-0000000000>\"\n};\n/**\n * Parses an highlighted attribute into an array of objects with the string value, and\n * a boolean that indicated if this part is highlighted.\n *\n * @param {string} preTag - string used to identify the start of an highlighted value\n * @param {string} postTag - string used to identify the end of an highlighted value\n * @param {string} highlightedValue - highlighted attribute as returned by Algolia highlight feature\n * @return {object[]} - An array of {value: string, isHighlighted: boolean}.\n */\n\nfunction parseHighlightedAttribute(_ref) {\n  var preTag = _ref.preTag,\n      postTag = _ref.postTag,\n      _ref$highlightedValue = _ref.highlightedValue,\n      highlightedValue = _ref$highlightedValue === void 0 ? '' : _ref$highlightedValue;\n  var splitByPreTag = highlightedValue.split(preTag);\n  var firstValue = splitByPreTag.shift();\n  var elements = firstValue === '' ? [] : [{\n    value: firstValue,\n    isHighlighted: false\n  }];\n\n  if (postTag === preTag) {\n    var isHighlighted = true;\n    splitByPreTag.forEach(function (split) {\n      elements.push({\n        value: split,\n        isHighlighted: isHighlighted\n      });\n      isHighlighted = !isHighlighted;\n    });\n  } else {\n    splitByPreTag.forEach(function (split) {\n      var splitByPostTag = split.split(postTag);\n      elements.push({\n        value: splitByPostTag[0],\n        isHighlighted: true\n      });\n\n      if (splitByPostTag[1] !== '') {\n        elements.push({\n          value: splitByPostTag[1],\n          isHighlighted: false\n        });\n      }\n    });\n  }\n\n  return elements;\n}\n/**\n * Find an highlighted attribute given an `attribute` and an `highlightProperty`, parses it,\n * and provided an array of objects with the string value and a boolean if this\n * value is highlighted.\n *\n * In order to use this feature, highlight must be activated in the configuration of\n * the index. The `preTag` and `postTag` attributes are respectively highlightPreTag and\n * highlightPostTag in Algolia configuration.\n *\n * @param {string} preTag - string used to identify the start of an highlighted value\n * @param {string} postTag - string used to identify the end of an highlighted value\n * @param {string} highlightProperty - the property that contains the highlight structure in the results\n * @param {string} attribute - the highlighted attribute to look for\n * @param {object} hit - the actual hit returned by Algolia.\n * @return {object[]} - An array of {value: string, isHighlighted: boolean}.\n */\n\n\nexport function parseAlgoliaHit(_ref2) {\n  var _ref2$preTag = _ref2.preTag,\n      preTag = _ref2$preTag === void 0 ? '<em>' : _ref2$preTag,\n      _ref2$postTag = _ref2.postTag,\n      postTag = _ref2$postTag === void 0 ? '</em>' : _ref2$postTag,\n      highlightProperty = _ref2.highlightProperty,\n      attribute = _ref2.attribute,\n      hit = _ref2.hit;\n  if (!hit) throw new Error('`hit`, the matching record, must be provided');\n  var highlightObject = getPropertyByPath(hit[highlightProperty], attribute) || {};\n\n  if (Array.isArray(highlightObject)) {\n    return highlightObject.map(function (item) {\n      return parseHighlightedAttribute({\n        preTag: preTag,\n        postTag: postTag,\n        highlightedValue: item.value\n      });\n    });\n  }\n\n  return parseHighlightedAttribute({\n    preTag: preTag,\n    postTag: postTag,\n    highlightedValue: highlightObject.value\n  });\n}","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport algoliasearchHelper from 'algoliasearch-helper';\nimport createWidgetsManager from './createWidgetsManager';\nimport createStore from './createStore';\nimport { HIGHLIGHT_TAGS } from './highlight';\nimport { hasMultipleIndices } from './indexUtils';\nimport { version as ReactVersion } from 'react';\nimport version from './version';\n\nfunction addAlgoliaAgents(searchClient) {\n  if (typeof searchClient.addAlgoliaAgent === 'function') {\n    searchClient.addAlgoliaAgent(\"react (\".concat(ReactVersion, \")\"));\n    searchClient.addAlgoliaAgent(\"react-instantsearch (\".concat(version, \")\"));\n  }\n}\n\nvar isMultiIndexContext = function isMultiIndexContext(widget) {\n  return hasMultipleIndices({\n    ais: widget.props.contextValue,\n    multiIndexContext: widget.props.indexContextValue\n  });\n};\n\nvar isTargetedIndexEqualIndex = function isTargetedIndexEqualIndex(widget, indexId) {\n  return widget.props.indexContextValue.targetedIndex === indexId;\n}; // Relying on the `indexId` is a bit brittle to detect the `Index` widget.\n// Since it's a class we could rely on `instanceof` or similar. We never\n// had an issue though. Works for now.\n\n\nvar isIndexWidget = function isIndexWidget(widget) {\n  return Boolean(widget.props.indexId);\n};\n\nvar isIndexWidgetEqualIndex = function isIndexWidgetEqualIndex(widget, indexId) {\n  return widget.props.indexId === indexId;\n};\n\nvar sortIndexWidgetsFirst = function sortIndexWidgetsFirst(firstWidget, secondWidget) {\n  var isFirstWidgetIndex = isIndexWidget(firstWidget);\n  var isSecondWidgetIndex = isIndexWidget(secondWidget);\n\n  if (isFirstWidgetIndex && !isSecondWidgetIndex) {\n    return -1;\n  }\n\n  if (!isFirstWidgetIndex && isSecondWidgetIndex) {\n    return 1;\n  }\n\n  return 0;\n}; // This function is copied from the algoliasearch v4 API Client. If modified,\n// consider updating it also in `serializeQueryParameters` from `@algolia/transporter`.\n\n\nfunction serializeQueryParameters(parameters) {\n  var isObjectOrArray = function isObjectOrArray(value) {\n    return Object.prototype.toString.call(value) === '[object Object]' || Object.prototype.toString.call(value) === '[object Array]';\n  };\n\n  var encode = function encode(format) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    var i = 0;\n    return format.replace(/%s/g, function () {\n      return encodeURIComponent(args[i++]);\n    });\n  };\n\n  return Object.keys(parameters).map(function (key) {\n    return encode('%s=%s', key, isObjectOrArray(parameters[key]) ? JSON.stringify(parameters[key]) : parameters[key]);\n  }).join('&');\n}\n/**\n * Creates a new instance of the InstantSearchManager which controls the widgets and\n * trigger the search when the widgets are updated.\n * @param {string} indexName - the main index name\n * @param {object} initialState - initial widget state\n * @param {object} SearchParameters - optional additional parameters to send to the algolia API\n * @param {number} stalledSearchDelay - time (in ms) after the search is stalled\n * @return {InstantSearchManager} a new instance of InstantSearchManager\n */\n\n\nexport default function createInstantSearchManager(_ref) {\n  var indexName = _ref.indexName,\n      _ref$initialState = _ref.initialState,\n      initialState = _ref$initialState === void 0 ? {} : _ref$initialState,\n      searchClient = _ref.searchClient,\n      resultsState = _ref.resultsState,\n      stalledSearchDelay = _ref.stalledSearchDelay;\n  var helper = algoliasearchHelper(searchClient, indexName, _objectSpread({}, HIGHLIGHT_TAGS));\n  addAlgoliaAgents(searchClient);\n  helper.on('search', handleNewSearch).on('result', handleSearchSuccess({\n    indexId: indexName\n  })).on('error', handleSearchError);\n  var skip = false;\n  var stalledSearchTimer = null;\n  var initialSearchParameters = helper.state;\n  var widgetsManager = createWidgetsManager(onWidgetsUpdate);\n  hydrateSearchClient(searchClient, resultsState);\n  var store = createStore({\n    widgets: initialState,\n    metadata: [],\n    results: hydrateResultsState(resultsState),\n    error: null,\n    searching: false,\n    isSearchStalled: true,\n    searchingForFacetValues: false\n  });\n\n  function skipSearch() {\n    skip = true;\n  }\n\n  function updateClient(client) {\n    addAlgoliaAgents(client);\n    helper.setClient(client);\n    search();\n  }\n\n  function clearCache() {\n    helper.clearCache();\n    search();\n  }\n\n  function getMetadata(state) {\n    return widgetsManager.getWidgets().filter(function (widget) {\n      return Boolean(widget.getMetadata);\n    }).map(function (widget) {\n      return widget.getMetadata(state);\n    });\n  }\n\n  function getSearchParameters() {\n    var sharedParameters = widgetsManager.getWidgets().filter(function (widget) {\n      return Boolean(widget.getSearchParameters);\n    }).filter(function (widget) {\n      return !isMultiIndexContext(widget) && !isIndexWidget(widget);\n    }).reduce(function (res, widget) {\n      return widget.getSearchParameters(res);\n    }, initialSearchParameters);\n    var mainParameters = widgetsManager.getWidgets().filter(function (widget) {\n      return Boolean(widget.getSearchParameters);\n    }).filter(function (widget) {\n      var targetedIndexEqualMainIndex = isMultiIndexContext(widget) && isTargetedIndexEqualIndex(widget, indexName);\n      var subIndexEqualMainIndex = isIndexWidget(widget) && isIndexWidgetEqualIndex(widget, indexName);\n      return targetedIndexEqualMainIndex || subIndexEqualMainIndex;\n    }) // We have to sort the `Index` widgets first so the `index` parameter\n    // is correctly set in the `reduce` function for the following widgets\n    .sort(sortIndexWidgetsFirst).reduce(function (res, widget) {\n      return widget.getSearchParameters(res);\n    }, sharedParameters);\n    var derivedIndices = widgetsManager.getWidgets().filter(function (widget) {\n      return Boolean(widget.getSearchParameters);\n    }).filter(function (widget) {\n      var targetedIndexNotEqualMainIndex = isMultiIndexContext(widget) && !isTargetedIndexEqualIndex(widget, indexName);\n      var subIndexNotEqualMainIndex = isIndexWidget(widget) && !isIndexWidgetEqualIndex(widget, indexName);\n      return targetedIndexNotEqualMainIndex || subIndexNotEqualMainIndex;\n    }) // We have to sort the `Index` widgets first so the `index` parameter\n    // is correctly set in the `reduce` function for the following widgets\n    .sort(sortIndexWidgetsFirst).reduce(function (indices, widget) {\n      var indexId = isMultiIndexContext(widget) ? widget.props.indexContextValue.targetedIndex : widget.props.indexId;\n      var widgets = indices[indexId] || [];\n      return _objectSpread({}, indices, _defineProperty({}, indexId, widgets.concat(widget)));\n    }, {});\n    var derivedParameters = Object.keys(derivedIndices).map(function (indexId) {\n      return {\n        parameters: derivedIndices[indexId].reduce(function (res, widget) {\n          return widget.getSearchParameters(res);\n        }, sharedParameters),\n        indexId: indexId\n      };\n    });\n    return {\n      mainParameters: mainParameters,\n      derivedParameters: derivedParameters\n    };\n  }\n\n  function search() {\n    if (!skip) {\n      var _getSearchParameters = getSearchParameters(helper.state),\n          mainParameters = _getSearchParameters.mainParameters,\n          derivedParameters = _getSearchParameters.derivedParameters; // We have to call `slice` because the method `detach` on the derived\n      // helpers mutates the value `derivedHelpers`. The `forEach` loop does\n      // not iterate on each value and we're not able to correctly clear the\n      // previous derived helpers (memory leak + useless requests).\n\n\n      helper.derivedHelpers.slice().forEach(function (derivedHelper) {\n        // Since we detach the derived helpers on **every** new search they\n        // won't receive intermediate results in case of a stalled search.\n        // Only the last result is dispatched by the derived helper because\n        // they are not detached yet:\n        //\n        // - a -> main helper receives results\n        // - ap -> main helper receives results\n        // - app -> main helper + derived helpers receive results\n        //\n        // The quick fix is to avoid to detach them on search but only once they\n        // received the results. But it means that in case of a stalled search\n        // all the derived helpers not detached yet register a new search inside\n        // the helper. The number grows fast in case of a bad network and it's\n        // not deterministic.\n        derivedHelper.detach();\n      });\n      derivedParameters.forEach(function (_ref2) {\n        var indexId = _ref2.indexId,\n            parameters = _ref2.parameters;\n        var derivedHelper = helper.derive(function () {\n          return parameters;\n        });\n        derivedHelper.on('result', handleSearchSuccess({\n          indexId: indexId\n        })).on('error', handleSearchError);\n      });\n      helper.setState(mainParameters);\n      helper.search();\n    }\n  }\n\n  function handleSearchSuccess(_ref3) {\n    var indexId = _ref3.indexId;\n    return function (event) {\n      var state = store.getState();\n      var isDerivedHelpersEmpty = !helper.derivedHelpers.length;\n      var results = state.results ? state.results : {}; // Switching from mono index to multi index and vice versa must reset the\n      // results to an empty object, otherwise we keep reference of stalled and\n      // unused results.\n\n      results = !isDerivedHelpersEmpty && results.getFacetByName ? {} : results;\n\n      if (!isDerivedHelpersEmpty) {\n        results = _objectSpread({}, results, _defineProperty({}, indexId, event.results));\n      } else {\n        results = event.results;\n      }\n\n      var currentState = store.getState();\n      var nextIsSearchStalled = currentState.isSearchStalled;\n\n      if (!helper.hasPendingRequests()) {\n        clearTimeout(stalledSearchTimer);\n        stalledSearchTimer = null;\n        nextIsSearchStalled = false;\n      }\n\n      var resultsFacetValues = currentState.resultsFacetValues,\n          partialState = _objectWithoutProperties(currentState, [\"resultsFacetValues\"]);\n\n      store.setState(_objectSpread({}, partialState, {\n        results: results,\n        isSearchStalled: nextIsSearchStalled,\n        searching: false,\n        error: null\n      }));\n    };\n  }\n\n  function handleSearchError(_ref4) {\n    var error = _ref4.error;\n    var currentState = store.getState();\n    var nextIsSearchStalled = currentState.isSearchStalled;\n\n    if (!helper.hasPendingRequests()) {\n      clearTimeout(stalledSearchTimer);\n      nextIsSearchStalled = false;\n    }\n\n    var resultsFacetValues = currentState.resultsFacetValues,\n        partialState = _objectWithoutProperties(currentState, [\"resultsFacetValues\"]);\n\n    store.setState(_objectSpread({}, partialState, {\n      isSearchStalled: nextIsSearchStalled,\n      error: error,\n      searching: false\n    }));\n  }\n\n  function handleNewSearch() {\n    if (!stalledSearchTimer) {\n      stalledSearchTimer = setTimeout(function () {\n        var _store$getState = store.getState(),\n            resultsFacetValues = _store$getState.resultsFacetValues,\n            partialState = _objectWithoutProperties(_store$getState, [\"resultsFacetValues\"]);\n\n        store.setState(_objectSpread({}, partialState, {\n          isSearchStalled: true\n        }));\n      }, stalledSearchDelay);\n    }\n  }\n\n  function hydrateSearchClient(client, results) {\n    if (!results) {\n      return;\n    } // Disable cache hydration on:\n    // - Algoliasearch API Client < v4 with cache disabled\n    // - Third party clients (detected by the `addAlgoliaAgent` function missing)\n\n\n    if ((!client.transporter || client._cacheHydrated) && (!client._useCache || typeof client.addAlgoliaAgent !== 'function')) {\n      return;\n    } // Algoliasearch API Client >= v4\n    // To hydrate the client we need to populate the cache with the data from\n    // the server (done in `hydrateSearchClientWithMultiIndexRequest` or\n    // `hydrateSearchClientWithSingleIndexRequest`). But since there is no way\n    // for us to compute the key the same way as `algoliasearch-client` we need\n    // to populate it on a custom key and override the `search` method to\n    // search on it first.\n\n\n    if (client.transporter && !client._cacheHydrated) {\n      client._cacheHydrated = true;\n      var baseMethod = client.search;\n\n      client.search = function (requests) {\n        for (var _len2 = arguments.length, methodArgs = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          methodArgs[_key2 - 1] = arguments[_key2];\n        }\n\n        var requestsWithSerializedParams = requests.map(function (request) {\n          return _objectSpread({}, request, {\n            params: serializeQueryParameters(request.params)\n          });\n        });\n        return client.transporter.responsesCache.get({\n          method: 'search',\n          args: [requestsWithSerializedParams].concat(methodArgs)\n        }, function () {\n          return baseMethod.apply(void 0, [requests].concat(methodArgs));\n        });\n      };\n    }\n\n    if (Array.isArray(results)) {\n      hydrateSearchClientWithMultiIndexRequest(client, results);\n      return;\n    }\n\n    hydrateSearchClientWithSingleIndexRequest(client, results);\n  }\n\n  function hydrateSearchClientWithMultiIndexRequest(client, results) {\n    // Algoliasearch API Client >= v4\n    // Populate the cache with the data from the server\n    if (client.transporter) {\n      client.transporter.responsesCache.set({\n        method: 'search',\n        args: [results.reduce(function (acc, result) {\n          return acc.concat(result.rawResults.map(function (request) {\n            return {\n              indexName: request.index,\n              params: request.params\n            };\n          }));\n        }, [])]\n      }, {\n        results: results.reduce(function (acc, result) {\n          return acc.concat(result.rawResults);\n        }, [])\n      });\n      return;\n    } // Algoliasearch API Client < v4\n    // Prior to client v4 we didn't have a proper API to hydrate the client\n    // cache from the outside. The following code populates the cache with\n    // a single-index result. You can find more information about the\n    // computation of the key inside the client (see link below).\n    // https://github.com/algolia/algoliasearch-client-javascript/blob/c27e89ff92b2a854ae6f40dc524bffe0f0cbc169/src/AlgoliaSearchCore.js#L232-L240\n\n\n    var key = \"/1/indexes/*/queries_body_\".concat(JSON.stringify({\n      requests: results.reduce(function (acc, result) {\n        return acc.concat(result.rawResults.map(function (request) {\n          return {\n            indexName: request.index,\n            params: request.params\n          };\n        }));\n      }, [])\n    }));\n    client.cache = _objectSpread({}, client.cache, _defineProperty({}, key, JSON.stringify({\n      results: results.reduce(function (acc, result) {\n        return acc.concat(result.rawResults);\n      }, [])\n    })));\n  }\n\n  function hydrateSearchClientWithSingleIndexRequest(client, results) {\n    // Algoliasearch API Client >= v4\n    // Populate the cache with the data from the server\n    if (client.transporter) {\n      client.transporter.responsesCache.set({\n        method: 'search',\n        args: [results.rawResults.map(function (request) {\n          return {\n            indexName: request.index,\n            params: request.params\n          };\n        })]\n      }, {\n        results: results.rawResults\n      });\n      return;\n    } // Algoliasearch API Client < v4\n    // Prior to client v4 we didn't have a proper API to hydrate the client\n    // cache from the outside. The following code populates the cache with\n    // a single-index result. You can find more information about the\n    // computation of the key inside the client (see link below).\n    // https://github.com/algolia/algoliasearch-client-javascript/blob/c27e89ff92b2a854ae6f40dc524bffe0f0cbc169/src/AlgoliaSearchCore.js#L232-L240\n\n\n    var key = \"/1/indexes/*/queries_body_\".concat(JSON.stringify({\n      requests: results.rawResults.map(function (request) {\n        return {\n          indexName: request.index,\n          params: request.params\n        };\n      })\n    }));\n    client.cache = _objectSpread({}, client.cache, _defineProperty({}, key, JSON.stringify({\n      results: results.rawResults\n    })));\n  }\n\n  function hydrateResultsState(results) {\n    if (!results) {\n      return null;\n    }\n\n    if (Array.isArray(results)) {\n      return results.reduce(function (acc, result) {\n        return _objectSpread({}, acc, _defineProperty({}, result._internalIndexId, new algoliasearchHelper.SearchResults(new algoliasearchHelper.SearchParameters(result.state), result.rawResults)));\n      }, {});\n    }\n\n    return new algoliasearchHelper.SearchResults(new algoliasearchHelper.SearchParameters(results.state), results.rawResults);\n  } // Called whenever a widget has been rendered with new props.\n\n\n  function onWidgetsUpdate() {\n    var metadata = getMetadata(store.getState().widgets);\n    store.setState(_objectSpread({}, store.getState(), {\n      metadata: metadata,\n      searching: true\n    })); // Since the `getSearchParameters` method of widgets also depends on props,\n    // the result search parameters might have changed.\n\n    search();\n  }\n\n  function transitionState(nextSearchState) {\n    var searchState = store.getState().widgets;\n    return widgetsManager.getWidgets().filter(function (widget) {\n      return Boolean(widget.transitionState);\n    }).reduce(function (res, widget) {\n      return widget.transitionState(searchState, res);\n    }, nextSearchState);\n  }\n\n  function onExternalStateUpdate(nextSearchState) {\n    var metadata = getMetadata(nextSearchState);\n    store.setState(_objectSpread({}, store.getState(), {\n      widgets: nextSearchState,\n      metadata: metadata,\n      searching: true\n    }));\n    search();\n  }\n\n  function onSearchForFacetValues(_ref5) {\n    var facetName = _ref5.facetName,\n        query = _ref5.query,\n        _ref5$maxFacetHits = _ref5.maxFacetHits,\n        maxFacetHits = _ref5$maxFacetHits === void 0 ? 10 : _ref5$maxFacetHits; // The values 1, 100 are the min / max values that the engine accepts.\n    // see: https://www.algolia.com/doc/api-reference/api-parameters/maxFacetHits\n\n    var maxFacetHitsWithinRange = Math.max(1, Math.min(maxFacetHits, 100));\n    store.setState(_objectSpread({}, store.getState(), {\n      searchingForFacetValues: true\n    }));\n    helper.searchForFacetValues(facetName, query, maxFacetHitsWithinRange).then(function (content) {\n      var _objectSpread7;\n\n      store.setState(_objectSpread({}, store.getState(), {\n        error: null,\n        searchingForFacetValues: false,\n        resultsFacetValues: _objectSpread({}, store.getState().resultsFacetValues, (_objectSpread7 = {}, _defineProperty(_objectSpread7, facetName, content.facetHits), _defineProperty(_objectSpread7, \"query\", query), _objectSpread7))\n      }));\n    }, function (error) {\n      store.setState(_objectSpread({}, store.getState(), {\n        searchingForFacetValues: false,\n        error: error\n      }));\n    }).catch(function (error) {\n      // Since setState is synchronous, any error that occurs in the render of a\n      // component will be swallowed by this promise.\n      // This is a trick to make the error show up correctly in the console.\n      // See http://stackoverflow.com/a/30741722/969302\n      setTimeout(function () {\n        throw error;\n      });\n    });\n  }\n\n  function updateIndex(newIndex) {\n    initialSearchParameters = initialSearchParameters.setIndex(newIndex); // No need to trigger a new search here as the widgets will also update and trigger it if needed.\n  }\n\n  function getWidgetsIds() {\n    return store.getState().metadata.reduce(function (res, meta) {\n      return typeof meta.id !== 'undefined' ? res.concat(meta.id) : res;\n    }, []);\n  }\n\n  return {\n    store: store,\n    widgetsManager: widgetsManager,\n    getWidgetsIds: getWidgetsIds,\n    getSearchParameters: getSearchParameters,\n    onSearchForFacetValues: onSearchForFacetValues,\n    onExternalStateUpdate: onExternalStateUpdate,\n    transitionState: transitionState,\n    updateClient: updateClient,\n    updateIndex: updateIndex,\n    clearCache: clearCache,\n    skipSearch: skipSearch\n  };\n}","export default '6.7.0';","import { defer } from './utils';\nexport default function createWidgetsManager(onWidgetsUpdate) {\n  var widgets = []; // Is an update scheduled?\n\n  var scheduled = false; // The state manager's updates need to be batched since more than one\n  // component can register or unregister widgets during the same tick.\n\n  function scheduleUpdate() {\n    if (scheduled) {\n      return;\n    }\n\n    scheduled = true;\n    defer(function () {\n      scheduled = false;\n      onWidgetsUpdate();\n    });\n  }\n\n  return {\n    registerWidget: function registerWidget(widget) {\n      widgets.push(widget);\n      scheduleUpdate();\n      return function unregisterWidget() {\n        widgets.splice(widgets.indexOf(widget), 1);\n        scheduleUpdate();\n      };\n    },\n    update: scheduleUpdate,\n    getWidgets: function getWidgets() {\n      return widgets;\n    }\n  };\n}","export default function createStore(initialState) {\n  var state = initialState;\n  var listeners = [];\n  return {\n    getState: function getState() {\n      return state;\n    },\n    setState: function setState(nextState) {\n      state = nextState;\n      listeners.forEach(function (listener) {\n        return listener();\n      });\n    },\n    subscribe: function subscribe(listener) {\n      listeners.push(listener);\n      return function unsubscribe() {\n        listeners.splice(listeners.indexOf(listener), 1);\n      };\n    }\n  };\n}","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React, { Component, Children } from 'react';\nimport isEqual from 'react-fast-compare';\nimport PropTypes from 'prop-types';\nimport createInstantSearchManager from '../core/createInstantSearchManager';\nimport { InstantSearchProvider } from '../core/context';\n\nfunction isControlled(props) {\n  return Boolean(props.searchState);\n}\n/**\n * @description\n * `<InstantSearch>` is the root component of all React InstantSearch implementations.\n * It provides all the connected components (aka widgets) a means to interact\n * with the searchState.\n * @kind widget\n * @name <InstantSearch>\n * @requirements You will need to have an Algolia account to be able to use this widget.\n * [Create one now](https://www.algolia.com/users/sign_up).\n * @propType {string} indexName - Main index in which to search.\n * @propType {boolean} [refresh=false] - Flag to activate when the cache needs to be cleared so that the front-end is updated when a change occurs in the index.\n * @propType {object} [searchClient] - Provide a custom search client.\n * @propType {func} [onSearchStateChange] - Function to be called everytime a new search is done. Useful for [URL Routing](guide/Routing.html).\n * @propType {object} [searchState] - Object to inject some search state. Switches the InstantSearch component in controlled mode. Useful for [URL Routing](guide/Routing.html).\n * @propType {func} [createURL] - Function to call when creating links, useful for [URL Routing](guide/Routing.html).\n * @propType {SearchResults|SearchResults[]} [resultsState] - Use this to inject the results that will be used at first rendering. Those results are found by using the `findResultsState` function. Useful for [Server Side Rendering](guide/Server-side_rendering.html).\n * @propType {number} [stalledSearchDelay=200] - The amount of time before considering that the search takes too much time. The time is expressed in milliseconds.\n * @propType {{ Root: string|function, props: object }} [root] - Use this to customize the root element. Default value: `{ Root: 'div' }`\n * @example\n * import React from 'react';\n * import algoliasearch from 'algoliasearch/lite';\n * import { InstantSearch, SearchBox, Hits } from 'react-instantsearch-dom';\n *\n * const searchClient = algoliasearch(\n *   'latency',\n *   '6be0576ff61c053d5f9a3225e2a90f76'\n * );\n *\n * const App = () => (\n *   <InstantSearch\n *     searchClient={searchClient}\n *     indexName=\"instant_search\"\n *   >\n *     <SearchBox />\n *     <Hits />\n *   </InstantSearch>\n * );\n */\n\n\nvar InstantSearch = /*#__PURE__*/function (_Component) {\n  _inherits(InstantSearch, _Component);\n\n  _createClass(InstantSearch, null, [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var nextIsControlled = isControlled(nextProps);\n      var previousSearchState = prevState.instantSearchManager.store.getState().widgets;\n      var nextSearchState = nextProps.searchState;\n\n      if (nextIsControlled && !isEqual(previousSearchState, nextSearchState)) {\n        prevState.instantSearchManager.onExternalStateUpdate(nextProps.searchState);\n      }\n\n      return {\n        isControlled: nextIsControlled,\n        contextValue: _objectSpread({}, prevState.contextValue, {\n          mainTargetedIndex: nextProps.indexName\n        })\n      };\n    }\n  }]);\n\n  function InstantSearch(props) {\n    var _this;\n\n    _classCallCheck(this, InstantSearch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InstantSearch).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"isUnmounting\", false);\n\n    var instantSearchManager = createInstantSearchManager({\n      indexName: _this.props.indexName,\n      searchClient: _this.props.searchClient,\n      initialState: _this.props.searchState || {},\n      resultsState: _this.props.resultsState,\n      stalledSearchDelay: _this.props.stalledSearchDelay\n    });\n    var contextValue = {\n      store: instantSearchManager.store,\n      widgetsManager: instantSearchManager.widgetsManager,\n      mainTargetedIndex: _this.props.indexName,\n      onInternalStateUpdate: _this.onWidgetsInternalStateUpdate.bind(_assertThisInitialized(_this)),\n      createHrefForState: _this.createHrefForState.bind(_assertThisInitialized(_this)),\n      onSearchForFacetValues: _this.onSearchForFacetValues.bind(_assertThisInitialized(_this)),\n      onSearchStateChange: _this.onSearchStateChange.bind(_assertThisInitialized(_this)),\n      onSearchParameters: _this.onSearchParameters.bind(_assertThisInitialized(_this))\n    };\n    _this.state = {\n      isControlled: isControlled(_this.props),\n      instantSearchManager: instantSearchManager,\n      contextValue: contextValue\n    };\n    return _this;\n  }\n\n  _createClass(InstantSearch, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var prevIsControlled = isControlled(prevProps);\n\n      if (prevIsControlled && !this.state.isControlled) {\n        throw new Error(\"You can't switch <InstantSearch> from being controlled to uncontrolled\");\n      }\n\n      if (!prevIsControlled && this.state.isControlled) {\n        throw new Error(\"You can't switch <InstantSearch> from being uncontrolled to controlled\");\n      }\n\n      if (this.props.refresh !== prevProps.refresh && this.props.refresh) {\n        this.state.instantSearchManager.clearCache();\n      }\n\n      if (prevProps.indexName !== this.props.indexName) {\n        this.state.instantSearchManager.updateIndex(this.props.indexName);\n      }\n\n      if (prevProps.searchClient !== this.props.searchClient) {\n        this.state.instantSearchManager.updateClient(this.props.searchClient);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.isUnmounting = true;\n      this.state.instantSearchManager.skipSearch();\n    }\n  }, {\n    key: \"createHrefForState\",\n    value: function createHrefForState(searchState) {\n      searchState = this.state.instantSearchManager.transitionState(searchState);\n      return this.state.isControlled && this.props.createURL ? this.props.createURL(searchState, this.getKnownKeys()) : '#';\n    }\n  }, {\n    key: \"onWidgetsInternalStateUpdate\",\n    value: function onWidgetsInternalStateUpdate(searchState) {\n      searchState = this.state.instantSearchManager.transitionState(searchState);\n      this.onSearchStateChange(searchState);\n\n      if (!this.state.isControlled) {\n        this.state.instantSearchManager.onExternalStateUpdate(searchState);\n      }\n    }\n  }, {\n    key: \"onSearchStateChange\",\n    value: function onSearchStateChange(searchState) {\n      if (this.props.onSearchStateChange && !this.isUnmounting) {\n        this.props.onSearchStateChange(searchState);\n      }\n    }\n  }, {\n    key: \"onSearchParameters\",\n    value: function onSearchParameters(getSearchParameters, context, props) {\n      if (this.props.onSearchParameters) {\n        var _searchState = this.props.searchState ? this.props.searchState : {};\n\n        this.props.onSearchParameters(getSearchParameters, context, props, _searchState);\n      }\n    }\n  }, {\n    key: \"onSearchForFacetValues\",\n    value: function onSearchForFacetValues(searchState) {\n      this.state.instantSearchManager.onSearchForFacetValues(searchState);\n    }\n  }, {\n    key: \"getKnownKeys\",\n    value: function getKnownKeys() {\n      return this.state.instantSearchManager.getWidgetsIds();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (Children.count(this.props.children) === 0) {\n        return null;\n      }\n\n      return React.createElement(InstantSearchProvider, {\n        value: this.state.contextValue\n      }, this.props.children);\n    }\n  }]);\n\n  return InstantSearch;\n}(Component);\n\n_defineProperty(InstantSearch, \"defaultProps\", {\n  stalledSearchDelay: 200,\n  refresh: false\n});\n\n_defineProperty(InstantSearch, \"propTypes\", {\n  // @TODO: These props are currently constant.\n  indexName: PropTypes.string.isRequired,\n  searchClient: PropTypes.shape({\n    search: PropTypes.func.isRequired,\n    searchForFacetValues: PropTypes.func,\n    addAlgoliaAgent: PropTypes.func,\n    clearCache: PropTypes.func\n  }).isRequired,\n  createURL: PropTypes.func,\n  refresh: PropTypes.bool,\n  searchState: PropTypes.object,\n  onSearchStateChange: PropTypes.func,\n  onSearchParameters: PropTypes.func,\n  resultsState: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  children: PropTypes.node,\n  stalledSearchDelay: PropTypes.number\n});\n\nexport default InstantSearch;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @flow\n */\n\nimport React from 'react';\nimport ExternalFooterLink from './ExternalFooterLink';\nimport FooterLink from './FooterLink';\n\ntype Link = {|\n  title: string,\n  to: string,\n|};\n\ntype Props = {|\n  links: Array<Link>,\n|};\n\nconst SectionLinks = ({links}: Props) =>\n  links.map(item => {\n    if (item.external) {\n      return (\n        <ExternalFooterLink\n          key={item.title}\n          href={item.to}\n          target=\"_blank\"\n          rel=\"noopener\">\n          {item.title}\n        </ExternalFooterLink>\n      );\n    }\n\n    return (\n        <FooterLink key={item.title} to={item.to}>\n          {item.title}\n        </FooterLink>\n    );\n  });\n\nexport default SectionLinks;\n","'use strict';\nvar bind = require('../internals/function-bind-context');\nvar toObject = require('../internals/to-object');\nvar callWithSafeIterationClosing = require('../internals/call-with-safe-iteration-closing');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\n// `Array.from` method implementation\n// https://tc39.github.io/ecma262/#sec-array.from\nmodule.exports = function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n  var O = toObject(arrayLike);\n  var C = typeof this == 'function' ? this : Array;\n  var argumentsLength = arguments.length;\n  var mapfn = argumentsLength > 1 ? arguments[1] : undefined;\n  var mapping = mapfn !== undefined;\n  var iteratorMethod = getIteratorMethod(O);\n  var index = 0;\n  var length, result, step, iterator, next, value;\n  if (mapping) mapfn = bind(mapfn, argumentsLength > 2 ? arguments[2] : undefined, 2);\n  // if the target is not iterable or it's an array with the default iterator - use a simple case\n  if (iteratorMethod != undefined && !(C == Array && isArrayIteratorMethod(iteratorMethod))) {\n    iterator = iteratorMethod.call(O);\n    next = iterator.next;\n    result = new C();\n    for (;!(step = next.call(iterator)).done; index++) {\n      value = mapping ? callWithSafeIterationClosing(iterator, mapfn, [step.value, index], true) : step.value;\n      createProperty(result, index, value);\n    }\n  } else {\n    length = toLength(O.length);\n    result = new C(length);\n    for (;length > index; index++) {\n      value = mapping ? mapfn(O[index], index) : O[index];\n      createProperty(result, index, value);\n    }\n  }\n  result.length = index;\n  return result;\n};\n","'use strict';\n\nfunction inherits(ctor, superCtor) {\n  ctor.prototype = Object.create(superCtor.prototype, {\n    constructor: {\n      value: ctor,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n}\n\nmodule.exports = inherits;","var $ = require('../internals/export');\nvar from = require('../internals/array-from');\nvar checkCorrectnessOfIteration = require('../internals/check-correctness-of-iteration');\n\nvar INCORRECT_ITERATION = !checkCorrectnessOfIteration(function (iterable) {\n  Array.from(iterable);\n});\n\n// `Array.from` method\n// https://tc39.github.io/ecma262/#sec-array.from\n$({ target: 'Array', stat: true, forced: INCORRECT_ITERATION }, {\n  from: from\n});\n","exports.__esModule = true;\nexports.Helmet = undefined;\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactSideEffect = require(\"react-side-effect\");\n\nvar _reactSideEffect2 = _interopRequireDefault(_reactSideEffect);\n\nvar _reactFastCompare = require(\"react-fast-compare\");\n\nvar _reactFastCompare2 = _interopRequireDefault(_reactFastCompare);\n\nvar _HelmetUtils = require(\"./HelmetUtils.js\");\n\nvar _HelmetConstants = require(\"./HelmetConstants.js\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Helmet = function Helmet(Component) {\n  var _class, _temp;\n\n  return _temp = _class = function (_React$Component) {\n    _inherits(HelmetWrapper, _React$Component);\n\n    function HelmetWrapper() {\n      _classCallCheck(this, HelmetWrapper);\n\n      return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n    }\n\n    HelmetWrapper.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n      return !(0, _reactFastCompare2.default)(this.props, nextProps);\n    };\n\n    HelmetWrapper.prototype.mapNestedChildrenToProps = function mapNestedChildrenToProps(child, nestedChildren) {\n      if (!nestedChildren) {\n        return null;\n      }\n\n      switch (child.type) {\n        case _HelmetConstants.TAG_NAMES.SCRIPT:\n        case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n          return {\n            innerHTML: nestedChildren\n          };\n\n        case _HelmetConstants.TAG_NAMES.STYLE:\n          return {\n            cssText: nestedChildren\n          };\n      }\n\n      throw new Error(\"<\" + child.type + \" /> elements are self-closing and can not contain children. Refer to our API for more information.\");\n    };\n\n    HelmetWrapper.prototype.flattenArrayTypeChildren = function flattenArrayTypeChildren(_ref) {\n      var _extends2;\n\n      var child = _ref.child,\n          arrayTypeChildren = _ref.arrayTypeChildren,\n          newChildProps = _ref.newChildProps,\n          nestedChildren = _ref.nestedChildren;\n      return _extends({}, arrayTypeChildren, (_extends2 = {}, _extends2[child.type] = [].concat(arrayTypeChildren[child.type] || [], [_extends({}, newChildProps, this.mapNestedChildrenToProps(child, nestedChildren))]), _extends2));\n    };\n\n    HelmetWrapper.prototype.mapObjectTypeChildren = function mapObjectTypeChildren(_ref2) {\n      var _extends3, _extends4;\n\n      var child = _ref2.child,\n          newProps = _ref2.newProps,\n          newChildProps = _ref2.newChildProps,\n          nestedChildren = _ref2.nestedChildren;\n\n      switch (child.type) {\n        case _HelmetConstants.TAG_NAMES.TITLE:\n          return _extends({}, newProps, (_extends3 = {}, _extends3[child.type] = nestedChildren, _extends3.titleAttributes = _extends({}, newChildProps), _extends3));\n\n        case _HelmetConstants.TAG_NAMES.BODY:\n          return _extends({}, newProps, {\n            bodyAttributes: _extends({}, newChildProps)\n          });\n\n        case _HelmetConstants.TAG_NAMES.HTML:\n          return _extends({}, newProps, {\n            htmlAttributes: _extends({}, newChildProps)\n          });\n      }\n\n      return _extends({}, newProps, (_extends4 = {}, _extends4[child.type] = _extends({}, newChildProps), _extends4));\n    };\n\n    HelmetWrapper.prototype.mapArrayTypeChildrenToProps = function mapArrayTypeChildrenToProps(arrayTypeChildren, newProps) {\n      var newFlattenedProps = _extends({}, newProps);\n\n      Object.keys(arrayTypeChildren).forEach(function (arrayChildName) {\n        var _extends5;\n\n        newFlattenedProps = _extends({}, newFlattenedProps, (_extends5 = {}, _extends5[arrayChildName] = arrayTypeChildren[arrayChildName], _extends5));\n      });\n      return newFlattenedProps;\n    };\n\n    HelmetWrapper.prototype.warnOnInvalidChildren = function warnOnInvalidChildren(child, nestedChildren) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!_HelmetConstants.VALID_TAG_NAMES.some(function (name) {\n          return child.type === name;\n        })) {\n          if (typeof child.type === \"function\") {\n            return (0, _HelmetUtils.warn)(\"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.\");\n          }\n\n          return (0, _HelmetUtils.warn)(\"Only elements types \" + _HelmetConstants.VALID_TAG_NAMES.join(\", \") + \" are allowed. Helmet does not support rendering <\" + child.type + \"> elements. Refer to our API for more information.\");\n        }\n\n        if (nestedChildren && typeof nestedChildren !== \"string\" && (!Array.isArray(nestedChildren) || nestedChildren.some(function (nestedChild) {\n          return typeof nestedChild !== \"string\";\n        }))) {\n          throw new Error(\"Helmet expects a string as a child of <\" + child.type + \">. Did you forget to wrap your children in braces? ( <\" + child.type + \">{``}</\" + child.type + \"> ) Refer to our API for more information.\");\n        }\n      }\n\n      return true;\n    };\n\n    HelmetWrapper.prototype.mapChildrenToProps = function mapChildrenToProps(children, newProps) {\n      var _this2 = this;\n\n      var arrayTypeChildren = {};\n\n      _react2.default.Children.forEach(children, function (child) {\n        if (!child || !child.props) {\n          return;\n        }\n\n        var _child$props = child.props,\n            nestedChildren = _child$props.children,\n            childProps = _objectWithoutProperties(_child$props, [\"children\"]);\n\n        var newChildProps = (0, _HelmetUtils.convertReactPropstoHtmlAttributes)(childProps);\n\n        _this2.warnOnInvalidChildren(child, nestedChildren);\n\n        switch (child.type) {\n          case _HelmetConstants.TAG_NAMES.LINK:\n          case _HelmetConstants.TAG_NAMES.META:\n          case _HelmetConstants.TAG_NAMES.NOSCRIPT:\n          case _HelmetConstants.TAG_NAMES.SCRIPT:\n          case _HelmetConstants.TAG_NAMES.STYLE:\n            arrayTypeChildren = _this2.flattenArrayTypeChildren({\n              child: child,\n              arrayTypeChildren: arrayTypeChildren,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n\n          default:\n            newProps = _this2.mapObjectTypeChildren({\n              child: child,\n              newProps: newProps,\n              newChildProps: newChildProps,\n              nestedChildren: nestedChildren\n            });\n            break;\n        }\n      });\n\n      newProps = this.mapArrayTypeChildrenToProps(arrayTypeChildren, newProps);\n      return newProps;\n    };\n\n    HelmetWrapper.prototype.render = function render() {\n      var _props = this.props,\n          children = _props.children,\n          props = _objectWithoutProperties(_props, [\"children\"]);\n\n      var newProps = _extends({}, props);\n\n      if (children) {\n        newProps = this.mapChildrenToProps(children, newProps);\n      }\n\n      return _react2.default.createElement(Component, newProps);\n    };\n\n    _createClass(HelmetWrapper, null, [{\n      key: \"canUseDOM\",\n      // Component.peek comes from react-side-effect:\n      // For testing, you may use a static peek() method available on the returned component.\n      // It lets you get the current state without resetting the mounted instance stack.\n      // Don’t use it for anything other than testing.\n\n      /**\n       * @param {Object} base: {\"target\": \"_blank\", \"href\": \"http://mysite.com/\"}\n       * @param {Object} bodyAttributes: {\"className\": \"root\"}\n       * @param {String} defaultTitle: \"Default Title\"\n       * @param {Boolean} defer: true\n       * @param {Boolean} encodeSpecialCharacters: true\n       * @param {Object} htmlAttributes: {\"lang\": \"en\", \"amp\": undefined}\n       * @param {Array} link: [{\"rel\": \"canonical\", \"href\": \"http://mysite.com/example\"}]\n       * @param {Array} meta: [{\"name\": \"description\", \"content\": \"Test description\"}]\n       * @param {Array} noscript: [{\"innerHTML\": \"<img src='http://mysite.com/js/test.js'\"}]\n       * @param {Function} onChangeClientState: \"(newState) => console.log(newState)\"\n       * @param {Array} script: [{\"type\": \"text/javascript\", \"src\": \"http://mysite.com/js/test.js\"}]\n       * @param {Array} style: [{\"type\": \"text/css\", \"cssText\": \"div { display: block; color: blue; }\"}]\n       * @param {String} title: \"Title\"\n       * @param {Object} titleAttributes: {\"itemprop\": \"name\"}\n       * @param {String} titleTemplate: \"MySite.com - %s\"\n       */\n      set: function set(canUseDOM) {\n        Component.canUseDOM = canUseDOM;\n      }\n    }]);\n\n    return HelmetWrapper;\n  }(_react2.default.Component), _class.propTypes = {\n    base: _propTypes2.default.object,\n    bodyAttributes: _propTypes2.default.object,\n    children: _propTypes2.default.oneOfType([_propTypes2.default.arrayOf(_propTypes2.default.node), _propTypes2.default.node]),\n    defaultTitle: _propTypes2.default.string,\n    defer: _propTypes2.default.bool,\n    encodeSpecialCharacters: _propTypes2.default.bool,\n    htmlAttributes: _propTypes2.default.object,\n    link: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    meta: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    noscript: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    onChangeClientState: _propTypes2.default.func,\n    script: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    style: _propTypes2.default.arrayOf(_propTypes2.default.object),\n    title: _propTypes2.default.string,\n    titleAttributes: _propTypes2.default.object,\n    titleTemplate: _propTypes2.default.string\n  }, _class.defaultProps = {\n    defer: true,\n    encodeSpecialCharacters: true\n  }, _class.peek = Component.peek, _class.rewind = function () {\n    var mappedState = Component.rewind();\n\n    if (!mappedState) {\n      // provide fallback if mappedState is undefined\n      mappedState = (0, _HelmetUtils.mapStateOnServer)({\n        baseTag: [],\n        bodyAttributes: {},\n        encodeSpecialCharacters: true,\n        htmlAttributes: {},\n        linkTags: [],\n        metaTags: [],\n        noscriptTags: [],\n        scriptTags: [],\n        styleTags: [],\n        title: \"\",\n        titleAttributes: {}\n      });\n    }\n\n    return mappedState;\n  }, _temp;\n};\n\nvar NullComponent = function NullComponent() {\n  return null;\n};\n\nvar HelmetSideEffects = (0, _reactSideEffect2.default)(_HelmetUtils.reducePropsToState, _HelmetUtils.handleClientStateChange, _HelmetUtils.mapStateOnServer)(NullComponent);\nvar HelmetExport = Helmet(HelmetSideEffects);\nHelmetExport.renderStatic = HelmetExport.rewind;\nexports.Helmet = HelmetExport;\nexports.default = HelmetExport;","'use strict';\n\nvar merge = require('../functions/merge');\n\nvar defaultsPure = require('../functions/defaultsPure');\n\nvar intersection = require('../functions/intersection');\n\nvar find = require('../functions/find');\n\nvar valToNumber = require('../functions/valToNumber');\n\nvar omit = require('../functions/omit');\n\nvar objectHasKeys = require('../functions/objectHasKeys');\n\nvar RefinementList = require('./RefinementList');\n/**\n * isEqual, but only for numeric refinement values, possible values:\n * - 5\n * - [5]\n * - [[5]]\n * - [[5,5],[4]]\n */\n\n\nfunction isEqualNumericRefinement(a, b) {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return a.length === b.length && a.every(function (el, i) {\n      return isEqualNumericRefinement(b[i], el);\n    });\n  }\n\n  return a === b;\n}\n/**\n * like _.find but using deep equality to be able to use it\n * to find arrays.\n * @private\n * @param {any[]} array array to search into (elements are base or array of base)\n * @param {any} searchedValue the value we're looking for (base or array of base)\n * @return {any} the searched value or undefined\n */\n\n\nfunction findArray(array, searchedValue) {\n  return find(array, function (currentValue) {\n    return isEqualNumericRefinement(currentValue, searchedValue);\n  });\n}\n/**\n * The facet list is the structure used to store the list of values used to\n * filter a single attribute.\n * @typedef {string[]} SearchParameters.FacetList\n */\n\n/**\n * Structure to store numeric filters with the operator as the key. The supported operators\n * are `=`, `>`, `<`, `>=`, `<=` and `!=`.\n * @typedef {Object.<string, Array.<number|number[]>>} SearchParameters.OperatorList\n */\n\n/**\n * SearchParameters is the data structure that contains all the information\n * usable for making a search to Algolia API. It doesn't do the search itself,\n * nor does it contains logic about the parameters.\n * It is an immutable object, therefore it has been created in a way that each\n * changes does not change the object itself but returns a copy with the\n * modification.\n * This object should probably not be instantiated outside of the helper. It will\n * be provided when needed. This object is documented for reference as you'll\n * get it from events generated by the {@link AlgoliaSearchHelper}.\n * If need be, instantiate the Helper from the factory function {@link SearchParameters.make}\n * @constructor\n * @classdesc contains all the parameters of a search\n * @param {object|SearchParameters} newParameters existing parameters or partial object\n * for the properties of a new SearchParameters\n * @see SearchParameters.make\n * @example <caption>SearchParameters of the first query in\n *   <a href=\"http://demos.algolia.com/instant-search-demo/\">the instant search demo</a></caption>\n{\n   \"query\": \"\",\n   \"disjunctiveFacets\": [\n      \"customerReviewCount\",\n      \"category\",\n      \"salePrice_range\",\n      \"manufacturer\"\n  ],\n   \"maxValuesPerFacet\": 30,\n   \"page\": 0,\n   \"hitsPerPage\": 10,\n   \"facets\": [\n      \"type\",\n      \"shipping\"\n  ]\n}\n */\n\n\nfunction SearchParameters(newParameters) {\n  var params = newParameters ? SearchParameters._parseNumbers(newParameters) : {};\n  /**\n   * This attribute contains the list of all the conjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n\n  this.facets = params.facets || [];\n  /**\n   * This attribute contains the list of all the disjunctive facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * @member {string[]}\n   */\n\n  this.disjunctiveFacets = params.disjunctiveFacets || [];\n  /**\n   * This attribute contains the list of all the hierarchical facets\n   * used. This list will be added to requested facets in the\n   * [facets attribute](https://www.algolia.com/doc/rest-api/search#param-facets) sent to algolia.\n   * Hierarchical facets are a sub type of disjunctive facets that\n   * let you filter faceted attributes hierarchically.\n   * @member {string[]|object[]}\n   */\n\n  this.hierarchicalFacets = params.hierarchicalFacets || []; // Refinements\n\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n\n  this.facetsRefinements = params.facetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * excluded from the conjunctive facets. Each facet must be properly\n   * defined in the `facets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters excluded for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n\n  this.facetsExcludes = params.facetsExcludes || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the disjunctive facets. Each facet must be properly\n   * defined in the `disjunctiveFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n\n  this.disjunctiveFacetsRefinements = params.disjunctiveFacetsRefinements || {};\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the numeric attributes.\n   *\n   * The key is the name of the attribute, and the value is the\n   * filters to apply to this attribute.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `numericFilters` attribute.\n   * @member {Object.<string, SearchParameters.OperatorList>}\n   */\n\n  this.numericRefinements = params.numericRefinements || {};\n  /**\n   * This attribute contains all the tags used to refine the query.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `tagFilters` attribute.\n   * @member {string[]}\n   */\n\n  this.tagRefinements = params.tagRefinements || [];\n  /**\n   * This attribute contains all the filters that need to be\n   * applied on the hierarchical facets. Each facet must be properly\n   * defined in the `hierarchicalFacets` attribute.\n   *\n   * The key is the name of the facet, and the `FacetList` contains all\n   * filters selected for the associated facet name. The FacetList values\n   * are structured as a string that contain the values for each level\n   * separated by the configured separator.\n   *\n   * When querying algolia, the values stored in this attribute will\n   * be translated into the `facetFilters` attribute.\n   * @member {Object.<string, SearchParameters.FacetList>}\n   */\n\n  this.hierarchicalFacetsRefinements = params.hierarchicalFacetsRefinements || {};\n  var self = this;\n  Object.keys(params).forEach(function (paramName) {\n    var isKeyKnown = SearchParameters.PARAMETERS.indexOf(paramName) !== -1;\n    var isValueDefined = params[paramName] !== undefined;\n\n    if (!isKeyKnown && isValueDefined) {\n      self[paramName] = params[paramName];\n    }\n  });\n}\n/**\n * List all the properties in SearchParameters and therefore all the known Algolia properties\n * This doesn't contain any beta/hidden features.\n * @private\n */\n\n\nSearchParameters.PARAMETERS = Object.keys(new SearchParameters());\n/**\n * @private\n * @param {object} partialState full or part of a state\n * @return {object} a new object with the number keys as number\n */\n\nSearchParameters._parseNumbers = function (partialState) {\n  // Do not reparse numbers in SearchParameters, they ought to be parsed already\n  if (partialState instanceof SearchParameters) return partialState;\n  var numbers = {};\n  var numberKeys = ['aroundPrecision', 'aroundRadius', 'getRankingInfo', 'minWordSizefor2Typos', 'minWordSizefor1Typo', 'page', 'maxValuesPerFacet', 'distinct', 'minimumAroundRadius', 'hitsPerPage', 'minProximity'];\n  numberKeys.forEach(function (k) {\n    var value = partialState[k];\n\n    if (typeof value === 'string') {\n      var parsedValue = parseFloat(value); // global isNaN is ok to use here, value is only number or NaN\n\n      numbers[k] = isNaN(parsedValue) ? value : parsedValue;\n    }\n  }); // there's two formats of insideBoundingBox, we need to parse\n  // the one which is an array of float geo rectangles\n\n  if (Array.isArray(partialState.insideBoundingBox)) {\n    numbers.insideBoundingBox = partialState.insideBoundingBox.map(function (geoRect) {\n      if (Array.isArray(geoRect)) {\n        return geoRect.map(function (value) {\n          return parseFloat(value);\n        });\n      }\n\n      return geoRect;\n    });\n  }\n\n  if (partialState.numericRefinements) {\n    var numericRefinements = {};\n    Object.keys(partialState.numericRefinements).forEach(function (attribute) {\n      var operators = partialState.numericRefinements[attribute] || {};\n      numericRefinements[attribute] = {};\n      Object.keys(operators).forEach(function (operator) {\n        var values = operators[operator];\n        var parsedValues = values.map(function (v) {\n          if (Array.isArray(v)) {\n            return v.map(function (vPrime) {\n              if (typeof vPrime === 'string') {\n                return parseFloat(vPrime);\n              }\n\n              return vPrime;\n            });\n          } else if (typeof v === 'string') {\n            return parseFloat(v);\n          }\n\n          return v;\n        });\n        numericRefinements[attribute][operator] = parsedValues;\n      });\n    });\n    numbers.numericRefinements = numericRefinements;\n  }\n\n  return merge({}, partialState, numbers);\n};\n/**\n * Factory for SearchParameters\n * @param {object|SearchParameters} newParameters existing parameters or partial\n * object for the properties of a new SearchParameters\n * @return {SearchParameters} frozen instance of SearchParameters\n */\n\n\nSearchParameters.make = function makeSearchParameters(newParameters) {\n  var instance = new SearchParameters(newParameters);\n  var hierarchicalFacets = newParameters.hierarchicalFacets || [];\n  hierarchicalFacets.forEach(function (facet) {\n    if (facet.rootPath) {\n      var currentRefinement = instance.getHierarchicalRefinement(facet.name);\n\n      if (currentRefinement.length > 0 && currentRefinement[0].indexOf(facet.rootPath) !== 0) {\n        instance = instance.clearRefinements(facet.name);\n      } // get it again in case it has been cleared\n\n\n      currentRefinement = instance.getHierarchicalRefinement(facet.name);\n\n      if (currentRefinement.length === 0) {\n        instance = instance.toggleHierarchicalFacetRefinement(facet.name, facet.rootPath);\n      }\n    }\n  });\n  return instance;\n};\n/**\n * Validates the new parameters based on the previous state\n * @param {SearchParameters} currentState the current state\n * @param {object|SearchParameters} parameters the new parameters to set\n * @return {Error|null} Error if the modification is invalid, null otherwise\n */\n\n\nSearchParameters.validate = function (currentState, parameters) {\n  var params = parameters || {};\n\n  if (currentState.tagFilters && params.tagRefinements && params.tagRefinements.length > 0) {\n    return new Error('[Tags] Cannot switch from the managed tag API to the advanced API. It is probably ' + 'an error, if it is really what you want, you should first clear the tags with clearTags method.');\n  }\n\n  if (currentState.tagRefinements.length > 0 && params.tagFilters) {\n    return new Error('[Tags] Cannot switch from the advanced tag API to the managed API. It is probably ' + 'an error, if it is not, you should first clear the tags with clearTags method.');\n  }\n\n  if (currentState.numericFilters && params.numericRefinements && objectHasKeys(params.numericRefinements)) {\n    return new Error(\"[Numeric filters] Can't switch from the advanced to the managed API. It\" + ' is probably an error, if this is really what you want, you have to first' + ' clear the numeric filters.');\n  }\n\n  if (objectHasKeys(currentState.numericRefinements) && params.numericFilters) {\n    return new Error(\"[Numeric filters] Can't switch from the managed API to the advanced. It\" + ' is probably an error, if this is really what you want, you have to first' + ' clear the numeric filters.');\n  }\n\n  return null;\n};\n\nSearchParameters.prototype = {\n  constructor: SearchParameters,\n\n  /**\n   * Remove all refinements (disjunctive + conjunctive + excludes + numeric filters)\n   * @method\n   * @param {undefined|string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {SearchParameters}\n   */\n  clearRefinements: function clearRefinements(attribute) {\n    var patch = {\n      numericRefinements: this._clearNumericRefinements(attribute),\n      facetsRefinements: RefinementList.clearRefinement(this.facetsRefinements, attribute, 'conjunctiveFacet'),\n      facetsExcludes: RefinementList.clearRefinement(this.facetsExcludes, attribute, 'exclude'),\n      disjunctiveFacetsRefinements: RefinementList.clearRefinement(this.disjunctiveFacetsRefinements, attribute, 'disjunctiveFacet'),\n      hierarchicalFacetsRefinements: RefinementList.clearRefinement(this.hierarchicalFacetsRefinements, attribute, 'hierarchicalFacet')\n    };\n\n    if (patch.numericRefinements === this.numericRefinements && patch.facetsRefinements === this.facetsRefinements && patch.facetsExcludes === this.facetsExcludes && patch.disjunctiveFacetsRefinements === this.disjunctiveFacetsRefinements && patch.hierarchicalFacetsRefinements === this.hierarchicalFacetsRefinements) {\n      return this;\n    }\n\n    return this.setQueryParameters(patch);\n  },\n\n  /**\n   * Remove all the refined tags from the SearchParameters\n   * @method\n   * @return {SearchParameters}\n   */\n  clearTags: function clearTags() {\n    if (this.tagFilters === undefined && this.tagRefinements.length === 0) return this;\n    return this.setQueryParameters({\n      tagFilters: undefined,\n      tagRefinements: []\n    });\n  },\n\n  /**\n   * Set the index.\n   * @method\n   * @param {string} index the index name\n   * @return {SearchParameters}\n   */\n  setIndex: function setIndex(index) {\n    if (index === this.index) return this;\n    return this.setQueryParameters({\n      index: index\n    });\n  },\n\n  /**\n   * Query setter\n   * @method\n   * @param {string} newQuery value for the new query\n   * @return {SearchParameters}\n   */\n  setQuery: function setQuery(newQuery) {\n    if (newQuery === this.query) return this;\n    return this.setQueryParameters({\n      query: newQuery\n    });\n  },\n\n  /**\n   * Page setter\n   * @method\n   * @param {number} newPage new page number\n   * @return {SearchParameters}\n   */\n  setPage: function setPage(newPage) {\n    if (newPage === this.page) return this;\n    return this.setQueryParameters({\n      page: newPage\n    });\n  },\n\n  /**\n   * Facets setter\n   * The facets are the simple facets, used for conjunctive (and) faceting.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for conjunctive faceting\n   * @return {SearchParameters}\n   */\n  setFacets: function setFacets(facets) {\n    return this.setQueryParameters({\n      facets: facets\n    });\n  },\n\n  /**\n   * Disjunctive facets setter\n   * Change the list of disjunctive (or) facets the helper chan handle.\n   * @method\n   * @param {string[]} facets all the attributes of the algolia records used for disjunctive faceting\n   * @return {SearchParameters}\n   */\n  setDisjunctiveFacets: function setDisjunctiveFacets(facets) {\n    return this.setQueryParameters({\n      disjunctiveFacets: facets\n    });\n  },\n\n  /**\n   * HitsPerPage setter\n   * Hits per page represents the number of hits retrieved for this query\n   * @method\n   * @param {number} n number of hits retrieved per page of results\n   * @return {SearchParameters}\n   */\n  setHitsPerPage: function setHitsPerPage(n) {\n    if (this.hitsPerPage === n) return this;\n    return this.setQueryParameters({\n      hitsPerPage: n\n    });\n  },\n\n  /**\n   * typoTolerance setter\n   * Set the value of typoTolerance\n   * @method\n   * @param {string} typoTolerance new value of typoTolerance (\"true\", \"false\", \"min\" or \"strict\")\n   * @return {SearchParameters}\n   */\n  setTypoTolerance: function setTypoTolerance(typoTolerance) {\n    if (this.typoTolerance === typoTolerance) return this;\n    return this.setQueryParameters({\n      typoTolerance: typoTolerance\n    });\n  },\n\n  /**\n   * Add a numeric filter for a given attribute\n   * When value is an array, they are combined with OR\n   * When value is a single value, it will combined with AND\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} operator operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number | number[]} value value of the filter\n   * @return {SearchParameters}\n   * @example\n   * // for price = 50 or 40\n   * searchparameter.addNumericRefinement('price', '=', [50, 40]);\n   * @example\n   * // for size = 38 and 40\n   * searchparameter.addNumericRefinement('size', '=', 38);\n   * searchparameter.addNumericRefinement('size', '=', 40);\n   */\n  addNumericRefinement: function addNumericRefinement(attribute, operator, v) {\n    var value = valToNumber(v);\n    if (this.isNumericRefined(attribute, operator, value)) return this;\n    var mod = merge({}, this.numericRefinements);\n    mod[attribute] = merge({}, mod[attribute]);\n\n    if (mod[attribute][operator]) {\n      // Array copy\n      mod[attribute][operator] = mod[attribute][operator].slice(); // Add the element. Concat can't be used here because value can be an array.\n\n      mod[attribute][operator].push(value);\n    } else {\n      mod[attribute][operator] = [value];\n    }\n\n    return this.setQueryParameters({\n      numericRefinements: mod\n    });\n  },\n\n  /**\n   * Get the list of conjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getConjunctiveRefinements: function getConjunctiveRefinements(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n\n    return this.facetsRefinements[facetName] || [];\n  },\n\n  /**\n   * Get the list of disjunctive refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getDisjunctiveRefinements: function getDisjunctiveRefinements(facetName) {\n    if (!this.isDisjunctiveFacet(facetName)) {\n      return [];\n    }\n\n    return this.disjunctiveFacetsRefinements[facetName] || [];\n  },\n\n  /**\n   * Get the list of hierarchical refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getHierarchicalRefinement: function getHierarchicalRefinement(facetName) {\n    // we send an array but we currently do not support multiple\n    // hierarchicalRefinements for a hierarchicalFacet\n    return this.hierarchicalFacetsRefinements[facetName] || [];\n  },\n\n  /**\n   * Get the list of exclude refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {string[]} list of refinements\n   */\n  getExcludeRefinements: function getExcludeRefinements(facetName) {\n    if (!this.isConjunctiveFacet(facetName)) {\n      return [];\n    }\n\n    return this.facetsExcludes[facetName] || [];\n  },\n\n  /**\n   * Remove all the numeric filter for a given (attribute, operator)\n   * @method\n   * @param {string} attribute attribute to set the filter on\n   * @param {string} [operator] operator of the filter (possible values: =, >, >=, <, <=, !=)\n   * @param {number} [number] the value to be removed\n   * @return {SearchParameters}\n   */\n  removeNumericRefinement: function removeNumericRefinement(attribute, operator, paramValue) {\n    if (paramValue !== undefined) {\n      if (!this.isNumericRefined(attribute, operator, paramValue)) {\n        return this;\n      }\n\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function (value, key) {\n          return key === attribute && value.op === operator && isEqualNumericRefinement(value.val, valToNumber(paramValue));\n        })\n      });\n    } else if (operator !== undefined) {\n      if (!this.isNumericRefined(attribute, operator)) return this;\n      return this.setQueryParameters({\n        numericRefinements: this._clearNumericRefinements(function (value, key) {\n          return key === attribute && value.op === operator;\n        })\n      });\n    }\n\n    if (!this.isNumericRefined(attribute)) return this;\n    return this.setQueryParameters({\n      numericRefinements: this._clearNumericRefinements(function (value, key) {\n        return key === attribute;\n      })\n    });\n  },\n\n  /**\n   * Get the list of numeric refinements for a single facet\n   * @param {string} facetName name of the attribute used for faceting\n   * @return {SearchParameters.OperatorList[]} list of refinements\n   */\n  getNumericRefinements: function getNumericRefinements(facetName) {\n    return this.numericRefinements[facetName] || {};\n  },\n\n  /**\n   * Return the current refinement for the (attribute, operator)\n   * @param {string} attribute attribute in the record\n   * @param {string} operator operator applied on the refined values\n   * @return {Array.<number|number[]>} refined values\n   */\n  getNumericRefinement: function getNumericRefinement(attribute, operator) {\n    return this.numericRefinements[attribute] && this.numericRefinements[attribute][operator];\n  },\n\n  /**\n   * Clear numeric filters.\n   * @method\n   * @private\n   * @param {string|SearchParameters.clearCallback} [attribute] optional string or function\n   * - If not given, means to clear all the filters.\n   * - If `string`, means to clear all refinements for the `attribute` named filter.\n   * - If `function`, means to clear all the refinements that return truthy values.\n   * @return {Object.<string, OperatorList>}\n   */\n  _clearNumericRefinements: function _clearNumericRefinements(attribute) {\n    if (attribute === undefined) {\n      if (!objectHasKeys(this.numericRefinements)) {\n        return this.numericRefinements;\n      }\n\n      return {};\n    } else if (typeof attribute === 'string') {\n      if (!objectHasKeys(this.numericRefinements[attribute])) {\n        return this.numericRefinements;\n      }\n\n      return omit(this.numericRefinements, [attribute]);\n    } else if (typeof attribute === 'function') {\n      var hasChanged = false;\n      var numericRefinements = this.numericRefinements;\n      var newNumericRefinements = Object.keys(numericRefinements).reduce(function (memo, key) {\n        var operators = numericRefinements[key];\n        var operatorList = {};\n        operators = operators || {};\n        Object.keys(operators).forEach(function (operator) {\n          var values = operators[operator] || [];\n          var outValues = [];\n          values.forEach(function (value) {\n            var predicateResult = attribute({\n              val: value,\n              op: operator\n            }, key, 'numeric');\n            if (!predicateResult) outValues.push(value);\n          });\n\n          if (outValues.length !== values.length) {\n            hasChanged = true;\n          }\n\n          operatorList[operator] = outValues;\n        });\n        memo[key] = operatorList;\n        return memo;\n      }, {});\n      if (hasChanged) return newNumericRefinements;\n      return this.numericRefinements;\n    }\n  },\n\n  /**\n   * Add a facet to the facets attribute of the helper configuration, if it\n   * isn't already present.\n   * @method\n   * @param {string} facet facet name to add\n   * @return {SearchParameters}\n   */\n  addFacet: function addFacet(facet) {\n    if (this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      facets: this.facets.concat([facet])\n    });\n  },\n\n  /**\n   * Add a disjunctive facet to the disjunctiveFacets attribute of the helper\n   * configuration, if it isn't already present.\n   * @method\n   * @param {string} facet disjunctive facet name to add\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacet: function addDisjunctiveFacet(facet) {\n    if (this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.concat([facet])\n    });\n  },\n\n  /**\n   * Add a hierarchical facet to the hierarchicalFacets attribute of the helper\n   * configuration.\n   * @method\n   * @param {object} hierarchicalFacet hierarchical facet to add\n   * @return {SearchParameters}\n   * @throws will throw an error if a hierarchical facet with the same name was already declared\n   */\n  addHierarchicalFacet: function addHierarchicalFacet(hierarchicalFacet) {\n    if (this.isHierarchicalFacet(hierarchicalFacet.name)) {\n      throw new Error('Cannot declare two hierarchical facets with the same name: `' + hierarchicalFacet.name + '`');\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.concat([hierarchicalFacet])\n    });\n  },\n\n  /**\n   * Add a refinement on a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addFacetRefinement: function addFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    if (RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.addRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * Exclude a value from a \"normal\" facet\n   * @method\n   * @param {string} facet attribute to apply the exclusion on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addExcludeRefinement: function addExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    if (RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.addRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n\n  /**\n   * Adds a refinement on a disjunctive facet.\n   * @method\n   * @param {string} facet attribute to apply the faceting on\n   * @param {string} value value of the attribute (will be converted to string)\n   * @return {SearchParameters}\n   */\n  addDisjunctiveFacetRefinement: function addDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    if (RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.addRefinement(this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * addTagRefinement adds a tag to the list used to filter the results\n   * @param {string} tag tag to be added\n   * @return {SearchParameters}\n   */\n  addTagRefinement: function addTagRefinement(tag) {\n    if (this.isTagRefined(tag)) return this;\n    var modification = {\n      tagRefinements: this.tagRefinements.concat(tag)\n    };\n    return this.setQueryParameters(modification);\n  },\n\n  /**\n   * Remove a facet from the facets attribute of the helper configuration, if it\n   * is present.\n   * @method\n   * @param {string} facet facet name to remove\n   * @return {SearchParameters}\n   */\n  removeFacet: function removeFacet(facet) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      facets: this.facets.filter(function (f) {\n        return f !== facet;\n      })\n    });\n  },\n\n  /**\n   * Remove a disjunctive facet from the disjunctiveFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet disjunctive facet name to remove\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacet: function removeDisjunctiveFacet(facet) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      disjunctiveFacets: this.disjunctiveFacets.filter(function (f) {\n        return f !== facet;\n      })\n    });\n  },\n\n  /**\n   * Remove a hierarchical facet from the hierarchicalFacets attribute of the\n   * helper configuration, if it is present.\n   * @method\n   * @param {string} facet hierarchical facet name to remove\n   * @return {SearchParameters}\n   */\n  removeHierarchicalFacet: function removeHierarchicalFacet(facet) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return this;\n    }\n\n    return this.clearRefinements(facet).setQueryParameters({\n      hierarchicalFacets: this.hierarchicalFacets.filter(function (f) {\n        return f.name !== facet;\n      })\n    });\n  },\n\n  /**\n   * Remove a refinement set on facet. If a value is provided, it will clear the\n   * refinement for the given value, otherwise it will clear all the refinement\n   * values for the faceted attribute.\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} [value] value used to filter\n   * @return {SearchParameters}\n   */\n  removeFacetRefinement: function removeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    if (!RefinementList.isRefined(this.facetsRefinements, facet, value)) return this;\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.removeRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * Remove a negative refinement on a facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeExcludeRefinement: function removeExcludeRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    if (!RefinementList.isRefined(this.facetsExcludes, facet, value)) return this;\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.removeRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n\n  /**\n   * Remove a refinement on a disjunctive facet\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {string} value value used to filter\n   * @return {SearchParameters}\n   */\n  removeDisjunctiveFacetRefinement: function removeDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    if (!RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value)) return this;\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.removeRefinement(this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * Remove a tag from the list of tag refinements\n   * @method\n   * @param {string} tag the tag to remove\n   * @return {SearchParameters}\n   */\n  removeTagRefinement: function removeTagRefinement(tag) {\n    if (!this.isTagRefined(tag)) return this;\n    var modification = {\n      tagRefinements: this.tagRefinements.filter(function (t) {\n        return t !== tag;\n      })\n    };\n    return this.setQueryParameters(modification);\n  },\n\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   * @deprecated since version 2.19.0, see {@link SearchParameters#toggleFacetRefinement}\n   */\n  toggleRefinement: function toggleRefinement(facet, value) {\n    return this.toggleFacetRefinement(facet, value);\n  },\n\n  /**\n   * Generic toggle refinement method to use with facet, disjunctive facets\n   * and hierarchical facets\n   * @param  {string} facet the facet to refine\n   * @param  {string} value the associated value\n   * @return {SearchParameters}\n   * @throws will throw an error if the facet is not declared in the settings of the helper\n   */\n  toggleFacetRefinement: function toggleFacetRefinement(facet, value) {\n    if (this.isHierarchicalFacet(facet)) {\n      return this.toggleHierarchicalFacetRefinement(facet, value);\n    } else if (this.isConjunctiveFacet(facet)) {\n      return this.toggleConjunctiveFacetRefinement(facet, value);\n    } else if (this.isDisjunctiveFacet(facet)) {\n      return this.toggleDisjunctiveFacetRefinement(facet, value);\n    }\n\n    throw new Error('Cannot refine the undeclared facet ' + facet + '; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets');\n  },\n\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleConjunctiveFacetRefinement: function toggleConjunctiveFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsRefinements: RefinementList.toggleRefinement(this.facetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleExcludeFacetRefinement: function toggleExcludeFacetRefinement(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the facets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      facetsExcludes: RefinementList.toggleRefinement(this.facetsExcludes, facet, value)\n    });\n  },\n\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleDisjunctiveFacetRefinement: function toggleDisjunctiveFacetRefinement(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      throw new Error(facet + ' is not defined in the disjunctiveFacets attribute of the helper configuration');\n    }\n\n    return this.setQueryParameters({\n      disjunctiveFacetsRefinements: RefinementList.toggleRefinement(this.disjunctiveFacetsRefinements, facet, value)\n    });\n  },\n\n  /**\n   * Switch the refinement applied over a facet/value\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {SearchParameters}\n   */\n  toggleHierarchicalFacetRefinement: function toggleHierarchicalFacetRefinement(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration');\n    }\n\n    var separator = this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(facet));\n\n    var mod = {};\n    var upOneOrMultipleLevel = this.hierarchicalFacetsRefinements[facet] !== undefined && this.hierarchicalFacetsRefinements[facet].length > 0 && ( // remove current refinement:\n    // refinement was 'beer > IPA', call is toggleRefine('beer > IPA'), refinement should be `beer`\n    this.hierarchicalFacetsRefinements[facet][0] === value || // remove a parent refinement of the current refinement:\n    //  - refinement was 'beer > IPA > Flying dog'\n    //  - call is toggleRefine('beer > IPA')\n    //  - refinement should be `beer`\n    this.hierarchicalFacetsRefinements[facet][0].indexOf(value + separator) === 0);\n\n    if (upOneOrMultipleLevel) {\n      if (value.indexOf(separator) === -1) {\n        // go back to root level\n        mod[facet] = [];\n      } else {\n        mod[facet] = [value.slice(0, value.lastIndexOf(separator))];\n      }\n    } else {\n      mod[facet] = [value];\n    }\n\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Adds a refinement on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @param {string} path the hierarchical facet path\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is refined\n   */\n  addHierarchicalFacetRefinement: function addHierarchicalFacetRefinement(facet, path) {\n    if (this.isHierarchicalFacetRefined(facet)) {\n      throw new Error(facet + ' is already refined.');\n    }\n\n    if (!this.isHierarchicalFacet(facet)) {\n      throw new Error(facet + ' is not defined in the hierarchicalFacets attribute of the helper configuration.');\n    }\n\n    var mod = {};\n    mod[facet] = [path];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Removes the refinement set on a hierarchical facet.\n   * @param {string} facet the facet name\n   * @return {SearchParameter} the new state\n   * @throws Error if the facet is not defined or if the facet is not refined\n   */\n  removeHierarchicalFacetRefinement: function removeHierarchicalFacetRefinement(facet) {\n    if (!this.isHierarchicalFacetRefined(facet)) {\n      return this;\n    }\n\n    var mod = {};\n    mod[facet] = [];\n    return this.setQueryParameters({\n      hierarchicalFacetsRefinements: defaultsPure({}, mod, this.hierarchicalFacetsRefinements)\n    });\n  },\n\n  /**\n   * Switch the tag refinement\n   * @method\n   * @param {string} tag the tag to remove or add\n   * @return {SearchParameters}\n   */\n  toggleTagRefinement: function toggleTagRefinement(tag) {\n    if (this.isTagRefined(tag)) {\n      return this.removeTagRefinement(tag);\n    }\n\n    return this.addTagRefinement(tag);\n  },\n\n  /**\n   * Test if the facet name is from one of the disjunctive facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isDisjunctiveFacet: function isDisjunctiveFacet(facet) {\n    return this.disjunctiveFacets.indexOf(facet) > -1;\n  },\n\n  /**\n   * Test if the facet name is from one of the hierarchical facets\n   * @method\n   * @param {string} facetName facet name to test\n   * @return {boolean}\n   */\n  isHierarchicalFacet: function isHierarchicalFacet(facetName) {\n    return this.getHierarchicalFacetByName(facetName) !== undefined;\n  },\n\n  /**\n   * Test if the facet name is from one of the conjunctive/normal facets\n   * @method\n   * @param {string} facet facet name to test\n   * @return {boolean}\n   */\n  isConjunctiveFacet: function isConjunctiveFacet(facet) {\n    return this.facets.indexOf(facet) > -1;\n  },\n\n  /**\n   * Returns true if the facet is refined, either for a specific value or in\n   * general.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value, optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isFacetRefined: function isFacetRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n\n    return RefinementList.isRefined(this.facetsRefinements, facet, value);\n  },\n\n  /**\n   * Returns true if the facet contains exclusions or if a specific value is\n   * excluded.\n   *\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} [value] optional value. If passed will test that this value\n   * is filtering the given facet.\n   * @return {boolean} returns true if refined\n   */\n  isExcludeRefined: function isExcludeRefined(facet, value) {\n    if (!this.isConjunctiveFacet(facet)) {\n      return false;\n    }\n\n    return RefinementList.isRefined(this.facetsExcludes, facet, value);\n  },\n\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isDisjunctiveFacetRefined: function isDisjunctiveFacetRefined(facet, value) {\n    if (!this.isDisjunctiveFacet(facet)) {\n      return false;\n    }\n\n    return RefinementList.isRefined(this.disjunctiveFacetsRefinements, facet, value);\n  },\n\n  /**\n   * Returns true if the facet contains a refinement, or if a value passed is a\n   * refinement for the facet.\n   * @method\n   * @param {string} facet name of the attribute for used for faceting\n   * @param {string} value optional, will test if the value is used for refinement\n   * if there is one, otherwise will test if the facet contains any refinement\n   * @return {boolean}\n   */\n  isHierarchicalFacetRefined: function isHierarchicalFacetRefined(facet, value) {\n    if (!this.isHierarchicalFacet(facet)) {\n      return false;\n    }\n\n    var refinements = this.getHierarchicalRefinement(facet);\n\n    if (!value) {\n      return refinements.length > 0;\n    }\n\n    return refinements.indexOf(value) !== -1;\n  },\n\n  /**\n   * Test if the triple (attribute, operator, value) is already refined.\n   * If only the attribute and the operator are provided, it tests if the\n   * contains any refinement value.\n   * @method\n   * @param {string} attribute attribute for which the refinement is applied\n   * @param {string} [operator] operator of the refinement\n   * @param {string} [value] value of the refinement\n   * @return {boolean} true if it is refined\n   */\n  isNumericRefined: function isNumericRefined(attribute, operator, value) {\n    if (value === undefined && operator === undefined) {\n      return !!this.numericRefinements[attribute];\n    }\n\n    var isOperatorDefined = this.numericRefinements[attribute] && this.numericRefinements[attribute][operator] !== undefined;\n\n    if (value === undefined || !isOperatorDefined) {\n      return isOperatorDefined;\n    }\n\n    var parsedValue = valToNumber(value);\n    var isAttributeValueDefined = findArray(this.numericRefinements[attribute][operator], parsedValue) !== undefined;\n    return isOperatorDefined && isAttributeValueDefined;\n  },\n\n  /**\n   * Returns true if the tag refined, false otherwise\n   * @method\n   * @param {string} tag the tag to check\n   * @return {boolean}\n   */\n  isTagRefined: function isTagRefined(tag) {\n    return this.tagRefinements.indexOf(tag) !== -1;\n  },\n\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedDisjunctiveFacets: function getRefinedDisjunctiveFacets() {\n    var self = this; // attributes used for numeric filter can also be disjunctive\n\n    var disjunctiveNumericRefinedFacets = intersection(Object.keys(this.numericRefinements).filter(function (facet) {\n      return Object.keys(self.numericRefinements[facet]).length > 0;\n    }), this.disjunctiveFacets);\n    return Object.keys(this.disjunctiveFacetsRefinements).filter(function (facet) {\n      return self.disjunctiveFacetsRefinements[facet].length > 0;\n    }).concat(disjunctiveNumericRefinedFacets).concat(this.getRefinedHierarchicalFacets());\n  },\n\n  /**\n   * Returns the list of all disjunctive facets refined\n   * @method\n   * @param {string} facet name of the attribute used for faceting\n   * @param {value} value value used for filtering\n   * @return {string[]}\n   */\n  getRefinedHierarchicalFacets: function getRefinedHierarchicalFacets() {\n    var self = this;\n    return intersection( // enforce the order between the two arrays,\n    // so that refinement name index === hierarchical facet index\n    this.hierarchicalFacets.map(function (facet) {\n      return facet.name;\n    }), Object.keys(this.hierarchicalFacetsRefinements).filter(function (facet) {\n      return self.hierarchicalFacetsRefinements[facet].length > 0;\n    }));\n  },\n\n  /**\n   * Returned the list of all disjunctive facets not refined\n   * @method\n   * @return {string[]}\n   */\n  getUnrefinedDisjunctiveFacets: function getUnrefinedDisjunctiveFacets() {\n    var refinedFacets = this.getRefinedDisjunctiveFacets();\n    return this.disjunctiveFacets.filter(function (f) {\n      return refinedFacets.indexOf(f) === -1;\n    });\n  },\n  managedParameters: ['index', 'facets', 'disjunctiveFacets', 'facetsRefinements', 'facetsExcludes', 'disjunctiveFacetsRefinements', 'numericRefinements', 'tagRefinements', 'hierarchicalFacets', 'hierarchicalFacetsRefinements'],\n  getQueryParams: function getQueryParams() {\n    var managedParameters = this.managedParameters;\n    var queryParams = {};\n    var self = this;\n    Object.keys(this).forEach(function (paramName) {\n      var paramValue = self[paramName];\n\n      if (managedParameters.indexOf(paramName) === -1 && paramValue !== undefined) {\n        queryParams[paramName] = paramValue;\n      }\n    });\n    return queryParams;\n  },\n\n  /**\n   * Let the user set a specific value for a given parameter. Will return the\n   * same instance if the parameter is invalid or if the value is the same as the\n   * previous one.\n   * @method\n   * @param {string} parameter the parameter name\n   * @param {any} value the value to be set, must be compliant with the definition\n   * of the attribute on the object\n   * @return {SearchParameters} the updated state\n   */\n  setQueryParameter: function setParameter(parameter, value) {\n    if (this[parameter] === value) return this;\n    var modification = {};\n    modification[parameter] = value;\n    return this.setQueryParameters(modification);\n  },\n\n  /**\n   * Let the user set any of the parameters with a plain object.\n   * @method\n   * @param {object} params all the keys and the values to be updated\n   * @return {SearchParameters} a new updated instance\n   */\n  setQueryParameters: function setQueryParameters(params) {\n    if (!params) return this;\n    var error = SearchParameters.validate(this, params);\n\n    if (error) {\n      throw error;\n    }\n\n    var self = this;\n\n    var nextWithNumbers = SearchParameters._parseNumbers(params);\n\n    var previousPlainObject = Object.keys(this).reduce(function (acc, key) {\n      acc[key] = self[key];\n      return acc;\n    }, {});\n    var nextPlainObject = Object.keys(nextWithNumbers).reduce(function (previous, key) {\n      var isPreviousValueDefined = previous[key] !== undefined;\n      var isNextValueDefined = nextWithNumbers[key] !== undefined;\n\n      if (isPreviousValueDefined && !isNextValueDefined) {\n        return omit(previous, [key]);\n      }\n\n      if (isNextValueDefined) {\n        previous[key] = nextWithNumbers[key];\n      }\n\n      return previous;\n    }, previousPlainObject);\n    return new this.constructor(nextPlainObject);\n  },\n\n  /**\n   * Returns a new instance with the page reset. Two scenarios possible:\n   * the page is omitted -> return the given instance\n   * the page is set -> return a new instance with a page of 0\n   * @return {SearchParameters} a new updated instance\n   */\n  resetPage: function resetPage() {\n    if (this.page === undefined) {\n      return this;\n    }\n\n    return this.setPage(0);\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSortBy: function _getHierarchicalFacetSortBy(hierarchicalFacet) {\n    return hierarchicalFacet.sortBy || ['isRefined:desc', 'name:asc'];\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet separator or the default one (`>`)\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.separator or `>` as default\n   */\n  _getHierarchicalFacetSeparator: function _getHierarchicalFacetSeparator(hierarchicalFacet) {\n    return hierarchicalFacet.separator || ' > ';\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet prefix path or null\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.rootPath or null as default\n   */\n  _getHierarchicalRootPath: function _getHierarchicalRootPath(hierarchicalFacet) {\n    return hierarchicalFacet.rootPath || null;\n  },\n\n  /**\n   * Helper function to check if we show the parent level of the hierarchicalFacet\n   * @private\n   * @param  {object} hierarchicalFacet\n   * @return {string} returns the hierarchicalFacet.showParentLevel or true as default\n   */\n  _getHierarchicalShowParentLevel: function _getHierarchicalShowParentLevel(hierarchicalFacet) {\n    if (typeof hierarchicalFacet.showParentLevel === 'boolean') {\n      return hierarchicalFacet.showParentLevel;\n    }\n\n    return true;\n  },\n\n  /**\n   * Helper function to get the hierarchicalFacet by it's name\n   * @param  {string} hierarchicalFacetName\n   * @return {object} a hierarchicalFacet\n   */\n  getHierarchicalFacetByName: function getHierarchicalFacetByName(hierarchicalFacetName) {\n    return find(this.hierarchicalFacets, function (f) {\n      return f.name === hierarchicalFacetName;\n    });\n  },\n\n  /**\n   * Get the current breadcrumb for a hierarchical facet, as an array\n   * @param  {string} facetName Hierarchical facet name\n   * @return {array.<string>} the path as an array of string\n   */\n  getHierarchicalFacetBreadcrumb: function getHierarchicalFacetBreadcrumb(facetName) {\n    if (!this.isHierarchicalFacet(facetName)) {\n      return [];\n    }\n\n    var refinement = this.getHierarchicalRefinement(facetName)[0];\n    if (!refinement) return [];\n\n    var separator = this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(facetName));\n\n    var path = refinement.split(separator);\n    return path.map(function (part) {\n      return part.trim();\n    });\n  },\n  toString: function toString() {\n    return JSON.stringify(this, null, 2);\n  }\n};\n/**\n * Callback used for clearRefinement method\n * @callback SearchParameters.clearCallback\n * @param {OperatorList|FacetList} value the value of the filter\n * @param {string} key the current attribute name\n * @param {string} type `numeric`, `disjunctiveFacet`, `conjunctiveFacet`, `hierarchicalFacet` or `exclude`\n * depending on the type of facet\n * @return {boolean} `true` if the element should be removed. `false` otherwise.\n */\n\nmodule.exports = SearchParameters;","module.exports = [{\"name\":\"English\",\"translated_name\":\"English\",\"code\":\"en\",\"status\":2},{\"name\":\"Arabic\",\"translated_name\":\"العربية\",\"code\":\"ar\",\"status\":2},{\"name\":\"Azerbaijani\",\"translated_name\":\"Azərbaycanca\",\"code\":\"az\",\"status\":2},{\"name\":\"Bulgarian\",\"translated_name\":\"Български\",\"code\":\"bg\",\"status\":1},{\"name\":\"Bengali\",\"translated_name\":\"বাংলা\",\"code\":\"bn\",\"status\":1},{\"name\":\"Catalan\",\"translated_name\":\"Català\",\"code\":\"ca\",\"status\":1},{\"name\":\"German\",\"translated_name\":\"Deutsch\",\"code\":\"de\",\"status\":1},{\"name\":\"Greek\",\"translated_name\":\"Ελληνικά\",\"code\":\"el\",\"status\":1},{\"name\":\"Spanish\",\"translated_name\":\"Español\",\"code\":\"es\",\"status\":2},{\"name\":\"Persian\",\"translated_name\":\"فارسی\",\"code\":\"fa\",\"status\":1},{\"name\":\"French\",\"translated_name\":\"Français\",\"code\":\"fr\",\"status\":2},{\"name\":\"Gujarati\",\"translated_name\":\"ગુજરાતી\",\"code\":\"gu\",\"status\":0},{\"name\":\"Hebrew\",\"translated_name\":\"עברית\",\"code\":\"he\",\"status\":1},{\"name\":\"Hindi\",\"translated_name\":\"हिन्दी\",\"code\":\"hi\",\"status\":0},{\"name\":\"Haitian Creole\",\"translated_name\":\"Kreyòl ayisyen\",\"code\":\"ht\",\"status\":0},{\"name\":\"Hungarian\",\"translated_name\":\"magyar\",\"code\":\"hu\",\"status\":2},{\"name\":\"Armenian\",\"translated_name\":\"Հայերեն\",\"code\":\"hy\",\"status\":0},{\"name\":\"Indonesian\",\"translated_name\":\"Bahasa Indonesia\",\"code\":\"id\",\"status\":1},{\"name\":\"Italian\",\"translated_name\":\"Italiano\",\"code\":\"it\",\"status\":2},{\"name\":\"Japanese\",\"translated_name\":\"日本語\",\"code\":\"ja\",\"status\":2},{\"name\":\"Georgian\",\"translated_name\":\"ქართული\",\"code\":\"ka\",\"status\":0},{\"name\":\"Central Khmer\",\"translated_name\":\"ភាសាខ្មែរ\",\"code\":\"km\",\"status\":0},{\"name\":\"Kannada\",\"translated_name\":\"ಕನ್ನಡ\",\"code\":\"kn\",\"status\":0},{\"name\":\"Korean\",\"translated_name\":\"한국어\",\"code\":\"ko\",\"status\":2},{\"name\":\"Kurdish\",\"translated_name\":\"کوردی‎\",\"code\":\"ku\",\"status\":0},{\"name\":\"Lithuanian\",\"translated_name\":\"Lietuvių kalba\",\"code\":\"lt\",\"status\":0},{\"name\":\"Malayalam\",\"translated_name\":\"മലയാളം\",\"code\":\"ml\",\"status\":0},{\"name\":\"Mongolian\",\"translated_name\":\"Монгол хэл\",\"code\":\"mn\",\"status\":2},{\"name\":\"Nepali\",\"translated_name\":\"नेपाली\",\"code\":\"ne\",\"status\":0},{\"name\":\"Dutch\",\"translated_name\":\"Nederlands\",\"code\":\"nl\",\"status\":0},{\"name\":\"Polish\",\"translated_name\":\"Polski\",\"code\":\"pl\",\"status\":2},{\"name\":\"Portuguese (Brazil)\",\"translated_name\":\"Português do Brasil\",\"code\":\"pt-br\",\"status\":2},{\"name\":\"Portuguese (Portugal)\",\"translated_name\":\"Português europeu\",\"code\":\"pt-pt\",\"status\":0},{\"name\":\"Romanian\",\"translated_name\":\"Română\",\"code\":\"ro\",\"status\":0},{\"name\":\"Russian\",\"translated_name\":\"Русский\",\"code\":\"ru\",\"status\":2},{\"name\":\"Sinhala\",\"translated_name\":\"සිංහල\",\"code\":\"si\",\"status\":0},{\"name\":\"Swedish\",\"translated_name\":\"Svenska\",\"code\":\"sv\",\"status\":0},{\"name\":\"Tamil\",\"translated_name\":\"தமிழ்\",\"code\":\"ta\",\"status\":0},{\"name\":\"Telugu\",\"translated_name\":\"తెలుగు\",\"code\":\"te\",\"status\":0},{\"name\":\"Thai\",\"translated_name\":\"ไทย\",\"code\":\"th\",\"status\":0},{\"name\":\"Tagalog\",\"translated_name\":\"Wikang Tagalog\",\"code\":\"tl\",\"status\":0},{\"name\":\"Turkish\",\"translated_name\":\"Türkçe\",\"code\":\"tr\",\"status\":2},{\"name\":\"Ukrainian\",\"translated_name\":\"Українська\",\"code\":\"uk\",\"status\":2},{\"name\":\"Urdu\",\"translated_name\":\"اردو\",\"code\":\"ur\",\"status\":0},{\"name\":\"Uzbek\",\"translated_name\":\"Oʻzbekcha\",\"code\":\"uz\",\"status\":0},{\"name\":\"Vietnamese\",\"translated_name\":\"Tiếng Việt\",\"code\":\"vi\",\"status\":1},{\"name\":\"Simplified Chinese\",\"translated_name\":\"简体中文\",\"code\":\"zh-hans\",\"status\":2},{\"name\":\"Traditional Chinese\",\"translated_name\":\"繁體中文\",\"code\":\"zh-hant\",\"status\":2}]","'use strict';\n\nfunction intersection(arr1, arr2) {\n  return arr1.filter(function (value, index) {\n    return arr2.indexOf(value) > -1 && arr1.indexOf(value) === index\n    /* skips duplicates */\n    ;\n  });\n}\n\nmodule.exports = intersection;","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread\";\nimport { omit } from './utils';\nexport function getIndexId(context) {\n  return hasMultipleIndices(context) ? context.multiIndexContext.targetedIndex : context.ais.mainTargetedIndex;\n}\nexport function getResults(searchResults, context) {\n  if (searchResults.results) {\n    if (searchResults.results.hits) {\n      return searchResults.results;\n    }\n\n    var indexId = getIndexId(context);\n\n    if (searchResults.results[indexId]) {\n      return searchResults.results[indexId];\n    }\n  }\n\n  return null;\n}\nexport function hasMultipleIndices(context) {\n  return context && context.multiIndexContext;\n} // eslint-disable-next-line max-params\n\nexport function refineValue(searchState, nextRefinement, context, resetPage, namespace) {\n  if (hasMultipleIndices(context)) {\n    var indexId = getIndexId(context);\n    return namespace ? refineMultiIndexWithNamespace(searchState, nextRefinement, indexId, resetPage, namespace) : refineMultiIndex(searchState, nextRefinement, indexId, resetPage);\n  } else {\n    // When we have a multi index page with shared widgets we should also\n    // reset their page to 1 if the resetPage is provided. Otherwise the\n    // indices will always be reset\n    // see: https://github.com/algolia/react-instantsearch/issues/310\n    // see: https://github.com/algolia/react-instantsearch/issues/637\n    if (searchState.indices && resetPage) {\n      Object.keys(searchState.indices).forEach(function (targetedIndex) {\n        searchState = refineValue(searchState, {\n          page: 1\n        }, {\n          multiIndexContext: {\n            targetedIndex: targetedIndex\n          }\n        }, true, namespace);\n      });\n    }\n\n    return namespace ? refineSingleIndexWithNamespace(searchState, nextRefinement, resetPage, namespace) : refineSingleIndex(searchState, nextRefinement, resetPage);\n  }\n}\n\nfunction refineMultiIndex(searchState, nextRefinement, indexId, resetPage) {\n  var page = resetPage ? {\n    page: 1\n  } : undefined;\n  var state = searchState.indices && searchState.indices[indexId] ? _objectSpread({}, searchState.indices, _defineProperty({}, indexId, _objectSpread({}, searchState.indices[indexId], nextRefinement, page))) : _objectSpread({}, searchState.indices, _defineProperty({}, indexId, _objectSpread({}, nextRefinement, page)));\n  return _objectSpread({}, searchState, {\n    indices: state\n  });\n}\n\nfunction refineSingleIndex(searchState, nextRefinement, resetPage) {\n  var page = resetPage ? {\n    page: 1\n  } : undefined;\n  return _objectSpread({}, searchState, nextRefinement, page);\n} // eslint-disable-next-line max-params\n\n\nfunction refineMultiIndexWithNamespace(searchState, nextRefinement, indexId, resetPage, namespace) {\n  var _objectSpread4;\n\n  var page = resetPage ? {\n    page: 1\n  } : undefined;\n  var state = searchState.indices && searchState.indices[indexId] ? _objectSpread({}, searchState.indices, _defineProperty({}, indexId, _objectSpread({}, searchState.indices[indexId], (_objectSpread4 = {}, _defineProperty(_objectSpread4, namespace, _objectSpread({}, searchState.indices[indexId][namespace], nextRefinement)), _defineProperty(_objectSpread4, \"page\", 1), _objectSpread4)))) : _objectSpread({}, searchState.indices, _defineProperty({}, indexId, _objectSpread(_defineProperty({}, namespace, nextRefinement), page)));\n  return _objectSpread({}, searchState, {\n    indices: state\n  });\n}\n\nfunction refineSingleIndexWithNamespace(searchState, nextRefinement, resetPage, namespace) {\n  var page = resetPage ? {\n    page: 1\n  } : undefined;\n  return _objectSpread({}, searchState, _defineProperty({}, namespace, _objectSpread({}, searchState[namespace], nextRefinement)), page);\n}\n\nfunction getNamespaceAndAttributeName(id) {\n  var parts = id.match(/^([^.]*)\\.(.*)/);\n  var namespace = parts && parts[1];\n  var attributeName = parts && parts[2];\n  return {\n    namespace: namespace,\n    attributeName: attributeName\n  };\n}\n\nfunction hasRefinements(_ref) {\n  var multiIndex = _ref.multiIndex,\n      indexId = _ref.indexId,\n      namespace = _ref.namespace,\n      attributeName = _ref.attributeName,\n      id = _ref.id,\n      searchState = _ref.searchState;\n\n  if (multiIndex && namespace) {\n    return searchState.indices && searchState.indices[indexId] && searchState.indices[indexId][namespace] && Object.hasOwnProperty.call(searchState.indices[indexId][namespace], attributeName);\n  }\n\n  if (multiIndex) {\n    return searchState.indices && searchState.indices[indexId] && Object.hasOwnProperty.call(searchState.indices[indexId], id);\n  }\n\n  if (namespace) {\n    return searchState[namespace] && Object.hasOwnProperty.call(searchState[namespace], attributeName);\n  }\n\n  return Object.hasOwnProperty.call(searchState, id);\n}\n\nfunction getRefinements(_ref2) {\n  var multiIndex = _ref2.multiIndex,\n      indexId = _ref2.indexId,\n      namespace = _ref2.namespace,\n      attributeName = _ref2.attributeName,\n      id = _ref2.id,\n      searchState = _ref2.searchState;\n\n  if (multiIndex && namespace) {\n    return searchState.indices[indexId][namespace][attributeName];\n  }\n\n  if (multiIndex) {\n    return searchState.indices[indexId][id];\n  }\n\n  if (namespace) {\n    return searchState[namespace][attributeName];\n  }\n\n  return searchState[id];\n}\n\nexport function getCurrentRefinementValue(props, searchState, context, id, defaultValue) {\n  var indexId = getIndexId(context);\n\n  var _getNamespaceAndAttri = getNamespaceAndAttributeName(id),\n      namespace = _getNamespaceAndAttri.namespace,\n      attributeName = _getNamespaceAndAttri.attributeName;\n\n  var multiIndex = hasMultipleIndices(context);\n  var args = {\n    multiIndex: multiIndex,\n    indexId: indexId,\n    namespace: namespace,\n    attributeName: attributeName,\n    id: id,\n    searchState: searchState\n  };\n  var hasRefinementsValue = hasRefinements(args);\n\n  if (hasRefinementsValue) {\n    return getRefinements(args);\n  }\n\n  if (props.defaultRefinement) {\n    return props.defaultRefinement;\n  }\n\n  return defaultValue;\n}\nexport function cleanUpValue(searchState, context, id) {\n  var indexId = getIndexId(context);\n\n  var _getNamespaceAndAttri2 = getNamespaceAndAttributeName(id),\n      namespace = _getNamespaceAndAttri2.namespace,\n      attributeName = _getNamespaceAndAttri2.attributeName;\n\n  if (hasMultipleIndices(context) && Boolean(searchState.indices)) {\n    return cleanUpValueWithMultiIndex({\n      attribute: attributeName,\n      searchState: searchState,\n      indexId: indexId,\n      id: id,\n      namespace: namespace\n    });\n  }\n\n  return cleanUpValueWithSingleIndex({\n    attribute: attributeName,\n    searchState: searchState,\n    id: id,\n    namespace: namespace\n  });\n}\n\nfunction cleanUpValueWithSingleIndex(_ref3) {\n  var searchState = _ref3.searchState,\n      id = _ref3.id,\n      namespace = _ref3.namespace,\n      attribute = _ref3.attribute;\n\n  if (namespace) {\n    return _objectSpread({}, searchState, _defineProperty({}, namespace, omit(searchState[namespace], [attribute])));\n  }\n\n  return omit(searchState, [id]);\n}\n\nfunction cleanUpValueWithMultiIndex(_ref4) {\n  var searchState = _ref4.searchState,\n      indexId = _ref4.indexId,\n      id = _ref4.id,\n      namespace = _ref4.namespace,\n      attribute = _ref4.attribute;\n  var indexSearchState = searchState.indices[indexId];\n\n  if (namespace && indexSearchState) {\n    return _objectSpread({}, searchState, {\n      indices: _objectSpread({}, searchState.indices, _defineProperty({}, indexId, _objectSpread({}, indexSearchState, _defineProperty({}, namespace, omit(indexSearchState[namespace], [attribute])))))\n    });\n  }\n\n  if (indexSearchState) {\n    return _objectSpread({}, searchState, {\n      indices: _objectSpread({}, searchState.indices, _defineProperty({}, indexId, omit(indexSearchState, [id])))\n    });\n  }\n\n  return searchState;\n}","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport Container from 'components/Container';\n// import ExternalFooterLink from './ExternalFooterLink';\n// import FooterLink from './FooterLink';\nimport FooterNav from './FooterNav';\n// import MetaTitle from 'templates/components/MetaTitle';\nimport SectionLinks from './SectionLinks';\nimport React from 'react';\nimport {colors, media} from 'theme';\n// import {sectionListCommunity, sectionListDocs} from 'utils/sectionList';\n\n// $FlowFixMe\nimport navFooter from '../../../content/footerNav.yml';\n\n// import ossLogoPng from 'images/oss_logo.png';\n\nconst Footer = ({layoutHasSidebar = false}: {layoutHasSidebar: boolean}) => {\n  return (\n  <footer\n    css={{\n      backgroundColor: colors.darker,\n      color: colors.white,\n      paddingTop: 10,\n      paddingBottom: 50,\n\n      [media.size('sidebarFixed')]: {\n        paddingTop: 40,\n      },\n      '@media print': {\n        display: 'none',\n      },\n    }}>\n    <Container>\n      <div\n        css={{\n          display: 'flex',\n          flexDirection: 'row',\n          flexWrap: 'wrap',\n          justifyContent: 'space-between',\n\n\n          [media.between('small', 'medium')]: {\n            paddingRight: layoutHasSidebar ? 240 : null,\n          },\n\n          [media.between('large', 'largerSidebar')]: {\n            paddingRight: layoutHasSidebar ? 280 : null,\n          },\n          [media.between('largerSidebar', 'sidebarFixed', true)]: {\n            paddingRight: layoutHasSidebar ? 380 : null,\n          },\n        }}>\n        <div\n          css={{\n            flexWrap: 'wrap',\n            display: 'flex',\n            justifyContent: 'flex-end',\n\n            [media.lessThan('large')]: {\n              width: '100%',\n              justifyContent: 'flex-start',\n            },\n            [media.greaterThan('xlarge')]: {\n              width: 'calc(100% / 3 * 2)',\n              paddingLeft: 40,\n            },\n            [media.greaterThan('sidebarFixed')]: {\n              width: 'calc(100% / 5 * 2)',\n              paddingLeft: 40,\n            },\n          }}>\n\n          <FooterNav layoutHasSidebar={layoutHasSidebar}>\n            <SectionLinks links={navFooter.privacy.items} />\n          </FooterNav>\n\n        </div>\n        <section\n          css={{\n            paddingTop: 40,\n            display: 'block !important', // Override 'Installation' <style> specifics\n\n            [media.greaterThan('xlarge')]: {\n              width: 'calc(100% / 3)',\n              order: -1,\n            },\n            [media.greaterThan('large')]: {\n              order: -1,\n              width: layoutHasSidebar ? null : 'calc(100% / 3)',\n            },\n            [media.lessThan('large')]: {\n              textAlign: 'start',\n              width: '100%',\n              paddingTop: 40,\n            },\n          }}>\n          <a\n            href=\"https://scandipwa.com/\"\n            target=\"_blank\"\n            rel=\"noopener\">\n             <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"180\" height=\"50\" viewBox=\"0 0 206 50\">\n                <g fill=\"none\" fillRule=\"evenodd\"><text fill=\"#bbb\" fontFamily=\"Montserrat-SemiBold, Montserrat\" fontSize=\"12\"\n                fontWeight=\"500\" letterSpacing=\"-.1\">\n                <tspan x=\"0\" y=\"47\">The first PWA theme for Magento</tspan>\n                </text>\n                <path fill=\"#bbb\"\n                d=\"M149.62 29.165c-.043-.098-.074-.2-.13-.288-1.283-1.975-2.568-3.945-3.851-5.918-.027-.04-.047-.085-.078-.144l4.036-11.133c1.506 2.667 2.978 5.272 4.494 7.959l6.383-17.502h6.185l5.889 17.366c.068.013.08.02.091.015.012-.002.023-.013.03-.023.034-.064.071-.128.102-.192l8.167-17.121c.004-.01.016-.02.039-.045h7.994c-.04.109-.066.208-.11.3-1.247 2.766-2.497 5.532-3.743 8.298-1.348 2.986-2.689 5.976-4.034 8.964-1.367 3.03-2.737 6.062-4.102 9.094-.054.119-.086.247-.126.37h-8.035c-.027-.138-.039-.282-.085-.415-.9-2.581-1.805-5.163-2.708-7.742-.67-1.911-1.338-3.822-2.005-5.733l-.606-1.73a.81.81 0 0 0-.22.34c-.356.974-.708 1.95-1.065 2.923-1.122 3.056-2.244 6.114-3.37 9.17-.392 1.064-.792 2.125-1.189 3.187h-7.953zM137.8 2.127c1.573.008 3.115.24 4.58.782 1.694.628 3.031 1.635 4.048 3.048-1.617 4.463-3.24 8.944-4.866 13.427-.447.171-.911.222-1.368.296-.898.146-1.808.169-2.718.169h-4.934c-.01.175-.023.315-.023.453v7.716c0 .38-.008.764-.01 1.147h-7.632c.004-.144.01-.286.01-.43l.001-13.08V2.13c.094-.006.156-.013.22-.013 4.23 0 8.463-.01 12.693.01zm-4.988 5.214c-.087 0-.175.02-.274.031v7.251c.127.014.204.03.282.03.885 0 1.77.019 2.652-.006.665-.022 1.331-.047 1.988-.185 1.243-.264 2.12-.896 2.518-1.99.373-1.029.387-2.069-.054-3.09-.348-.797-.963-1.368-1.86-1.683-.72-.249-1.476-.338-2.238-.352-1.004-.017-2.009-.006-3.014-.006zM196.78 29.165c-.026-.103-.035-.21-.076-.31-.591-1.48-1.188-2.964-1.785-4.445-.01-.022-.029-.04-.076-.098-.122-.006-.278-.017-.433-.017-3.28-.002-6.56-.002-9.839-.002-.157 0-.315-.006-.53-.01.777-1.765 1.533-3.482 2.301-5.22h6.694l-3.175-7.96 3.956-8.952.43 1.01c1.928 4.579 3.858 9.155 5.787 13.733 1.66 3.94 3.316 7.883 4.977 11.823.054.13.134.251.204.376-.014.025-.026.068-.041.07-.107.003-.214.002-.32.002h-8.074z\">\n                </path>\n                <path fill=\"#bbb\"\n                d=\"M3.088 3.463c1.915-1.363 4.35-2.044 7.308-2.044 3.522 0 6.543.72 9.063 2.16v6.555c-2.316-1.747-5.142-2.597-8.484-2.544-2.288.025-3.433.604-3.433 1.734 0 .54.348 1.022 1.042 1.446.694.426 1.561.785 2.603 1.079 1.04.297 2.166.694 3.373 1.197 1.209.5 2.335 1.06 3.375 1.676 1.042.618 1.909 1.497 2.603 2.642.694 1.145 1.042 2.461 1.042 3.954 0 5.5-3.6 8.25-10.797 8.25-3.935 0-7.393-.822-10.374-2.466v-6.75c2.955 2.031 6.233 3.046 9.833 3.046 1.439 0 2.467-.134 3.085-.404.617-.27.926-.739.926-1.408 0-.694-.482-1.298-1.447-1.811-.964-.516-2.134-.998-3.509-1.447a41.922 41.922 0 0 1-4.127-1.6c-1.374-.618-2.544-1.555-3.509-2.815-.964-1.26-1.446-2.776-1.446-4.55 0-2.57.958-4.538 2.873-5.9M26.757 12.448c2.096-1.722 4.61-2.584 7.539-2.584 2.031 0 3.933.424 5.707 1.274v5.59a9.249 9.249 0 0 0-4.704-1.273c-1.44 0-2.622.348-3.548 1.042-.925.694-1.39 1.773-1.39 3.239 0 1.388.465 2.442 1.39 3.16.926.722 2.069 1.082 3.431 1.082 1.904 0 3.573-.412 5.014-1.235v5.591c-1.98.825-4.1 1.235-6.363 1.235-2.828 0-5.239-.803-7.231-2.41-1.991-1.607-2.988-3.953-2.988-7.038 0-3.392 1.047-5.95 3.143-7.673M49.715 24.614c.41.348.95.521 1.62.521 1.156 0 2.173-.32 3.046-.964v-2.508c-.695-.23-1.478-.346-2.353-.346-1.953 0-2.93.669-2.93 2.004 0 .515.205.945.617 1.293m12.494.25c.257 0 .502-.038.733-.116v4.05c-.978.386-2.084.579-3.317.579-2.056 0-3.522-.68-4.397-2.045-1.901 1.493-4.05 2.237-6.438 2.237-1.826 0-3.356-.513-4.59-1.543-1.235-1.027-1.85-2.415-1.85-4.164 0-1.106.244-2.076.732-2.91.488-.836 1.137-1.474 1.948-1.91a10.167 10.167 0 0 1 2.545-.964c.886-.206 1.817-.309 2.795-.309 1.388 0 2.726.142 4.01.424v-.655c0-.694-.328-1.254-.983-1.678-.655-.424-1.614-.635-2.871-.635-1.954 0-4.114.476-6.48 1.426v-5.515c2.52-.822 4.922-1.232 7.21-1.232 3.163 0 5.566.655 7.213 1.965 1.644 1.312 2.467 3.534 2.467 6.672v5.167c0 .772.425 1.157 1.273 1.157M76.97 9.903c2.416 0 4.255.713 5.515 2.14 1.26 1.425 1.89 3.247 1.89 5.457v11.491h-6.556V18.387c0-.951-.258-1.672-.771-2.16-.516-.488-1.196-.733-2.046-.733-1.26 0-2.313.54-3.16 1.62V28.99h-6.556v-18.51h5.784v2.12c1.672-1.798 3.637-2.698 5.9-2.698M100.176 15.976c-.668-.449-1.427-.675-2.274-.675-1.287 0-2.269.438-2.951 1.31-.68.876-1.02 1.916-1.02 3.125s.34 2.249 1.02 3.124c.682.873 1.664 1.31 2.95 1.31.848 0 1.607-.224 2.275-.675.669-.449 1.157-.997 1.466-1.638v-4.242c-.309-.642-.797-1.19-1.466-1.639zm8.021-13.98v26.995h-5.783v-2.508c-.515.875-1.307 1.608-2.372 2.199-1.067.591-2.372.886-3.915.886-1.491 0-2.827-.281-4.01-.847-1.182-.566-2.12-1.324-2.815-2.275-.694-.952-1.221-2-1.58-3.143a11.82 11.82 0 0 1-.541-3.567c0-1.235.18-2.424.54-3.567.36-1.144.887-2.191 1.58-3.144.697-.95 1.634-1.709 2.815-2.274 1.184-.566 2.52-.848 4.01-.848 2.342 0 4.179.694 5.516 2.082V1.997h6.555zM112.161 28.99h6.555V10.48h-6.555v18.51zm5.957-22.038c-.706.605-1.6.908-2.68.908s-1.972-.303-2.68-.908c-.708-.604-1.06-1.51-1.06-2.717 0-1.184.36-2.077 1.08-2.681.719-.605 1.607-.906 2.66-.906 1.08 0 1.974.301 2.68.906.707.604 1.061 1.497 1.061 2.68 0 1.208-.354 2.114-1.061 2.718z\">\n              </path>\n                </g>\n              </svg>\n          </a>\n          <p\n            css={{\n              color: colors.subtleOnDark,\n              paddingTop: 15,\n              fontSize: 12,\n            }}>\n            {`© ${new Date().getFullYear()} ScandiPWA. All Rights Reserved`}\n          </p>\n        </section>\n      </div>\n    </Container>\n  </footer>\n)};\n\nexport default Footer;\n","import createConnector from '../core/createConnector';\nimport { getResults } from '../core/indexUtils';\nimport { addAbsolutePositions, addQueryID } from '../core/utils';\n/**\n * connectHits connector provides the logic to create connected\n * components that will render the results retrieved from\n * Algolia.\n *\n * To configure the number of hits retrieved, use [HitsPerPage widget](widgets/HitsPerPage.html),\n * [connectHitsPerPage connector](connectors/connectHitsPerPage.html) or pass the hitsPerPage\n * prop to a [Configure](guide/Search_parameters.html) widget.\n *\n * **Warning:** you will need to use the **objectID** property available on every hit as a key\n * when iterating over them. This will ensure you have the best possible UI experience\n * especially on slow networks.\n * @name connectHits\n * @kind connector\n * @providedPropType {array.<object>} hits - the records that matched the search state\n * @example\n * import React from 'react';\n * import algoliasearch from 'algoliasearch/lite';\n * import { InstantSearch, Highlight, connectHits } from 'react-instantsearch-dom';\n *\n * const searchClient = algoliasearch(\n *   'latency',\n *   '6be0576ff61c053d5f9a3225e2a90f76'\n * );\n * const CustomHits = connectHits(({ hits }) => (\n *   <div>\n *     {hits.map(hit =>\n *       <p key={hit.objectID}>\n *         <Highlight attribute=\"name\" hit={hit} />\n *       </p>\n *     )}\n *   </div>\n * ));\n *\n * const App = () => (\n *   <InstantSearch\n *     searchClient={searchClient}\n *     indexName=\"instant_search\"\n *   >\n *     <CustomHits />\n *   </InstantSearch>\n * );\n */\n\nexport default createConnector({\n  displayName: 'AlgoliaHits',\n  getProvidedProps: function getProvidedProps(props, searchState, searchResults) {\n    var results = getResults(searchResults, {\n      ais: props.contextValue,\n      multiIndexContext: props.indexContextValue\n    });\n\n    if (!results) {\n      return {\n        hits: []\n      };\n    }\n\n    var hitsWithPositions = addAbsolutePositions(results.hits, results.hitsPerPage, results.page);\n    var hitsWithPositionsAndQueryID = addQueryID(hitsWithPositions, results.queryID);\n    return {\n      hits: hitsWithPositionsAndQueryID\n    };\n  },\n\n  /**\n   * Hits needs to be considered as a widget to trigger a search,\n   * even if no other widgets are used.\n   *\n   * To be considered as a widget you need either:\n   * - getSearchParameters\n   * - getMetadata\n   * - transitionState\n   *\n   * See: createConnector.tsx\n   */\n  getSearchParameters: function getSearchParameters(searchParameters) {\n    return searchParameters;\n  }\n});","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport React from 'react';\nimport {media} from 'theme';\n\nimport type {Node} from 'react';\n\ntype Props = {\n  children: Node,\n  title?: string,\n  layoutHasSidebar: boolean,\n};\n\nconst FooterNav = ({children, title, layoutHasSidebar = false}: Props) => (\n  <div\n    css={{\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      // width: '100%',\n      paddingTop: 40,\n\n      [media.size('sidebarFixed')]: {\n        paddingTop: 0,\n        // width: '25%',\n      },\n    }}>\n    <div\n      css={{\n        display: 'flex',\n        flexDirection: 'row',\n        [media.lessThan('medium')]: {\n          flexDirection: 'column',\n        },\n      }}>\n      {children}\n    </div>\n  </div>\n);\n\nexport default FooterNav;\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport Footer from './Footer';\n\nexport default Footer;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport Header from './Header';\n\nexport default Header;\n","'use strict';\n\nmodule.exports = function compact(array) {\n  if (!Array.isArray(array)) {\n    return [];\n  }\n\n  return array.filter(Boolean);\n};","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport Layout from './Layout';\n\nexport default Layout;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport React from 'react';\n\nimport {media} from 'theme';\n\nimport type {Node} from 'react';\n\n/**\n * This component wraps page content sections (eg header, footer, main).\n * It provides consistent margin and max width behavior.\n */\nconst Container = ({children}: {children: Node}) => (\n  <div\n    css={{\n      paddingLeft: 20,\n      paddingRight: 20,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n      [media.greaterThan('medium')]: {\n        width: '90%',\n      },\n\n      [media.size('xxlarge')]: {\n        maxWidth: 1260,\n      },\n    }}>\n    {children}\n  </div>\n);\n\nexport default Container;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @providesModule site-constants\n * @flow\n */\n\n// NOTE: We can't just use `location.toString()` because when we are rendering\n// the SSR part in node.js we won't have a proper location.\nconst urlRoot = 'https://reactjs.org';\nconst version = '16.13.1';\nconst babelURL = 'https://unpkg.com/babel-standalone@6.26.0/babel.min.js';\n\nexport {babelURL, urlRoot, version};\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n */\n\nimport Container from './Container';\n\nexport default Container;\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\nvar hasElementType = typeof Element !== 'undefined';\n\nfunction equal(a, b) {\n  // fast-deep-equal index.js 2.0.1\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a),\n        arrB = isArray(b),\n        i,\n        length,\n        key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n\n      for (i = length; i-- !== 0;) {\n        if (!equal(a[i], b[i])) return false;\n      }\n\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n    var dateA = a instanceof Date,\n        dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n    var regexpA = a instanceof RegExp,\n        regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n    var keys = keyList(a);\n    length = keys.length;\n    if (length !== keyList(b).length) return false;\n\n    for (i = length; i-- !== 0;) {\n      if (!hasProp.call(b, keys[i])) return false;\n    } // end fast-deep-equal\n    // start react-fast-compare\n    // custom handling for DOM elements\n\n\n    if (hasElementType && a instanceof Element && b instanceof Element) return a === b; // custom handling for React\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n\n      if (key === '_owner' && a.$$typeof) {\n        // React-specific: avoid traversing React elements' _owner.\n        //  _owner contains circular references\n        // and is not needed when comparing the actual elements (and not their owners)\n        // .$$typeof and ._store on just reasonable markers of a react element\n        continue;\n      } else {\n        // all other properties should be traversed as usual\n        if (!equal(a[key], b[key])) return false;\n      }\n    } // end react-fast-compare\n    // fast-deep-equal index.js 2.0.1\n\n\n    return true;\n  }\n\n  return a !== a && b !== b;\n} // end fast-deep-equal\n\n\nmodule.exports = function exportedEqual(a, b) {\n  try {\n    return equal(a, b);\n  } catch (error) {\n    if (error.message && error.message.match(/stack|recursion/i) || error.number === -2146828260) {\n      // warn on circular references, don't crash\n      // browsers give this different errors name and messages:\n      // chrome/safari: \"RangeError\", \"Maximum call stack size exceeded\"\n      // firefox: \"InternalError\", too much recursion\"\n      // edge: \"Error\", \"Out of stack space\"\n      console.warn('Warning: react-fast-compare does not handle circular references.', error.name, error.message);\n      return false;\n    } // some other error. we should definitely know about these\n\n\n    throw error;\n  }\n};","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nexports.f = wellKnownSymbol;\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar getBuiltIn = require('../internals/get-built-in');\nvar IS_PURE = require('../internals/is-pure');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar NATIVE_SYMBOL = require('../internals/native-symbol');\nvar USE_SYMBOL_AS_UID = require('../internals/use-symbol-as-uid');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toPrimitive = require('../internals/to-primitive');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\nvar nativeObjectCreate = require('../internals/object-create');\nvar objectKeys = require('../internals/object-keys');\nvar getOwnPropertyNamesModule = require('../internals/object-get-own-property-names');\nvar getOwnPropertyNamesExternal = require('../internals/object-get-own-property-names-external');\nvar getOwnPropertySymbolsModule = require('../internals/object-get-own-property-symbols');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar definePropertyModule = require('../internals/object-define-property');\nvar propertyIsEnumerableModule = require('../internals/object-property-is-enumerable');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar redefine = require('../internals/redefine');\nvar shared = require('../internals/shared');\nvar sharedKey = require('../internals/shared-key');\nvar hiddenKeys = require('../internals/hidden-keys');\nvar uid = require('../internals/uid');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar wrappedWellKnownSymbolModule = require('../internals/well-known-symbol-wrapped');\nvar defineWellKnownSymbol = require('../internals/define-well-known-symbol');\nvar setToStringTag = require('../internals/set-to-string-tag');\nvar InternalStateModule = require('../internals/internal-state');\nvar $forEach = require('../internals/array-iteration').forEach;\n\nvar HIDDEN = sharedKey('hidden');\nvar SYMBOL = 'Symbol';\nvar PROTOTYPE = 'prototype';\nvar TO_PRIMITIVE = wellKnownSymbol('toPrimitive');\nvar setInternalState = InternalStateModule.set;\nvar getInternalState = InternalStateModule.getterFor(SYMBOL);\nvar ObjectPrototype = Object[PROTOTYPE];\nvar $Symbol = global.Symbol;\nvar $stringify = getBuiltIn('JSON', 'stringify');\nvar nativeGetOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\nvar nativeDefineProperty = definePropertyModule.f;\nvar nativeGetOwnPropertyNames = getOwnPropertyNamesExternal.f;\nvar nativePropertyIsEnumerable = propertyIsEnumerableModule.f;\nvar AllSymbols = shared('symbols');\nvar ObjectPrototypeSymbols = shared('op-symbols');\nvar StringToSymbolRegistry = shared('string-to-symbol-registry');\nvar SymbolToStringRegistry = shared('symbol-to-string-registry');\nvar WellKnownSymbolsStore = shared('wks');\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar USE_SETTER = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDescriptor = DESCRIPTORS && fails(function () {\n  return nativeObjectCreate(nativeDefineProperty({}, 'a', {\n    get: function () { return nativeDefineProperty(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (O, P, Attributes) {\n  var ObjectPrototypeDescriptor = nativeGetOwnPropertyDescriptor(ObjectPrototype, P);\n  if (ObjectPrototypeDescriptor) delete ObjectPrototype[P];\n  nativeDefineProperty(O, P, Attributes);\n  if (ObjectPrototypeDescriptor && O !== ObjectPrototype) {\n    nativeDefineProperty(ObjectPrototype, P, ObjectPrototypeDescriptor);\n  }\n} : nativeDefineProperty;\n\nvar wrap = function (tag, description) {\n  var symbol = AllSymbols[tag] = nativeObjectCreate($Symbol[PROTOTYPE]);\n  setInternalState(symbol, {\n    type: SYMBOL,\n    tag: tag,\n    description: description\n  });\n  if (!DESCRIPTORS) symbol.description = description;\n  return symbol;\n};\n\nvar isSymbol = USE_SYMBOL_AS_UID ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return Object(it) instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(O, P, Attributes) {\n  if (O === ObjectPrototype) $defineProperty(ObjectPrototypeSymbols, P, Attributes);\n  anObject(O);\n  var key = toPrimitive(P, true);\n  anObject(Attributes);\n  if (has(AllSymbols, key)) {\n    if (!Attributes.enumerable) {\n      if (!has(O, HIDDEN)) nativeDefineProperty(O, HIDDEN, createPropertyDescriptor(1, {}));\n      O[HIDDEN][key] = true;\n    } else {\n      if (has(O, HIDDEN) && O[HIDDEN][key]) O[HIDDEN][key] = false;\n      Attributes = nativeObjectCreate(Attributes, { enumerable: createPropertyDescriptor(0, false) });\n    } return setSymbolDescriptor(O, key, Attributes);\n  } return nativeDefineProperty(O, key, Attributes);\n};\n\nvar $defineProperties = function defineProperties(O, Properties) {\n  anObject(O);\n  var properties = toIndexedObject(Properties);\n  var keys = objectKeys(properties).concat($getOwnPropertySymbols(properties));\n  $forEach(keys, function (key) {\n    if (!DESCRIPTORS || $propertyIsEnumerable.call(properties, key)) $defineProperty(O, key, properties[key]);\n  });\n  return O;\n};\n\nvar $create = function create(O, Properties) {\n  return Properties === undefined ? nativeObjectCreate(O) : $defineProperties(nativeObjectCreate(O), Properties);\n};\n\nvar $propertyIsEnumerable = function propertyIsEnumerable(V) {\n  var P = toPrimitive(V, true);\n  var enumerable = nativePropertyIsEnumerable.call(this, P);\n  if (this === ObjectPrototype && has(AllSymbols, P) && !has(ObjectPrototypeSymbols, P)) return false;\n  return enumerable || !has(this, P) || !has(AllSymbols, P) || has(this, HIDDEN) && this[HIDDEN][P] ? enumerable : true;\n};\n\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(O, P) {\n  var it = toIndexedObject(O);\n  var key = toPrimitive(P, true);\n  if (it === ObjectPrototype && has(AllSymbols, key) && !has(ObjectPrototypeSymbols, key)) return;\n  var descriptor = nativeGetOwnPropertyDescriptor(it, key);\n  if (descriptor && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) {\n    descriptor.enumerable = true;\n  }\n  return descriptor;\n};\n\nvar $getOwnPropertyNames = function getOwnPropertyNames(O) {\n  var names = nativeGetOwnPropertyNames(toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (!has(AllSymbols, key) && !has(hiddenKeys, key)) result.push(key);\n  });\n  return result;\n};\n\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(O) {\n  var IS_OBJECT_PROTOTYPE = O === ObjectPrototype;\n  var names = nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE ? ObjectPrototypeSymbols : toIndexedObject(O));\n  var result = [];\n  $forEach(names, function (key) {\n    if (has(AllSymbols, key) && (!IS_OBJECT_PROTOTYPE || has(ObjectPrototype, key))) {\n      result.push(AllSymbols[key]);\n    }\n  });\n  return result;\n};\n\n// `Symbol` constructor\n// https://tc39.github.io/ecma262/#sec-symbol-constructor\nif (!NATIVE_SYMBOL) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor');\n    var description = !arguments.length || arguments[0] === undefined ? undefined : String(arguments[0]);\n    var tag = uid(description);\n    var setter = function (value) {\n      if (this === ObjectPrototype) setter.call(ObjectPrototypeSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDescriptor(this, tag, createPropertyDescriptor(1, value));\n    };\n    if (DESCRIPTORS && USE_SETTER) setSymbolDescriptor(ObjectPrototype, tag, { configurable: true, set: setter });\n    return wrap(tag, description);\n  };\n\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return getInternalState(this).tag;\n  });\n\n  redefine($Symbol, 'withoutSetter', function (description) {\n    return wrap(uid(description), description);\n  });\n\n  propertyIsEnumerableModule.f = $propertyIsEnumerable;\n  definePropertyModule.f = $defineProperty;\n  getOwnPropertyDescriptorModule.f = $getOwnPropertyDescriptor;\n  getOwnPropertyNamesModule.f = getOwnPropertyNamesExternal.f = $getOwnPropertyNames;\n  getOwnPropertySymbolsModule.f = $getOwnPropertySymbols;\n\n  wrappedWellKnownSymbolModule.f = function (name) {\n    return wrap(wellKnownSymbol(name), name);\n  };\n\n  if (DESCRIPTORS) {\n    // https://github.com/tc39/proposal-Symbol-description\n    nativeDefineProperty($Symbol[PROTOTYPE], 'description', {\n      configurable: true,\n      get: function description() {\n        return getInternalState(this).description;\n      }\n    });\n    if (!IS_PURE) {\n      redefine(ObjectPrototype, 'propertyIsEnumerable', $propertyIsEnumerable, { unsafe: true });\n    }\n  }\n}\n\n$({ global: true, wrap: true, forced: !NATIVE_SYMBOL, sham: !NATIVE_SYMBOL }, {\n  Symbol: $Symbol\n});\n\n$forEach(objectKeys(WellKnownSymbolsStore), function (name) {\n  defineWellKnownSymbol(name);\n});\n\n$({ target: SYMBOL, stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Symbol.for` method\n  // https://tc39.github.io/ecma262/#sec-symbol.for\n  'for': function (key) {\n    var string = String(key);\n    if (has(StringToSymbolRegistry, string)) return StringToSymbolRegistry[string];\n    var symbol = $Symbol(string);\n    StringToSymbolRegistry[string] = symbol;\n    SymbolToStringRegistry[symbol] = string;\n    return symbol;\n  },\n  // `Symbol.keyFor` method\n  // https://tc39.github.io/ecma262/#sec-symbol.keyfor\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol');\n    if (has(SymbolToStringRegistry, sym)) return SymbolToStringRegistry[sym];\n  },\n  useSetter: function () { USE_SETTER = true; },\n  useSimple: function () { USE_SETTER = false; }\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL, sham: !DESCRIPTORS }, {\n  // `Object.create` method\n  // https://tc39.github.io/ecma262/#sec-object.create\n  create: $create,\n  // `Object.defineProperty` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperty\n  defineProperty: $defineProperty,\n  // `Object.defineProperties` method\n  // https://tc39.github.io/ecma262/#sec-object.defineproperties\n  defineProperties: $defineProperties,\n  // `Object.getOwnPropertyDescriptor` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor\n});\n\n$({ target: 'Object', stat: true, forced: !NATIVE_SYMBOL }, {\n  // `Object.getOwnPropertyNames` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertynames\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // `Object.getOwnPropertySymbols` method\n  // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\n$({ target: 'Object', stat: true, forced: fails(function () { getOwnPropertySymbolsModule.f(1); }) }, {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return getOwnPropertySymbolsModule.f(toObject(it));\n  }\n});\n\n// `JSON.stringify` method behavior with symbols\n// https://tc39.github.io/ecma262/#sec-json.stringify\nif ($stringify) {\n  var FORCED_JSON_STRINGIFY = !NATIVE_SYMBOL || fails(function () {\n    var symbol = $Symbol();\n    // MS Edge converts symbol values to JSON as {}\n    return $stringify([symbol]) != '[null]'\n      // WebKit converts symbol values to JSON as null\n      || $stringify({ a: symbol }) != '{}'\n      // V8 throws on boxed symbols\n      || $stringify(Object(symbol)) != '{}';\n  });\n\n  $({ target: 'JSON', stat: true, forced: FORCED_JSON_STRINGIFY }, {\n    // eslint-disable-next-line no-unused-vars\n    stringify: function stringify(it, replacer, space) {\n      var args = [it];\n      var index = 1;\n      var $replacer;\n      while (arguments.length > index) args.push(arguments[index++]);\n      $replacer = replacer;\n      if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n      if (!isArray(replacer)) replacer = function (key, value) {\n        if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n        if (!isSymbol(value)) return value;\n      };\n      args[1] = replacer;\n      return $stringify.apply(null, args);\n    }\n  });\n}\n\n// `Symbol.prototype[@@toPrimitive]` method\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@toprimitive\nif (!$Symbol[PROTOTYPE][TO_PRIMITIVE]) {\n  createNonEnumerableProperty($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n}\n// `Symbol.prototype[@@toStringTag]` property\n// https://tc39.github.io/ecma262/#sec-symbol.prototype-@@tostringtag\nsetToStringTag($Symbol, SYMBOL);\n\nhiddenKeys[HIDDEN] = true;\n","'use strict';\nvar toPrimitive = require('../internals/to-primitive');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPrimitive(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null;\nvar ReflectApply = R && typeof R.apply === 'function' ? R.apply : function ReflectApply(target, receiver, args) {\n  return Function.prototype.apply.call(target, receiver, args);\n};\nvar ReflectOwnKeys;\n\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys;\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n};\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\n\nmodule.exports = EventEmitter;\nmodule.exports.once = once; // Backwards-compat with node 0.10.x\n\nEventEmitter.EventEmitter = EventEmitter;\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined; // By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\n\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function get() {\n    return defaultMaxListeners;\n  },\n  set: function set(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function () {\n  if (this._events === undefined || this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n}; // Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\n\n\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined) return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n\n  for (var i = 1; i < arguments.length; i++) {\n    args.push(arguments[i]);\n  }\n\n  var doError = type === 'error';\n  var events = this._events;\n  if (events !== undefined) doError = doError && events.error === undefined;else if (!doError) return false; // If there is no 'error' event listener then throw.\n\n  if (doError) {\n    var er;\n    if (args.length > 0) er = args[0];\n\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    } // At least give some kind of context to the user\n\n\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n  if (handler === undefined) return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n\n    for (var i = 0; i < len; ++i) {\n      ReflectApply(listeners[i], this, args);\n    }\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n  checkListener(listener);\n  events = target._events;\n\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type, listener.listener ? listener.listener : listener); // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n\n      events = target._events;\n    }\n\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] = prepend ? [listener, existing] : [existing, listener]; // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    } // Check for listener leak\n\n\n    m = _getMaxListeners(target);\n\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true; // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n\n      var w = new Error('Possible EventEmitter memory leak detected. ' + existing.length + ' ' + String(type) + ' listeners ' + 'added. Use emitter.setMaxListeners() to ' + 'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener = function prependListener(type, listener) {\n  return _addListener(this, type, listener, true);\n};\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0) return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = {\n    fired: false,\n    wrapFn: undefined,\n    target: target,\n    type: type,\n    listener: listener\n  };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener = function prependOnceListener(type, listener) {\n  checkListener(listener);\n  this.prependListener(type, _onceWrap(this, type, listener));\n  return this;\n}; // Emits a 'removeListener' event if and only if the listener was removed.\n\n\nEventEmitter.prototype.removeListener = function removeListener(type, listener) {\n  var list, events, position, i, originalListener;\n  checkListener(listener);\n  events = this._events;\n  if (events === undefined) return this;\n  list = events[type];\n  if (list === undefined) return this;\n\n  if (list === listener || list.listener === listener) {\n    if (--this._eventsCount === 0) this._events = Object.create(null);else {\n      delete events[type];\n      if (events.removeListener) this.emit('removeListener', type, list.listener || listener);\n    }\n  } else if (typeof list !== 'function') {\n    position = -1;\n\n    for (i = list.length - 1; i >= 0; i--) {\n      if (list[i] === listener || list[i].listener === listener) {\n        originalListener = list[i].listener;\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0) return this;\n    if (position === 0) list.shift();else {\n      spliceOne(list, position);\n    }\n    if (list.length === 1) events[type] = list[0];\n    if (events.removeListener !== undefined) this.emit('removeListener', type, originalListener || listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(type) {\n  var listeners, events, i;\n  events = this._events;\n  if (events === undefined) return this; // not listening for removeListener, no need to emit\n\n  if (events.removeListener === undefined) {\n    if (arguments.length === 0) {\n      this._events = Object.create(null);\n      this._eventsCount = 0;\n    } else if (events[type] !== undefined) {\n      if (--this._eventsCount === 0) this._events = Object.create(null);else delete events[type];\n    }\n\n    return this;\n  } // emit removeListener for all listeners on all events\n\n\n  if (arguments.length === 0) {\n    var keys = Object.keys(events);\n    var key;\n\n    for (i = 0; i < keys.length; ++i) {\n      key = keys[i];\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n\n    this.removeAllListeners('removeListener');\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n    return this;\n  }\n\n  listeners = events[type];\n\n  if (typeof listeners === 'function') {\n    this.removeListener(type, listeners);\n  } else if (listeners !== undefined) {\n    // LIFO order\n    for (i = listeners.length - 1; i >= 0; i--) {\n      this.removeListener(type, listeners[i]);\n    }\n  }\n\n  return this;\n};\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n  if (events === undefined) return [];\n  var evlistener = events[type];\n  if (evlistener === undefined) return [];\n  if (typeof evlistener === 'function') return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n  return unwrap ? unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function (emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\n\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n\n  for (var i = 0; i < n; ++i) {\n    copy[i] = arr[i];\n  }\n\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++) {\n    list[index] = list[index + 1];\n  }\n\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n\n      resolve([].slice.call(arguments));\n    }\n\n    ;\n    var errorListener; // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","module.exports = __webpack_public_path__ + \"static/search-b72cb6ed1f938998bc70696b359b3f09.png\";","'use strict';\n\nfunction objectHasKeys(obj) {\n  return obj && Object.keys(obj).length > 0;\n}\n\nmodule.exports = objectHasKeys;","exports.__esModule = true;\nvar ATTRIBUTE_NAMES = exports.ATTRIBUTE_NAMES = {\n  BODY: \"bodyAttributes\",\n  HTML: \"htmlAttributes\",\n  TITLE: \"titleAttributes\"\n};\nvar TAG_NAMES = exports.TAG_NAMES = {\n  BASE: \"base\",\n  BODY: \"body\",\n  HEAD: \"head\",\n  HTML: \"html\",\n  LINK: \"link\",\n  META: \"meta\",\n  NOSCRIPT: \"noscript\",\n  SCRIPT: \"script\",\n  STYLE: \"style\",\n  TITLE: \"title\"\n};\nvar VALID_TAG_NAMES = exports.VALID_TAG_NAMES = Object.keys(TAG_NAMES).map(function (name) {\n  return TAG_NAMES[name];\n});\nvar TAG_PROPERTIES = exports.TAG_PROPERTIES = {\n  CHARSET: \"charset\",\n  CSS_TEXT: \"cssText\",\n  HREF: \"href\",\n  HTTPEQUIV: \"http-equiv\",\n  INNER_HTML: \"innerHTML\",\n  ITEM_PROP: \"itemprop\",\n  NAME: \"name\",\n  PROPERTY: \"property\",\n  REL: \"rel\",\n  SRC: \"src\"\n};\nvar REACT_TAG_MAP = exports.REACT_TAG_MAP = {\n  accesskey: \"accessKey\",\n  charset: \"charSet\",\n  class: \"className\",\n  contenteditable: \"contentEditable\",\n  contextmenu: \"contextMenu\",\n  \"http-equiv\": \"httpEquiv\",\n  itemprop: \"itemProp\",\n  tabindex: \"tabIndex\"\n};\nvar HELMET_PROPS = exports.HELMET_PROPS = {\n  DEFAULT_TITLE: \"defaultTitle\",\n  DEFER: \"defer\",\n  ENCODE_SPECIAL_CHARACTERS: \"encodeSpecialCharacters\",\n  ON_CHANGE_CLIENT_STATE: \"onChangeClientState\",\n  TITLE_TEMPLATE: \"titleTemplate\"\n};\nvar HTML_TAG_MAP = exports.HTML_TAG_MAP = Object.keys(REACT_TAG_MAP).reduce(function (obj, key) {\n  obj[REACT_TAG_MAP[key]] = key;\n  return obj;\n}, {});\nvar SELF_CLOSING_TAGS = exports.SELF_CLOSING_TAGS = [TAG_NAMES.NOSCRIPT, TAG_NAMES.SCRIPT, TAG_NAMES.STYLE];\nvar HELMET_ATTRIBUTE = exports.HELMET_ATTRIBUTE = \"data-react-helmet\";","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.small` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.small\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('small') }, {\n  small: function small() {\n    return createHTML(this, 'small', '', '');\n  }\n});\n","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","'use strict'; // NOTE: this behaves like lodash/defaults, but doesn't mutate the target\n// it also preserve keys order\n\nmodule.exports = function defaultsPure() {\n  var sources = Array.prototype.slice.call(arguments);\n  return sources.reduceRight(function (acc, source) {\n    Object.keys(Object(source)).forEach(function (key) {\n      if (source[key] === undefined) {\n        return;\n      }\n\n      if (acc[key] !== undefined) {\n        // remove if already added, so that we can add it in correct order\n        delete acc[key];\n      }\n\n      acc[key] = source[key];\n    });\n    return acc;\n  }, {});\n};","'use strict';\n\nmodule.exports = generateTrees;\n\nvar orderBy = require('../functions/orderBy');\n\nvar find = require('../functions/find');\n\nvar prepareHierarchicalFacetSortBy = require('../functions/formatSort');\n\nfunction generateTrees(state) {\n  return function generate(hierarchicalFacetResult, hierarchicalFacetIndex) {\n    var hierarchicalFacet = state.hierarchicalFacets[hierarchicalFacetIndex];\n    var hierarchicalFacetRefinement = state.hierarchicalFacetsRefinements[hierarchicalFacet.name] && state.hierarchicalFacetsRefinements[hierarchicalFacet.name][0] || '';\n\n    var hierarchicalSeparator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    var hierarchicalRootPath = state._getHierarchicalRootPath(hierarchicalFacet);\n\n    var hierarchicalShowParentLevel = state._getHierarchicalShowParentLevel(hierarchicalFacet);\n\n    var sortBy = prepareHierarchicalFacetSortBy(state._getHierarchicalFacetSortBy(hierarchicalFacet));\n    var rootExhaustive = hierarchicalFacetResult.every(function (facetResult) {\n      return facetResult.exhaustive;\n    });\n    var generateTreeFn = generateHierarchicalTree(sortBy, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel, hierarchicalFacetRefinement);\n    var results = hierarchicalFacetResult;\n\n    if (hierarchicalRootPath) {\n      results = hierarchicalFacetResult.slice(hierarchicalRootPath.split(hierarchicalSeparator).length);\n    }\n\n    return results.reduce(generateTreeFn, {\n      name: state.hierarchicalFacets[hierarchicalFacetIndex].name,\n      count: null,\n      // root level, no count\n      isRefined: true,\n      // root level, always refined\n      path: null,\n      // root level, no path\n      exhaustive: rootExhaustive,\n      data: null\n    });\n  };\n}\n\nfunction generateHierarchicalTree(sortBy, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel, currentRefinement) {\n  return function generateTree(hierarchicalTree, hierarchicalFacetResult, currentHierarchicalLevel) {\n    var parent = hierarchicalTree;\n\n    if (currentHierarchicalLevel > 0) {\n      var level = 0;\n      parent = hierarchicalTree;\n\n      while (level < currentHierarchicalLevel) {\n        /**\n         * @type {object[]]} hierarchical data\n         */\n        var data = parent && Array.isArray(parent.data) ? parent.data : [];\n        parent = find(data, function (subtree) {\n          return subtree.isRefined;\n        });\n        level++;\n      }\n    } // we found a refined parent, let's add current level data under it\n\n\n    if (parent) {\n      // filter values in case an object has multiple categories:\n      //   {\n      //     categories: {\n      //       level0: ['beers', 'bières'],\n      //       level1: ['beers > IPA', 'bières > Belges']\n      //     }\n      //   }\n      //\n      // If parent refinement is `beers`, then we do not want to have `bières > Belges`\n      // showing up\n      var picked = Object.keys(hierarchicalFacetResult.data).map(function (facetValue) {\n        return [facetValue, hierarchicalFacetResult.data[facetValue]];\n      }).filter(function (tuple) {\n        var facetValue = tuple[0];\n        return onlyMatchingTree(facetValue, parent.path || hierarchicalRootPath, currentRefinement, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel);\n      });\n      parent.data = orderBy(picked.map(function (tuple) {\n        var facetValue = tuple[0];\n        var facetCount = tuple[1];\n        return format(facetCount, facetValue, hierarchicalSeparator, currentRefinement, hierarchicalFacetResult.exhaustive);\n      }), sortBy[0], sortBy[1]);\n    }\n\n    return hierarchicalTree;\n  };\n}\n\nfunction onlyMatchingTree(facetValue, parentPath, currentRefinement, hierarchicalSeparator, hierarchicalRootPath, hierarchicalShowParentLevel) {\n  // we want the facetValue is a child of hierarchicalRootPath\n  if (hierarchicalRootPath && (facetValue.indexOf(hierarchicalRootPath) !== 0 || hierarchicalRootPath === facetValue)) {\n    return false;\n  } // we always want root levels (only when there is no prefix path)\n\n\n  return !hierarchicalRootPath && facetValue.indexOf(hierarchicalSeparator) === -1 || // if there is a rootPath, being root level mean 1 level under rootPath\n  hierarchicalRootPath && facetValue.split(hierarchicalSeparator).length - hierarchicalRootPath.split(hierarchicalSeparator).length === 1 || // if current refinement is a root level and current facetValue is a root level,\n  // keep the facetValue\n  facetValue.indexOf(hierarchicalSeparator) === -1 && currentRefinement.indexOf(hierarchicalSeparator) === -1 || // currentRefinement is a child of the facet value\n  currentRefinement.indexOf(facetValue) === 0 || // facetValue is a child of the current parent, add it\n  facetValue.indexOf(parentPath + hierarchicalSeparator) === 0 && (hierarchicalShowParentLevel || facetValue.indexOf(currentRefinement) === 0);\n}\n\nfunction format(facetCount, facetValue, hierarchicalSeparator, currentRefinement, exhaustive) {\n  var parts = facetValue.split(hierarchicalSeparator);\n  return {\n    name: parts[parts.length - 1].trim(),\n    path: facetValue,\n    count: facetCount,\n    isRefined: currentRefinement === facetValue || currentRefinement.indexOf(facetValue + hierarchicalSeparator) === 0,\n    exhaustive: exhaustive,\n    data: null\n  };\n}","'use strict';\n\nfunction valToNumber(v) {\n  if (typeof v === 'number') {\n    return v;\n  } else if (typeof v === 'string') {\n    return parseFloat(v);\n  } else if (Array.isArray(v)) {\n    return v.map(valToNumber);\n  }\n\n  throw new Error('The value should be a number, a parsable string or an array of those.');\n}\n\nmodule.exports = valToNumber;","'use strict'; // @MAJOR can be replaced by native Array#findIndex when we change support\n\nmodule.exports = function find(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n};","var toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyNames = require('../internals/object-get-own-property-names').f;\n\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return nativeGetOwnPropertyNames(it);\n  } catch (error) {\n    return windowNames.slice();\n  }\n};\n\n// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]'\n    ? getWindowNames(it)\n    : nativeGetOwnPropertyNames(toIndexedObject(it));\n};\n","'use strict'; // https://github.com/babel/babel/blob/3aaafae053fa75febb3aa45d45b6f00646e30ba4/packages/babel-helpers/src/helpers.js#L604-L620\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source === null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key;\n  var i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { createContext } from 'react';\n\nvar _createContext = createContext({\n  onInternalStateUpdate: function onInternalStateUpdate() {\n    return undefined;\n  },\n  createHrefForState: function createHrefForState() {\n    return '#';\n  },\n  onSearchForFacetValues: function onSearchForFacetValues() {\n    return undefined;\n  },\n  onSearchStateChange: function onSearchStateChange() {\n    return undefined;\n  },\n  onSearchParameters: function onSearchParameters() {\n    return undefined;\n  },\n  store: {},\n  widgetsManager: {},\n  mainTargetedIndex: ''\n}),\n    InstantSearchConsumer = _createContext.Consumer,\n    InstantSearchProvider = _createContext.Provider;\n\nexport { InstantSearchConsumer, InstantSearchProvider };\n\nvar _createContext2 = createContext(undefined),\n    IndexConsumer = _createContext2.Consumer,\n    IndexProvider = _createContext2.Provider;\n\nexport { IndexConsumer, IndexProvider };","'use strict';\n\nvar merge = require('../functions/merge');\n\nvar defaultsPure = require('../functions/defaultsPure');\n\nvar orderBy = require('../functions/orderBy');\n\nvar compact = require('../functions/compact');\n\nvar find = require('../functions/find');\n\nvar findIndex = require('../functions/findIndex');\n\nvar formatSort = require('../functions/formatSort');\n\nvar generateHierarchicalTree = require('./generate-hierarchical-tree');\n/**\n * @typedef SearchResults.Facet\n * @type {object}\n * @property {string} name name of the attribute in the record\n * @property {object} data the faceting data: value, number of entries\n * @property {object} stats undefined unless facet_stats is retrieved from algolia\n */\n\n/**\n * @typedef SearchResults.HierarchicalFacet\n * @type {object}\n * @property {string} name name of the current value given the hierarchical level, trimmed.\n * If root node, you get the facet name\n * @property {number} count number of objects matching this hierarchical value\n * @property {string} path the current hierarchical value full path\n * @property {boolean} isRefined `true` if the current value was refined, `false` otherwise\n * @property {HierarchicalFacet[]} data sub values for the current level\n */\n\n/**\n * @typedef SearchResults.FacetValue\n * @type {object}\n * @property {string} name the facet value itself\n * @property {number} count times this facet appears in the results\n * @property {boolean} isRefined is the facet currently selected\n * @property {boolean} isExcluded is the facet currently excluded (only for conjunctive facets)\n */\n\n/**\n * @typedef Refinement\n * @type {object}\n * @property {string} type the type of filter used:\n * `numeric`, `facet`, `exclude`, `disjunctive`, `hierarchical`\n * @property {string} attributeName name of the attribute used for filtering\n * @property {string} name the value of the filter\n * @property {number} numericValue the value as a number. Only for numeric filters.\n * @property {string} operator the operator used. Only for numeric filters.\n * @property {number} count the number of computed hits for this filter. Only on facets.\n * @property {boolean} exhaustive if the count is exhaustive\n */\n\n/**\n * @param {string[]} attributes\n */\n\n\nfunction getIndices(attributes) {\n  var indices = {};\n  attributes.forEach(function (val, idx) {\n    indices[val] = idx;\n  });\n  return indices;\n}\n\nfunction assignFacetStats(dest, facetStats, key) {\n  if (facetStats && facetStats[key]) {\n    dest.stats = facetStats[key];\n  }\n}\n/**\n * @typedef {Object} HierarchicalFacet\n * @property {string} name\n * @property {string[]} attributes\n */\n\n/**\n * @param {HierarchicalFacet[]} hierarchicalFacets\n * @param {string} hierarchicalAttributeName\n */\n\n\nfunction findMatchingHierarchicalFacetFromAttributeName(hierarchicalFacets, hierarchicalAttributeName) {\n  return find(hierarchicalFacets, function facetKeyMatchesAttribute(hierarchicalFacet) {\n    var facetNames = hierarchicalFacet.attributes || [];\n    return facetNames.indexOf(hierarchicalAttributeName) > -1;\n  });\n}\n/*eslint-disable */\n\n/**\n * Constructor for SearchResults\n * @class\n * @classdesc SearchResults contains the results of a query to Algolia using the\n * {@link AlgoliaSearchHelper}.\n * @param {SearchParameters} state state that led to the response\n * @param {array.<object>} results the results from algolia client\n * @example <caption>SearchResults of the first query in\n * <a href=\"http://demos.algolia.com/instant-search-demo\">the instant search demo</a></caption>\n{\n   \"hitsPerPage\": 10,\n   \"processingTimeMS\": 2,\n   \"facets\": [\n      {\n         \"name\": \"type\",\n         \"data\": {\n            \"HardGood\": 6627,\n            \"BlackTie\": 550,\n            \"Music\": 665,\n            \"Software\": 131,\n            \"Game\": 456,\n            \"Movie\": 1571\n         },\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"Free shipping\": 5507\n         },\n         \"name\": \"shipping\"\n      }\n  ],\n   \"hits\": [\n      {\n         \"thumbnailImage\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_54x108_s.gif\",\n         \"_highlightResult\": {\n            \"shortDescription\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n               \"matchedWords\": []\n            },\n            \"category\": {\n               \"matchLevel\": \"none\",\n               \"value\": \"Computer Security Software\",\n               \"matchedWords\": []\n            },\n            \"manufacturer\": {\n               \"matchedWords\": [],\n               \"value\": \"Webroot\",\n               \"matchLevel\": \"none\"\n            },\n            \"name\": {\n               \"value\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n               \"matchedWords\": [],\n               \"matchLevel\": \"none\"\n            }\n         },\n         \"image\": \"http://img.bbystatic.com/BestBuy_US/images/products/1688/1688832_105x210_sc.jpg\",\n         \"shipping\": \"Free shipping\",\n         \"bestSellingRank\": 4,\n         \"shortDescription\": \"Safeguard your PC, Mac, Android and iOS devices with comprehensive Internet protection\",\n         \"url\": \"http://www.bestbuy.com/site/webroot-secureanywhere-internet-security-3-devi…d=1219060687969&skuId=1688832&cmp=RMX&ky=2d3GfEmNIzjA0vkzveHdZEBgpPCyMnLTJ\",\n         \"name\": \"Webroot SecureAnywhere Internet Security (3-Device) (1-Year Subscription) - Mac/Windows\",\n         \"category\": \"Computer Security Software\",\n         \"salePrice_range\": \"1 - 50\",\n         \"objectID\": \"1688832\",\n         \"type\": \"Software\",\n         \"customerReviewCount\": 5980,\n         \"salePrice\": 49.99,\n         \"manufacturer\": \"Webroot\"\n      },\n      ....\n  ],\n   \"nbHits\": 10000,\n   \"disjunctiveFacets\": [\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"5\": 183,\n            \"12\": 112,\n            \"7\": 149,\n            ...\n         },\n         \"name\": \"customerReviewCount\",\n         \"stats\": {\n            \"max\": 7461,\n            \"avg\": 157.939,\n            \"min\": 1\n         }\n      },\n      {\n         \"data\": {\n            \"Printer Ink\": 142,\n            \"Wireless Speakers\": 60,\n            \"Point & Shoot Cameras\": 48,\n            ...\n         },\n         \"name\": \"category\",\n         \"exhaustive\": false\n      },\n      {\n         \"exhaustive\": false,\n         \"data\": {\n            \"> 5000\": 2,\n            \"1 - 50\": 6524,\n            \"501 - 2000\": 566,\n            \"201 - 500\": 1501,\n            \"101 - 200\": 1360,\n            \"2001 - 5000\": 47\n         },\n         \"name\": \"salePrice_range\"\n      },\n      {\n         \"data\": {\n            \"Dynex™\": 202,\n            \"Insignia™\": 230,\n            \"PNY\": 72,\n            ...\n         },\n         \"name\": \"manufacturer\",\n         \"exhaustive\": false\n      }\n  ],\n   \"query\": \"\",\n   \"nbPages\": 100,\n   \"page\": 0,\n   \"index\": \"bestbuy\"\n}\n **/\n\n/*eslint-enable */\n\n\nfunction SearchResults(state, results) {\n  var mainSubResponse = results[0];\n  this._rawResults = results;\n  var self = this; // https://www.algolia.com/doc/api-reference/api-methods/search/#response\n\n  Object.keys(mainSubResponse).forEach(function (key) {\n    self[key] = mainSubResponse[key];\n  });\n  /**\n   * query used to generate the results\n   * @name query\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * The query as parsed by the engine given all the rules.\n   * @name parsedQuery\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * all the records that match the search parameters. Each record is\n   * augmented with a new attribute `_highlightResult`\n   * which is an object keyed by attribute and with the following properties:\n   *  - `value` : the value of the facet highlighted (html)\n   *  - `matchLevel`: full, partial or none depending on how the query terms match\n   * @name hits\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * index where the results come from\n   * @name index\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * number of hits per page requested\n   * @name hitsPerPage\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * total number of hits of this query on the index\n   * @name nbHits\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * total number of pages with respect to the number of hits per page and the total number of hits\n   * @name nbPages\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * current page\n   * @name page\n   * @member {number}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * The position if the position was guessed by IP.\n   * @name aroundLatLng\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"48.8637,2.3615\",\n   */\n\n  /**\n   * The radius computed by Algolia.\n   * @name automaticRadius\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"126792922\",\n   */\n\n  /**\n   * String identifying the server used to serve this request.\n   *\n   * getRankingInfo needs to be set to `true` for this to be returned\n   *\n   * @name serverUsed\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   * @example \"c7-use-2.algolia.net\",\n   */\n\n  /**\n   * Boolean that indicates if the computation of the counts did time out.\n   * @deprecated\n   * @name timeoutCounts\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * Boolean that indicates if the computation of the hits did time out.\n   * @deprecated\n   * @name timeoutHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * True if the counts of the facets is exhaustive\n   * @name exhaustiveFacetsCount\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * True if the number of hits is exhaustive\n   * @name exhaustiveNbHits\n   * @member {boolean}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * Contains the userData if they are set by a [query rule](https://www.algolia.com/doc/guides/query-rules/query-rules-overview/).\n   * @name userData\n   * @member {object[]}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * queryID is the unique identifier of the query used to generate the current search results.\n   * This value is only available if the `clickAnalytics` search parameter is set to `true`.\n   * @name queryID\n   * @member {string}\n   * @memberof SearchResults\n   * @instance\n   */\n\n  /**\n   * sum of the processing time of all the queries\n   * @member {number}\n   */\n\n  this.processingTimeMS = results.reduce(function (sum, result) {\n    return result.processingTimeMS === undefined ? sum : sum + result.processingTimeMS;\n  }, 0);\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.Facet[]}\n   */\n\n  this.disjunctiveFacets = [];\n  /**\n   * disjunctive facets results\n   * @member {SearchResults.HierarchicalFacet[]}\n   */\n\n  this.hierarchicalFacets = state.hierarchicalFacets.map(function initFutureTree() {\n    return [];\n  });\n  /**\n   * other facets results\n   * @member {SearchResults.Facet[]}\n   */\n\n  this.facets = [];\n  var disjunctiveFacets = state.getRefinedDisjunctiveFacets();\n  var facetsIndices = getIndices(state.facets);\n  var disjunctiveFacetsIndices = getIndices(state.disjunctiveFacets);\n  var nextDisjunctiveResult = 1; // Since we send request only for disjunctive facets that have been refined,\n  // we get the facets information from the first, general, response.\n\n  var mainFacets = mainSubResponse.facets || {};\n  Object.keys(mainFacets).forEach(function (facetKey) {\n    var facetValueObject = mainFacets[facetKey];\n    var hierarchicalFacet = findMatchingHierarchicalFacetFromAttributeName(state.hierarchicalFacets, facetKey);\n\n    if (hierarchicalFacet) {\n      // Place the hierarchicalFacet data at the correct index depending on\n      // the attributes order that was defined at the helper initialization\n      var facetIndex = hierarchicalFacet.attributes.indexOf(facetKey);\n      var idxAttributeName = findIndex(state.hierarchicalFacets, function (f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      self.hierarchicalFacets[idxAttributeName][facetIndex] = {\n        attribute: facetKey,\n        data: facetValueObject,\n        exhaustive: mainSubResponse.exhaustiveFacetsCount\n      };\n    } else {\n      var isFacetDisjunctive = state.disjunctiveFacets.indexOf(facetKey) !== -1;\n      var isFacetConjunctive = state.facets.indexOf(facetKey) !== -1;\n      var position;\n\n      if (isFacetDisjunctive) {\n        position = disjunctiveFacetsIndices[facetKey];\n        self.disjunctiveFacets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], mainSubResponse.facets_stats, facetKey);\n      }\n\n      if (isFacetConjunctive) {\n        position = facetsIndices[facetKey];\n        self.facets[position] = {\n          name: facetKey,\n          data: facetValueObject,\n          exhaustive: mainSubResponse.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.facets[position], mainSubResponse.facets_stats, facetKey);\n      }\n    }\n  }); // Make sure we do not keep holes within the hierarchical facets\n\n  this.hierarchicalFacets = compact(this.hierarchicalFacets); // aggregate the refined disjunctive facets\n\n  disjunctiveFacets.forEach(function (disjunctiveFacet) {\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets ? result.facets : {};\n    var hierarchicalFacet = state.getHierarchicalFacetByName(disjunctiveFacet); // There should be only item in facets.\n\n    Object.keys(facets).forEach(function (dfacet) {\n      var facetResults = facets[dfacet];\n      var position;\n\n      if (hierarchicalFacet) {\n        position = findIndex(state.hierarchicalFacets, function (f) {\n          return f.name === hierarchicalFacet.name;\n        });\n        var attributeIndex = findIndex(self.hierarchicalFacets[position], function (f) {\n          return f.attribute === dfacet;\n        }); // previous refinements and no results so not able to find it\n\n        if (attributeIndex === -1) {\n          return;\n        }\n\n        self.hierarchicalFacets[position][attributeIndex].data = merge({}, self.hierarchicalFacets[position][attributeIndex].data, facetResults);\n      } else {\n        position = disjunctiveFacetsIndices[dfacet];\n        var dataFromMainRequest = mainSubResponse.facets && mainSubResponse.facets[dfacet] || {};\n        self.disjunctiveFacets[position] = {\n          name: dfacet,\n          data: defaultsPure({}, facetResults, dataFromMainRequest),\n          exhaustive: result.exhaustiveFacetsCount\n        };\n        assignFacetStats(self.disjunctiveFacets[position], result.facets_stats, dfacet);\n\n        if (state.disjunctiveFacetsRefinements[dfacet]) {\n          state.disjunctiveFacetsRefinements[dfacet].forEach(function (refinementValue) {\n            // add the disjunctive refinements if it is no more retrieved\n            if (!self.disjunctiveFacets[position].data[refinementValue] && state.disjunctiveFacetsRefinements[dfacet].indexOf(refinementValue) > -1) {\n              self.disjunctiveFacets[position].data[refinementValue] = 0;\n            }\n          });\n        }\n      }\n    });\n    nextDisjunctiveResult++;\n  }); // if we have some root level values for hierarchical facets, merge them\n\n  state.getRefinedHierarchicalFacets().forEach(function (refinedFacet) {\n    var hierarchicalFacet = state.getHierarchicalFacetByName(refinedFacet);\n\n    var separator = state._getHierarchicalFacetSeparator(hierarchicalFacet);\n\n    var currentRefinement = state.getHierarchicalRefinement(refinedFacet); // if we are already at a root refinement (or no refinement at all), there is no\n    // root level values request\n\n    if (currentRefinement.length === 0 || currentRefinement[0].split(separator).length < 2) {\n      return;\n    }\n\n    var result = results[nextDisjunctiveResult];\n    var facets = result && result.facets ? result.facets : {};\n    Object.keys(facets).forEach(function (dfacet) {\n      var facetResults = facets[dfacet];\n      var position = findIndex(state.hierarchicalFacets, function (f) {\n        return f.name === hierarchicalFacet.name;\n      });\n      var attributeIndex = findIndex(self.hierarchicalFacets[position], function (f) {\n        return f.attribute === dfacet;\n      }); // previous refinements and no results so not able to find it\n\n      if (attributeIndex === -1) {\n        return;\n      } // when we always get root levels, if the hits refinement is `beers > IPA` (count: 5),\n      // then the disjunctive values will be `beers` (count: 100),\n      // but we do not want to display\n      //   | beers (100)\n      //     > IPA (5)\n      // We want\n      //   | beers (5)\n      //     > IPA (5)\n\n\n      var defaultData = {};\n\n      if (currentRefinement.length > 0) {\n        var root = currentRefinement[0].split(separator)[0];\n        defaultData[root] = self.hierarchicalFacets[position][attributeIndex].data[root];\n      }\n\n      self.hierarchicalFacets[position][attributeIndex].data = defaultsPure(defaultData, facetResults, self.hierarchicalFacets[position][attributeIndex].data);\n    });\n    nextDisjunctiveResult++;\n  }); // add the excludes\n\n  Object.keys(state.facetsExcludes).forEach(function (facetName) {\n    var excludes = state.facetsExcludes[facetName];\n    var position = facetsIndices[facetName];\n    self.facets[position] = {\n      name: facetName,\n      data: mainSubResponse.facets[facetName],\n      exhaustive: mainSubResponse.exhaustiveFacetsCount\n    };\n    excludes.forEach(function (facetValue) {\n      self.facets[position] = self.facets[position] || {\n        name: facetName\n      };\n      self.facets[position].data = self.facets[position].data || {};\n      self.facets[position].data[facetValue] = 0;\n    });\n  });\n  /**\n   * @type {Array}\n   */\n\n  this.hierarchicalFacets = this.hierarchicalFacets.map(generateHierarchicalTree(state));\n  /**\n   * @type {Array}\n   */\n\n  this.facets = compact(this.facets);\n  /**\n   * @type {Array}\n   */\n\n  this.disjunctiveFacets = compact(this.disjunctiveFacets);\n  this._state = state;\n}\n/**\n * Get a facet object with its name\n * @deprecated\n * @param {string} name name of the faceted attribute\n * @return {SearchResults.Facet} the facet object\n */\n\n\nSearchResults.prototype.getFacetByName = function (name) {\n  function predicate(facet) {\n    return facet.name === name;\n  }\n\n  return find(this.facets, predicate) || find(this.disjunctiveFacets, predicate) || find(this.hierarchicalFacets, predicate);\n};\n/**\n * Get the facet values of a specified attribute from a SearchResults object.\n * @private\n * @param {SearchResults} results the search results to search in\n * @param {string} attribute name of the faceted attribute to search for\n * @return {array|object} facet values. For the hierarchical facets it is an object.\n */\n\n\nfunction extractNormalizedFacetValues(results, attribute) {\n  function predicate(facet) {\n    return facet.name === attribute;\n  }\n\n  if (results._state.isConjunctiveFacet(attribute)) {\n    var facet = find(results.facets, predicate);\n    if (!facet) return [];\n    return Object.keys(facet.data).map(function (name) {\n      return {\n        name: name,\n        count: facet.data[name],\n        isRefined: results._state.isFacetRefined(attribute, name),\n        isExcluded: results._state.isExcludeRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isDisjunctiveFacet(attribute)) {\n    var disjunctiveFacet = find(results.disjunctiveFacets, predicate);\n    if (!disjunctiveFacet) return [];\n    return Object.keys(disjunctiveFacet.data).map(function (name) {\n      return {\n        name: name,\n        count: disjunctiveFacet.data[name],\n        isRefined: results._state.isDisjunctiveFacetRefined(attribute, name)\n      };\n    });\n  } else if (results._state.isHierarchicalFacet(attribute)) {\n    return find(results.hierarchicalFacets, predicate);\n  }\n}\n/**\n * Sort nodes of a hierarchical facet results\n * @private\n * @param {HierarchicalFacet} node node to upon which we want to apply the sort\n */\n\n\nfunction recSort(sortFn, node) {\n  if (!node.data || node.data.length === 0) {\n    return node;\n  }\n\n  var children = node.data.map(function (childNode) {\n    return recSort(sortFn, childNode);\n  });\n  var sortedChildren = sortFn(children);\n  var newNode = merge({}, node, {\n    data: sortedChildren\n  });\n  return newNode;\n}\n\nSearchResults.DEFAULT_SORT = ['isRefined:desc', 'count:desc', 'name:asc'];\n\nfunction vanillaSortFn(order, data) {\n  return data.sort(order);\n}\n/**\n * Get a the list of values for a given facet attribute. Those values are sorted\n * refinement first, descending count (bigger value on top), and name ascending\n * (alphabetical order). The sort formula can overridden using either string based\n * predicates or a function.\n *\n * This method will return all the values returned by the Algolia engine plus all\n * the values already refined. This means that it can happen that the\n * `maxValuesPerFacet` [configuration](https://www.algolia.com/doc/rest-api/search#param-maxValuesPerFacet)\n * might not be respected if you have facet values that are already refined.\n * @param {string} attribute attribute name\n * @param {object} opts configuration options.\n * @param {Array.<string> | function} opts.sortBy\n * When using strings, it consists of\n * the name of the [FacetValue](#SearchResults.FacetValue) or the\n * [HierarchicalFacet](#SearchResults.HierarchicalFacet) attributes with the\n * order (`asc` or `desc`). For example to order the value by count, the\n * argument would be `['count:asc']`.\n *\n * If only the attribute name is specified, the ordering defaults to the one\n * specified in the default value for this attribute.\n *\n * When not specified, the order is\n * ascending.  This parameter can also be a function which takes two facet\n * values and should return a number, 0 if equal, 1 if the first argument is\n * bigger or -1 otherwise.\n *\n * The default value for this attribute `['isRefined:desc', 'count:desc', 'name:asc']`\n * @return {FacetValue[]|HierarchicalFacet|undefined} depending on the type of facet of\n * the attribute requested (hierarchical, disjunctive or conjunctive)\n * @example\n * helper.on('result', function(event){\n *   //get values ordered only by name ascending using the string predicate\n *   event.results.getFacetValues('city', {sortBy: ['name:asc']});\n *   //get values  ordered only by count ascending using a function\n *   event.results.getFacetValues('city', {\n *     // this is equivalent to ['count:asc']\n *     sortBy: function(a, b) {\n *       if (a.count === b.count) return 0;\n *       if (a.count > b.count)   return 1;\n *       if (b.count > a.count)   return -1;\n *     }\n *   });\n * });\n */\n\n\nSearchResults.prototype.getFacetValues = function (attribute, opts) {\n  var facetValues = extractNormalizedFacetValues(this, attribute);\n\n  if (!facetValues) {\n    return undefined;\n  }\n\n  var options = defaultsPure({}, opts, {\n    sortBy: SearchResults.DEFAULT_SORT\n  });\n\n  if (Array.isArray(options.sortBy)) {\n    var order = formatSort(options.sortBy, SearchResults.DEFAULT_SORT);\n\n    if (Array.isArray(facetValues)) {\n      return orderBy(facetValues, order[0], order[1]);\n    } // If facetValues is not an array, it's an object thus a hierarchical facet object\n\n\n    return recSort(function (hierarchicalFacetValues) {\n      return orderBy(hierarchicalFacetValues, order[0], order[1]);\n    }, facetValues);\n  } else if (typeof options.sortBy === 'function') {\n    if (Array.isArray(facetValues)) {\n      return facetValues.sort(options.sortBy);\n    } // If facetValues is not an array, it's an object thus a hierarchical facet object\n\n\n    return recSort(function (data) {\n      return vanillaSortFn(options.sortBy, data);\n    }, facetValues);\n  }\n\n  throw new Error('options.sortBy is optional but if defined it must be ' + 'either an array of string (predicates) or a sorting function');\n};\n/**\n * Returns the facet stats if attribute is defined and the facet contains some.\n * Otherwise returns undefined.\n * @param {string} attribute name of the faceted attribute\n * @return {object} The stats of the facet\n */\n\n\nSearchResults.prototype.getFacetStats = function (attribute) {\n  if (this._state.isConjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.facets, attribute);\n  } else if (this._state.isDisjunctiveFacet(attribute)) {\n    return getFacetStatsIfAvailable(this.disjunctiveFacets, attribute);\n  }\n\n  return undefined;\n};\n/**\n * @typedef {Object} FacetListItem\n * @property {string} name\n */\n\n/**\n * @param {FacetListItem[]} facetList (has more items, but enough for here)\n * @param {string} facetName\n */\n\n\nfunction getFacetStatsIfAvailable(facetList, facetName) {\n  var data = find(facetList, function (facet) {\n    return facet.name === facetName;\n  });\n  return data && data.stats;\n}\n/**\n * Returns all refinements for all filters + tags. It also provides\n * additional information: count and exhaustiveness for each filter.\n *\n * See the [refinement type](#Refinement) for an exhaustive view of the available\n * data.\n *\n * Note that for a numeric refinement, results are grouped per operator, this\n * means that it will return responses for operators which are empty.\n *\n * @return {Array.<Refinement>} all the refinements\n */\n\n\nSearchResults.prototype.getRefinements = function () {\n  var state = this._state;\n  var results = this;\n  var res = [];\n  Object.keys(state.facetsRefinements).forEach(function (attributeName) {\n    state.facetsRefinements[attributeName].forEach(function (name) {\n      res.push(getRefinement(state, 'facet', attributeName, name, results.facets));\n    });\n  });\n  Object.keys(state.facetsExcludes).forEach(function (attributeName) {\n    state.facetsExcludes[attributeName].forEach(function (name) {\n      res.push(getRefinement(state, 'exclude', attributeName, name, results.facets));\n    });\n  });\n  Object.keys(state.disjunctiveFacetsRefinements).forEach(function (attributeName) {\n    state.disjunctiveFacetsRefinements[attributeName].forEach(function (name) {\n      res.push(getRefinement(state, 'disjunctive', attributeName, name, results.disjunctiveFacets));\n    });\n  });\n  Object.keys(state.hierarchicalFacetsRefinements).forEach(function (attributeName) {\n    state.hierarchicalFacetsRefinements[attributeName].forEach(function (name) {\n      res.push(getHierarchicalRefinement(state, attributeName, name, results.hierarchicalFacets));\n    });\n  });\n  Object.keys(state.numericRefinements).forEach(function (attributeName) {\n    var operators = state.numericRefinements[attributeName];\n    Object.keys(operators).forEach(function (operator) {\n      operators[operator].forEach(function (value) {\n        res.push({\n          type: 'numeric',\n          attributeName: attributeName,\n          name: value,\n          numericValue: value,\n          operator: operator\n        });\n      });\n    });\n  });\n  state.tagRefinements.forEach(function (name) {\n    res.push({\n      type: 'tag',\n      attributeName: '_tags',\n      name: name\n    });\n  });\n  return res;\n};\n/**\n * @typedef {Object} Facet\n * @property {string} name\n * @property {Object} data\n * @property {boolean} exhaustive\n */\n\n/**\n * @param {*} state\n * @param {*} type\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\n\n\nfunction getRefinement(state, type, attributeName, name, resultsFacets) {\n  var facet = find(resultsFacets, function (f) {\n    return f.name === attributeName;\n  });\n  var count = facet && facet.data && facet.data[name] ? facet.data[name] : 0;\n  var exhaustive = facet && facet.exhaustive || false;\n  return {\n    type: type,\n    attributeName: attributeName,\n    name: name,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n/**\n * @param {*} state\n * @param {string} attributeName\n * @param {*} name\n * @param {Facet[]} resultsFacets\n */\n\n\nfunction getHierarchicalRefinement(state, attributeName, name, resultsFacets) {\n  var facetDeclaration = state.getHierarchicalFacetByName(attributeName);\n\n  var separator = state._getHierarchicalFacetSeparator(facetDeclaration);\n\n  var split = name.split(separator);\n  var rootFacet = find(resultsFacets, function (facet) {\n    return facet.name === attributeName;\n  });\n  var facet = split.reduce(function (intermediateFacet, part) {\n    var newFacet = intermediateFacet && find(intermediateFacet.data, function (f) {\n      return f.name === part;\n    });\n    return newFacet !== undefined ? newFacet : intermediateFacet;\n  }, rootFacet);\n  var count = facet && facet.count || 0;\n  var exhaustive = facet && facet.exhaustive || false;\n  var path = facet && facet.path || '';\n  return {\n    type: 'hierarchical',\n    attributeName: attributeName,\n    name: path,\n    count: count,\n    exhaustive: exhaustive\n  };\n}\n\nmodule.exports = SearchResults;","exports.__esModule = true;\nexports.warn = exports.requestAnimationFrame = exports.reducePropsToState = exports.mapStateOnServer = exports.handleClientStateChange = exports.convertReactPropstoHtmlAttributes = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _objectAssign = require(\"object-assign\");\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar _HelmetConstants = require(\"./HelmetConstants.js\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar encodeSpecialCharacters = function encodeSpecialCharacters(str) {\n  var encode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n  if (encode === false) {\n    return String(str);\n  }\n\n  return String(str).replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, \"&#x27;\");\n};\n\nvar getTitleFromPropsList = function getTitleFromPropsList(propsList) {\n  var innermostTitle = getInnermostProperty(propsList, _HelmetConstants.TAG_NAMES.TITLE);\n  var innermostTemplate = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.TITLE_TEMPLATE);\n\n  if (innermostTemplate && innermostTitle) {\n    // use function arg to avoid need to escape $ characters\n    return innermostTemplate.replace(/%s/g, function () {\n      return innermostTitle;\n    });\n  }\n\n  var innermostDefaultTitle = getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFAULT_TITLE);\n  return innermostTitle || innermostDefaultTitle || undefined;\n};\n\nvar getOnChangeClientState = function getOnChangeClientState(propsList) {\n  return getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ON_CHANGE_CLIENT_STATE) || function () {};\n};\n\nvar getAttributesFromPropsList = function getAttributesFromPropsList(tagType, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[tagType] !== \"undefined\";\n  }).map(function (props) {\n    return props[tagType];\n  }).reduce(function (tagAttrs, current) {\n    return _extends({}, tagAttrs, current);\n  }, {});\n};\n\nvar getBaseTagFromPropsList = function getBaseTagFromPropsList(primaryAttributes, propsList) {\n  return propsList.filter(function (props) {\n    return typeof props[_HelmetConstants.TAG_NAMES.BASE] !== \"undefined\";\n  }).map(function (props) {\n    return props[_HelmetConstants.TAG_NAMES.BASE];\n  }).reverse().reduce(function (innermostBaseTag, tag) {\n    if (!innermostBaseTag.length) {\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase();\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && tag[lowerCaseAttributeKey]) {\n          return innermostBaseTag.concat(tag);\n        }\n      }\n    }\n\n    return innermostBaseTag;\n  }, []);\n};\n\nvar getTagsFromPropsList = function getTagsFromPropsList(tagName, primaryAttributes, propsList) {\n  // Calculate list of tags, giving priority innermost component (end of the propslist)\n  var approvedSeenTags = {};\n  return propsList.filter(function (props) {\n    if (Array.isArray(props[tagName])) {\n      return true;\n    }\n\n    if (typeof props[tagName] !== \"undefined\") {\n      warn(\"Helmet: \" + tagName + \" should be of type \\\"Array\\\". Instead found type \\\"\" + _typeof(props[tagName]) + \"\\\"\");\n    }\n\n    return false;\n  }).map(function (props) {\n    return props[tagName];\n  }).reverse().reduce(function (approvedTags, instanceTags) {\n    var instanceSeenTags = {};\n    instanceTags.filter(function (tag) {\n      var primaryAttributeKey = void 0;\n      var keys = Object.keys(tag);\n\n      for (var i = 0; i < keys.length; i++) {\n        var attributeKey = keys[i];\n        var lowerCaseAttributeKey = attributeKey.toLowerCase(); // Special rule with link tags, since rel and href are both primary tags, rel takes priority\n\n        if (primaryAttributes.indexOf(lowerCaseAttributeKey) !== -1 && !(primaryAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[primaryAttributeKey].toLowerCase() === \"canonical\") && !(lowerCaseAttributeKey === _HelmetConstants.TAG_PROPERTIES.REL && tag[lowerCaseAttributeKey].toLowerCase() === \"stylesheet\")) {\n          primaryAttributeKey = lowerCaseAttributeKey;\n        } // Special case for innerHTML which doesn't work lowercased\n\n\n        if (primaryAttributes.indexOf(attributeKey) !== -1 && (attributeKey === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attributeKey === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT || attributeKey === _HelmetConstants.TAG_PROPERTIES.ITEM_PROP)) {\n          primaryAttributeKey = attributeKey;\n        }\n      }\n\n      if (!primaryAttributeKey || !tag[primaryAttributeKey]) {\n        return false;\n      }\n\n      var value = tag[primaryAttributeKey].toLowerCase();\n\n      if (!approvedSeenTags[primaryAttributeKey]) {\n        approvedSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!instanceSeenTags[primaryAttributeKey]) {\n        instanceSeenTags[primaryAttributeKey] = {};\n      }\n\n      if (!approvedSeenTags[primaryAttributeKey][value]) {\n        instanceSeenTags[primaryAttributeKey][value] = true;\n        return true;\n      }\n\n      return false;\n    }).reverse().forEach(function (tag) {\n      return approvedTags.push(tag);\n    }); // Update seen tags with tags from this instance\n\n    var keys = Object.keys(instanceSeenTags);\n\n    for (var i = 0; i < keys.length; i++) {\n      var attributeKey = keys[i];\n      var tagUnion = (0, _objectAssign2.default)({}, approvedSeenTags[attributeKey], instanceSeenTags[attributeKey]);\n      approvedSeenTags[attributeKey] = tagUnion;\n    }\n\n    return approvedTags;\n  }, []).reverse();\n};\n\nvar getInnermostProperty = function getInnermostProperty(propsList, property) {\n  for (var i = propsList.length - 1; i >= 0; i--) {\n    var props = propsList[i];\n\n    if (props.hasOwnProperty(property)) {\n      return props[property];\n    }\n  }\n\n  return null;\n};\n\nvar reducePropsToState = function reducePropsToState(propsList) {\n  return {\n    baseTag: getBaseTagFromPropsList([_HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n    bodyAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.BODY, propsList),\n    defer: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.DEFER),\n    encode: getInnermostProperty(propsList, _HelmetConstants.HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),\n    htmlAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.HTML, propsList),\n    linkTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.LINK, [_HelmetConstants.TAG_PROPERTIES.REL, _HelmetConstants.TAG_PROPERTIES.HREF], propsList),\n    metaTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.META, [_HelmetConstants.TAG_PROPERTIES.NAME, _HelmetConstants.TAG_PROPERTIES.CHARSET, _HelmetConstants.TAG_PROPERTIES.HTTPEQUIV, _HelmetConstants.TAG_PROPERTIES.PROPERTY, _HelmetConstants.TAG_PROPERTIES.ITEM_PROP], propsList),\n    noscriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.NOSCRIPT, [_HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n    onChangeClientState: getOnChangeClientState(propsList),\n    scriptTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.SCRIPT, [_HelmetConstants.TAG_PROPERTIES.SRC, _HelmetConstants.TAG_PROPERTIES.INNER_HTML], propsList),\n    styleTags: getTagsFromPropsList(_HelmetConstants.TAG_NAMES.STYLE, [_HelmetConstants.TAG_PROPERTIES.CSS_TEXT], propsList),\n    title: getTitleFromPropsList(propsList),\n    titleAttributes: getAttributesFromPropsList(_HelmetConstants.ATTRIBUTE_NAMES.TITLE, propsList)\n  };\n};\n\nvar rafPolyfill = function () {\n  var clock = Date.now();\n  return function (callback) {\n    var currentTime = Date.now();\n\n    if (currentTime - clock > 16) {\n      clock = currentTime;\n      callback(currentTime);\n    } else {\n      setTimeout(function () {\n        rafPolyfill(callback);\n      }, 0);\n    }\n  };\n}();\n\nvar cafPolyfill = function cafPolyfill(id) {\n  return clearTimeout(id);\n};\n\nvar requestAnimationFrame = typeof window !== \"undefined\" ? window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || rafPolyfill : global.requestAnimationFrame || rafPolyfill;\nvar cancelAnimationFrame = typeof window !== \"undefined\" ? window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || cafPolyfill : global.cancelAnimationFrame || cafPolyfill;\n\nvar warn = function warn(msg) {\n  return console && typeof console.warn === \"function\" && console.warn(msg);\n};\n\nvar _helmetCallback = null;\n\nvar handleClientStateChange = function handleClientStateChange(newState) {\n  if (_helmetCallback) {\n    cancelAnimationFrame(_helmetCallback);\n  }\n\n  if (newState.defer) {\n    _helmetCallback = requestAnimationFrame(function () {\n      commitTagChanges(newState, function () {\n        _helmetCallback = null;\n      });\n    });\n  } else {\n    commitTagChanges(newState);\n    _helmetCallback = null;\n  }\n};\n\nvar commitTagChanges = function commitTagChanges(newState, cb) {\n  var baseTag = newState.baseTag,\n      bodyAttributes = newState.bodyAttributes,\n      htmlAttributes = newState.htmlAttributes,\n      linkTags = newState.linkTags,\n      metaTags = newState.metaTags,\n      noscriptTags = newState.noscriptTags,\n      onChangeClientState = newState.onChangeClientState,\n      scriptTags = newState.scriptTags,\n      styleTags = newState.styleTags,\n      title = newState.title,\n      titleAttributes = newState.titleAttributes;\n  updateAttributes(_HelmetConstants.TAG_NAMES.BODY, bodyAttributes);\n  updateAttributes(_HelmetConstants.TAG_NAMES.HTML, htmlAttributes);\n  updateTitle(title, titleAttributes);\n  var tagUpdates = {\n    baseTag: updateTags(_HelmetConstants.TAG_NAMES.BASE, baseTag),\n    linkTags: updateTags(_HelmetConstants.TAG_NAMES.LINK, linkTags),\n    metaTags: updateTags(_HelmetConstants.TAG_NAMES.META, metaTags),\n    noscriptTags: updateTags(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags),\n    scriptTags: updateTags(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags),\n    styleTags: updateTags(_HelmetConstants.TAG_NAMES.STYLE, styleTags)\n  };\n  var addedTags = {};\n  var removedTags = {};\n  Object.keys(tagUpdates).forEach(function (tagType) {\n    var _tagUpdates$tagType = tagUpdates[tagType],\n        newTags = _tagUpdates$tagType.newTags,\n        oldTags = _tagUpdates$tagType.oldTags;\n\n    if (newTags.length) {\n      addedTags[tagType] = newTags;\n    }\n\n    if (oldTags.length) {\n      removedTags[tagType] = tagUpdates[tagType].oldTags;\n    }\n  });\n  cb && cb();\n  onChangeClientState(newState, addedTags, removedTags);\n};\n\nvar flattenArray = function flattenArray(possibleArray) {\n  return Array.isArray(possibleArray) ? possibleArray.join(\"\") : possibleArray;\n};\n\nvar updateTitle = function updateTitle(title, attributes) {\n  if (typeof title !== \"undefined\" && document.title !== title) {\n    document.title = flattenArray(title);\n  }\n\n  updateAttributes(_HelmetConstants.TAG_NAMES.TITLE, attributes);\n};\n\nvar updateAttributes = function updateAttributes(tagName, attributes) {\n  var elementTag = document.getElementsByTagName(tagName)[0];\n\n  if (!elementTag) {\n    return;\n  }\n\n  var helmetAttributeString = elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n  var helmetAttributes = helmetAttributeString ? helmetAttributeString.split(\",\") : [];\n  var attributesToRemove = [].concat(helmetAttributes);\n  var attributeKeys = Object.keys(attributes);\n\n  for (var i = 0; i < attributeKeys.length; i++) {\n    var attribute = attributeKeys[i];\n    var value = attributes[attribute] || \"\";\n\n    if (elementTag.getAttribute(attribute) !== value) {\n      elementTag.setAttribute(attribute, value);\n    }\n\n    if (helmetAttributes.indexOf(attribute) === -1) {\n      helmetAttributes.push(attribute);\n    }\n\n    var indexToSave = attributesToRemove.indexOf(attribute);\n\n    if (indexToSave !== -1) {\n      attributesToRemove.splice(indexToSave, 1);\n    }\n  }\n\n  for (var _i = attributesToRemove.length - 1; _i >= 0; _i--) {\n    elementTag.removeAttribute(attributesToRemove[_i]);\n  }\n\n  if (helmetAttributes.length === attributesToRemove.length) {\n    elementTag.removeAttribute(_HelmetConstants.HELMET_ATTRIBUTE);\n  } else if (elementTag.getAttribute(_HelmetConstants.HELMET_ATTRIBUTE) !== attributeKeys.join(\",\")) {\n    elementTag.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, attributeKeys.join(\",\"));\n  }\n};\n\nvar updateTags = function updateTags(type, tags) {\n  var headElement = document.head || document.querySelector(_HelmetConstants.TAG_NAMES.HEAD);\n  var tagNodes = headElement.querySelectorAll(type + \"[\" + _HelmetConstants.HELMET_ATTRIBUTE + \"]\");\n  var oldTags = Array.prototype.slice.call(tagNodes);\n  var newTags = [];\n  var indexToDelete = void 0;\n\n  if (tags && tags.length) {\n    tags.forEach(function (tag) {\n      var newElement = document.createElement(type);\n\n      for (var attribute in tag) {\n        if (tag.hasOwnProperty(attribute)) {\n          if (attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML) {\n            newElement.innerHTML = tag.innerHTML;\n          } else if (attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n            if (newElement.styleSheet) {\n              newElement.styleSheet.cssText = tag.cssText;\n            } else {\n              newElement.appendChild(document.createTextNode(tag.cssText));\n            }\n          } else {\n            var value = typeof tag[attribute] === \"undefined\" ? \"\" : tag[attribute];\n            newElement.setAttribute(attribute, value);\n          }\n        }\n      }\n\n      newElement.setAttribute(_HelmetConstants.HELMET_ATTRIBUTE, \"true\"); // Remove a duplicate tag from domTagstoRemove, so it isn't cleared.\n\n      if (oldTags.some(function (existingTag, index) {\n        indexToDelete = index;\n        return newElement.isEqualNode(existingTag);\n      })) {\n        oldTags.splice(indexToDelete, 1);\n      } else {\n        newTags.push(newElement);\n      }\n    });\n  }\n\n  oldTags.forEach(function (tag) {\n    return tag.parentNode.removeChild(tag);\n  });\n  newTags.forEach(function (tag) {\n    return headElement.appendChild(tag);\n  });\n  return {\n    oldTags: oldTags,\n    newTags: newTags\n  };\n};\n\nvar generateElementAttributesAsString = function generateElementAttributesAsString(attributes) {\n  return Object.keys(attributes).reduce(function (str, key) {\n    var attr = typeof attributes[key] !== \"undefined\" ? key + \"=\\\"\" + attributes[key] + \"\\\"\" : \"\" + key;\n    return str ? str + \" \" + attr : attr;\n  }, \"\");\n};\n\nvar generateTitleAsString = function generateTitleAsString(type, title, attributes, encode) {\n  var attributeString = generateElementAttributesAsString(attributes);\n  var flattenedTitle = flattenArray(title);\n  return attributeString ? \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeString + \">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\" : \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\">\" + encodeSpecialCharacters(flattenedTitle, encode) + \"</\" + type + \">\";\n};\n\nvar generateTagsAsString = function generateTagsAsString(type, tags, encode) {\n  return tags.reduce(function (str, tag) {\n    var attributeHtml = Object.keys(tag).filter(function (attribute) {\n      return !(attribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || attribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT);\n    }).reduce(function (string, attribute) {\n      var attr = typeof tag[attribute] === \"undefined\" ? attribute : attribute + \"=\\\"\" + encodeSpecialCharacters(tag[attribute], encode) + \"\\\"\";\n      return string ? string + \" \" + attr : attr;\n    }, \"\");\n    var tagContent = tag.innerHTML || tag.cssText || \"\";\n    var isSelfClosing = _HelmetConstants.SELF_CLOSING_TAGS.indexOf(type) === -1;\n    return str + \"<\" + type + \" \" + _HelmetConstants.HELMET_ATTRIBUTE + \"=\\\"true\\\" \" + attributeHtml + (isSelfClosing ? \"/>\" : \">\" + tagContent + \"</\" + type + \">\");\n  }, \"\");\n};\n\nvar convertElementAttributestoReactProps = function convertElementAttributestoReactProps(attributes) {\n  var initProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(attributes).reduce(function (obj, key) {\n    obj[_HelmetConstants.REACT_TAG_MAP[key] || key] = attributes[key];\n    return obj;\n  }, initProps);\n};\n\nvar convertReactPropstoHtmlAttributes = function convertReactPropstoHtmlAttributes(props) {\n  var initAttributes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.keys(props).reduce(function (obj, key) {\n    obj[_HelmetConstants.HTML_TAG_MAP[key] || key] = props[key];\n    return obj;\n  }, initAttributes);\n};\n\nvar generateTitleAsReactComponent = function generateTitleAsReactComponent(type, title, attributes) {\n  var _initProps; // assigning into an array to define toString function on it\n\n\n  var initProps = (_initProps = {\n    key: title\n  }, _initProps[_HelmetConstants.HELMET_ATTRIBUTE] = true, _initProps);\n  var props = convertElementAttributestoReactProps(attributes, initProps);\n  return [_react2.default.createElement(_HelmetConstants.TAG_NAMES.TITLE, props, title)];\n};\n\nvar generateTagsAsReactComponent = function generateTagsAsReactComponent(type, tags) {\n  return tags.map(function (tag, i) {\n    var _mappedTag;\n\n    var mappedTag = (_mappedTag = {\n      key: i\n    }, _mappedTag[_HelmetConstants.HELMET_ATTRIBUTE] = true, _mappedTag);\n    Object.keys(tag).forEach(function (attribute) {\n      var mappedAttribute = _HelmetConstants.REACT_TAG_MAP[attribute] || attribute;\n\n      if (mappedAttribute === _HelmetConstants.TAG_PROPERTIES.INNER_HTML || mappedAttribute === _HelmetConstants.TAG_PROPERTIES.CSS_TEXT) {\n        var content = tag.innerHTML || tag.cssText;\n        mappedTag.dangerouslySetInnerHTML = {\n          __html: content\n        };\n      } else {\n        mappedTag[mappedAttribute] = tag[attribute];\n      }\n    });\n    return _react2.default.createElement(type, mappedTag);\n  });\n};\n\nvar getMethodsForTag = function getMethodsForTag(type, tags, encode) {\n  switch (type) {\n    case _HelmetConstants.TAG_NAMES.TITLE:\n      return {\n        toComponent: function toComponent() {\n          return generateTitleAsReactComponent(type, tags.title, tags.titleAttributes, encode);\n        },\n        toString: function toString() {\n          return generateTitleAsString(type, tags.title, tags.titleAttributes, encode);\n        }\n      };\n\n    case _HelmetConstants.ATTRIBUTE_NAMES.BODY:\n    case _HelmetConstants.ATTRIBUTE_NAMES.HTML:\n      return {\n        toComponent: function toComponent() {\n          return convertElementAttributestoReactProps(tags);\n        },\n        toString: function toString() {\n          return generateElementAttributesAsString(tags);\n        }\n      };\n\n    default:\n      return {\n        toComponent: function toComponent() {\n          return generateTagsAsReactComponent(type, tags);\n        },\n        toString: function toString() {\n          return generateTagsAsString(type, tags, encode);\n        }\n      };\n  }\n};\n\nvar mapStateOnServer = function mapStateOnServer(_ref) {\n  var baseTag = _ref.baseTag,\n      bodyAttributes = _ref.bodyAttributes,\n      encode = _ref.encode,\n      htmlAttributes = _ref.htmlAttributes,\n      linkTags = _ref.linkTags,\n      metaTags = _ref.metaTags,\n      noscriptTags = _ref.noscriptTags,\n      scriptTags = _ref.scriptTags,\n      styleTags = _ref.styleTags,\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? \"\" : _ref$title,\n      titleAttributes = _ref.titleAttributes;\n  return {\n    base: getMethodsForTag(_HelmetConstants.TAG_NAMES.BASE, baseTag, encode),\n    bodyAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.BODY, bodyAttributes, encode),\n    htmlAttributes: getMethodsForTag(_HelmetConstants.ATTRIBUTE_NAMES.HTML, htmlAttributes, encode),\n    link: getMethodsForTag(_HelmetConstants.TAG_NAMES.LINK, linkTags, encode),\n    meta: getMethodsForTag(_HelmetConstants.TAG_NAMES.META, metaTags, encode),\n    noscript: getMethodsForTag(_HelmetConstants.TAG_NAMES.NOSCRIPT, noscriptTags, encode),\n    script: getMethodsForTag(_HelmetConstants.TAG_NAMES.SCRIPT, scriptTags, encode),\n    style: getMethodsForTag(_HelmetConstants.TAG_NAMES.STYLE, styleTags, encode),\n    title: getMethodsForTag(_HelmetConstants.TAG_NAMES.TITLE, {\n      title: title,\n      titleAttributes: titleAttributes\n    }, encode)\n  };\n};\n\nexports.convertReactPropstoHtmlAttributes = convertReactPropstoHtmlAttributes;\nexports.handleClientStateChange = handleClientStateChange;\nexports.mapStateOnServer = mapStateOnServer;\nexports.reducePropsToState = reducePropsToState;\nexports.requestAnimationFrame = requestAnimationFrame;\nexports.warn = warn;","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? Object(arguments[i]) : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","module.exports = {\"privacy\":{\"items\":[{\"title\":\"Privacy Policy\",\"to\":\"https://scandipwa.com/privacy.html\",\"external\":true},{\"title\":\"Cookie Policy\",\"to\":\"https://scandipwa.com/cookies.html\",\"external\":true},{\"title\":\"Terms of Service\",\"to\":\"https://scandipwa.com/terms.html\",\"external\":true}]}}","'use strict';\n\nfunction compareAscending(value, other) {\n  if (value !== other) {\n    var valIsDefined = value !== undefined;\n    var valIsNull = value === null;\n    var othIsDefined = other !== undefined;\n    var othIsNull = other === null;\n\n    if (!othIsNull && value > other || valIsNull && othIsDefined || !valIsDefined) {\n      return 1;\n    }\n\n    if (!valIsNull && value < other || othIsNull && valIsDefined || !othIsDefined) {\n      return -1;\n    }\n  }\n\n  return 0;\n}\n/**\n * @param {Array<object>} collection object with keys in attributes\n * @param {Array<string>} iteratees attributes\n * @param {Array<string>} orders asc | desc\n */\n\n\nfunction orderBy(collection, iteratees, orders) {\n  if (!Array.isArray(collection)) {\n    return [];\n  }\n\n  if (!Array.isArray(orders)) {\n    orders = [];\n  }\n\n  var result = collection.map(function (value, index) {\n    return {\n      criteria: iteratees.map(function (iteratee) {\n        return value[iteratee];\n      }),\n      index: index,\n      value: value\n    };\n  });\n  result.sort(function comparer(object, other) {\n    var index = -1;\n\n    while (++index < object.criteria.length) {\n      var res = compareAscending(object.criteria[index], other.criteria[index]);\n\n      if (res) {\n        if (index >= orders.length) {\n          return res;\n        }\n\n        if (orders[index] === 'desc') {\n          return -res;\n        }\n\n        return res;\n      }\n    } // This ensures a stable sort in V8 and other engines.\n    // See https://bugs.chromium.org/p/v8/issues/detail?id=90 for more details.\n\n\n    return object.index - other.index;\n  });\n  return result.map(function (res) {\n    return res.value;\n  });\n}\n\nmodule.exports = orderBy;","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport patchDOMForGoogleTranslate from 'utils/patchDOMForGoogleTranslate';\nimport React, {Component} from 'react';\nimport Flex from 'components/Flex';\nimport Footer from 'components/LayoutFooter';\nimport Header from 'components/LayoutHeader';\nimport {media} from 'theme';\n\npatchDOMForGoogleTranslate();\n\ntype Props = {\n  children: Function,\n  location: Location,\n};\n\nclass Template extends Component<Props> {\n  render() {\n    const {children, location} = this.props;\n\n    // TODO - is there a better way to check if we need we have a sidebar?\n    let layoutHasSidebar = false;\n    if (\n      location.pathname.match(\n        /^\\/(docs)/,\n      )\n    ) {\n      layoutHasSidebar = true;\n    }\n\n    return (\n      <div\n        css={{\n          display: 'flex',\n          flexDirection: 'column',\n          minHeight: 'calc(100vh - 40px)',\n        }}>\n        <Header location={location} />\n        <Flex\n          direction=\"column\"\n          shrink=\"0\"\n          grow=\"1\"\n          valign=\"stretch\"\n          css={{\n            flex: '1 0 auto',\n            marginTop: 60,\n            [media.between('medium', 'large')]: {\n              marginTop: 50,\n            },\n            [media.lessThan('medium')]: {\n              marginTop: 40,\n            },\n          }}>\n          {children}\n        </Flex>\n        <Footer layoutHasSidebar={layoutHasSidebar} />\n      </div>\n    );\n  }\n}\n\nexport default Template;\n","/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * @emails react-core\n * @flow\n */\n\nimport React from 'react';\nimport {colors} from 'theme';\nimport ExternalLinkSvg from 'templates/components/ExternalLinkSvg';\n\nimport type {Node} from 'react';\n\ntype Props = {\n  children: Node,\n  href: string,\n  target?: string,\n  rel?: string,\n};\n\nconst ExternalFooterLink = ({children, href, target, rel}: Props) => (\n  <a\n    css={{\n      lineHeight: 2,\n      marginRight: 20,\n      ':hover': {\n        color: colors.brand,\n      },\n    }}\n    href={href}\n    target={target}\n    rel={rel}>\n    {children}\n    <ExternalLinkSvg\n      cssProps={{\n        verticalAlign: -2,\n        display: 'inline-block',\n        marginLeft: 5,\n        color: colors.subtle,\n      }}\n    />\n  </a>\n);\n\nexport default ExternalFooterLink;\n"],"sourceRoot":""}